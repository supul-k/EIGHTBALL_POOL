// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var wa;"use strict";var Ba=this;
function Da(d){function b(k,m,u){var z=m[0],B=m[1],C=m[2];m=m[3];var G=u[0],I=u[1],K=u[2];u=u[3];k[0]=z*G+C*I;k[1]=B*G+m*I;k[2]=z*K+C*u;k[3]=B*K+m*u;return k}function a(k,m,u){k[0]=m[0]-u[0];k[1]=m[1]-u[1];k[2]=m[2]-u[2];k[3]=m[3]-u[3];return k}function f(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=m[4];m=m[5];var K=u[0],N=u[1],Q=u[2],R=u[3],Y=u[4];u=u[5];k[0]=z*K+C*N;k[1]=B*K+G*N;k[2]=z*Q+C*R;k[3]=B*Q+G*R;k[4]=z*Y+C*u+I;k[5]=B*Y+G*u+m;return k}function c(k,m,u){k[0]=m[0]-u[0];k[1]=m[1]-u[1];k[2]=m[2]-
u[2];k[3]=m[3]-u[3];k[4]=m[4]-u[4];k[5]=m[5]-u[5];return k}function e(){var k=new oa(9);oa!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[5]=0,k[6]=0,k[7]=0);k[0]=1;k[4]=1;k[8]=1;return k}function h(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7];m=m[8];var R=u[0],Y=u[1],U=u[2],da=u[3],ca=u[4],Z=u[5],sa=u[6],ma=u[7];u=u[8];k[0]=R*z+Y*G+U*N;k[1]=R*B+Y*I+U*Q;k[2]=R*C+Y*K+U*m;k[3]=da*z+ca*G+Z*N;k[4]=da*B+ca*I+Z*Q;k[5]=da*C+ca*K+Z*m;k[6]=sa*z+ma*G+u*N;k[7]=sa*B+ma*I+u*Q;k[8]=sa*C+ma*K+u*m;
return k}function g(k,m,u){k[0]=m[0]-u[0];k[1]=m[1]-u[1];k[2]=m[2]-u[2];k[3]=m[3]-u[3];k[4]=m[4]-u[4];k[5]=m[5]-u[5];k[6]=m[6]-u[6];k[7]=m[7]-u[7];k[8]=m[8]-u[8];return k}function l(k){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k}function n(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=m[8],Y=m[9],U=m[10],da=m[11],ca=m[12],Z=m[13],sa=m[14];m=m[15];var ma=u[0],qa=u[1],ra=u[2],pa=u[3];k[0]=ma*z+
qa*I+ra*R+pa*ca;k[1]=ma*B+qa*K+ra*Y+pa*Z;k[2]=ma*C+qa*N+ra*U+pa*sa;k[3]=ma*G+qa*Q+ra*da+pa*m;ma=u[4];qa=u[5];ra=u[6];pa=u[7];k[4]=ma*z+qa*I+ra*R+pa*ca;k[5]=ma*B+qa*K+ra*Y+pa*Z;k[6]=ma*C+qa*N+ra*U+pa*sa;k[7]=ma*G+qa*Q+ra*da+pa*m;ma=u[8];qa=u[9];ra=u[10];pa=u[11];k[8]=ma*z+qa*I+ra*R+pa*ca;k[9]=ma*B+qa*K+ra*Y+pa*Z;k[10]=ma*C+qa*N+ra*U+pa*sa;k[11]=ma*G+qa*Q+ra*da+pa*m;ma=u[12];qa=u[13];ra=u[14];pa=u[15];k[12]=ma*z+qa*I+ra*R+pa*ca;k[13]=ma*B+qa*K+ra*Y+pa*Z;k[14]=ma*C+qa*N+ra*U+pa*sa;k[15]=ma*G+qa*Q+ra*
da+pa*m;return k}function p(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=z+z,K=B+B,N=C+C;m=z*I;var Q=z*K;z*=N;var R=B*K;B*=N;C*=N;I*=G;K*=G;G*=N;k[0]=1-(R+C);k[1]=Q+G;k[2]=z-K;k[3]=0;k[4]=Q-G;k[5]=1-(m+C);k[6]=B+I;k[7]=0;k[8]=z+K;k[9]=B-I;k[10]=1-(m+R);k[11]=0;k[12]=u[0];k[13]=u[1];k[14]=u[2];k[15]=1;return k}function q(k,m){k[0]=m[12];k[1]=m[13];k[2]=m[14];return k}function r(k,m){var u=m[4],z=m[5],B=m[6],C=m[8],G=m[9],I=m[10];k[0]=Math.hypot(m[0],m[1],m[2]);k[1]=Math.hypot(u,z,B);k[2]=Math.hypot(C,
G,I);return k}function x(k,m){var u=new oa(3);r(u,m);var z=1/u[0],B=1/u[1],C=1/u[2],G=m[0]*z;u=m[1]*B;var I=m[2]*C,K=m[4]*z,N=m[5]*B,Q=m[6]*C;z*=m[8];B*=m[9];m=m[10]*C;C=G+N+m;0<C?(G=2*Math.sqrt(C+1),k[3]=.25*G,k[0]=(Q-B)/G,k[1]=(z-I)/G,k[2]=(u-K)/G):G>N&&G>m?(G=2*Math.sqrt(1+G-N-m),k[3]=(Q-B)/G,k[0]=.25*G,k[1]=(u+K)/G,k[2]=(z+I)/G):N>m?(G=2*Math.sqrt(1+N-G-m),k[3]=(z-I)/G,k[0]=(u+K)/G,k[1]=.25*G,k[2]=(Q+B)/G):(G=2*Math.sqrt(1+m-G-N),k[3]=(u-K)/G,k[0]=(z+I)/G,k[1]=(Q+B)/G,k[2]=.25*G);return k}function w(k,
m,u){k[0]=m[0]-u[0];k[1]=m[1]-u[1];k[2]=m[2]-u[2];k[3]=m[3]-u[3];k[4]=m[4]-u[4];k[5]=m[5]-u[5];k[6]=m[6]-u[6];k[7]=m[7]-u[7];k[8]=m[8]-u[8];k[9]=m[9]-u[9];k[10]=m[10]-u[10];k[11]=m[11]-u[11];k[12]=m[12]-u[12];k[13]=m[13]-u[13];k[14]=m[14]-u[14];k[15]=m[15]-u[15];return k}function v(){var k=new oa(3);oa!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0);return k}function t(k){return Math.hypot(k[0],k[1],k[2])}function A(k,m,u){var z=new oa(3);z[0]=k;z[1]=m;z[2]=u;return z}function y(k,m,u){k[0]=m[0]-u[0];k[1]=
m[1]-u[1];k[2]=m[2]-u[2];return k}function E(k,m,u){k[0]=m[0]*u[0];k[1]=m[1]*u[1];k[2]=m[2]*u[2];return k}function F(k,m,u){k[0]=m[0]/u[0];k[1]=m[1]/u[1];k[2]=m[2]/u[2];return k}function H(k,m){return Math.hypot(m[0]-k[0],m[1]-k[1],m[2]-k[2])}function J(k,m){var u=m[0]-k[0],z=m[1]-k[1];k=m[2]-k[2];return u*u+z*z+k*k}function M(k){var m=k[0],u=k[1];k=k[2];return m*m+u*u+k*k}function P(k,m){var u=m[0],z=m[1],B=m[2];u=u*u+z*z+B*B;0<u&&(u=1/Math.sqrt(u));k[0]=m[0]*u;k[1]=m[1]*u;k[2]=m[2]*u;return k}function S(k,
m){return k[0]*m[0]+k[1]*m[1]+k[2]*m[2]}function T(k,m,u){var z=m[0],B=m[1];m=m[2];var C=u[0],G=u[1];u=u[2];k[0]=B*u-m*G;k[1]=m*C-z*u;k[2]=z*G-B*C;return k}function V(){var k=new oa(4);oa!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[3]=0);return k}function ba(k){var m=new oa(4);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];return m}function ea(k,m,u,z){var B=new oa(4);B[0]=k;B[1]=m;B[2]=u;B[3]=z;return B}function X(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];return k}function na(k,m,u,z,B){k[0]=m;k[1]=u;k[2]=
z;k[3]=B;return k}function ja(k,m,u){k[0]=m[0]+u[0];k[1]=m[1]+u[1];k[2]=m[2]+u[2];k[3]=m[3]+u[3];return k}function xa(k,m,u){k[0]=m[0]-u[0];k[1]=m[1]-u[1];k[2]=m[2]-u[2];k[3]=m[3]-u[3];return k}function Ja(k,m,u){k[0]=m[0]*u[0];k[1]=m[1]*u[1];k[2]=m[2]*u[2];k[3]=m[3]*u[3];return k}function Va(k,m,u){k[0]=m[0]/u[0];k[1]=m[1]/u[1];k[2]=m[2]/u[2];k[3]=m[3]/u[3];return k}function Na(k,m,u){k[0]=m[0]*u;k[1]=m[1]*u;k[2]=m[2]*u;k[3]=m[3]*u;return k}function Wa(k,m){return Math.hypot(m[0]-k[0],m[1]-k[1],
m[2]-k[2],m[3]-k[3])}function Oa(k,m){var u=m[0]-k[0],z=m[1]-k[1],B=m[2]-k[2];k=m[3]-k[3];return u*u+z*z+B*B+k*k}function Ca(k){return Math.hypot(k[0],k[1],k[2],k[3])}function Aa(k){var m=k[0],u=k[1],z=k[2];k=k[3];return m*m+u*u+z*z+k*k}function Ka(k,m){var u=m[0],z=m[1],B=m[2];m=m[3];var C=u*u+z*z+B*B+m*m;0<C&&(C=1/Math.sqrt(C));k[0]=u*C;k[1]=z*C;k[2]=B*C;k[3]=m*C;return k}function Ha(k,m){return k[0]*m[0]+k[1]*m[1]+k[2]*m[2]+k[3]*m[3]}function Xa(k,m,u,z){var B=m[0],C=m[1],G=m[2];m=m[3];k[0]=B+
z*(u[0]-B);k[1]=C+z*(u[1]-C);k[2]=G+z*(u[2]-G);k[3]=m+z*(u[3]-m);return k}function Ya(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]}function Za(k,m){var u=k[0],z=k[1],B=k[2];k=k[3];var C=m[0],G=m[1],I=m[2];m=m[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(z-G)<=1E-6*Math.max(1,Math.abs(z),Math.abs(G))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))}function La(){var k=new oa(4);oa!=Float32Array&&
(k[0]=0,k[1]=0,k[2]=0);k[3]=1;return k}function $a(k,m,u){u*=.5;var z=Math.sin(u);k[0]=z*m[0];k[1]=z*m[1];k[2]=z*m[2];k[3]=Math.cos(u);return k}function ab(k,m,u){var z=m[0],B=m[1],C=m[2];m=m[3];var G=u[0],I=u[1],K=u[2];u=u[3];k[0]=z*u+m*G+B*K-C*I;k[1]=B*u+m*I+C*G-z*K;k[2]=C*u+m*K+z*I-B*G;k[3]=m*u-z*G-B*I-C*K;return k}function bb(k,m,u){u*=.5;var z=m[0],B=m[1],C=m[2];m=m[3];var G=Math.sin(u);u=Math.cos(u);k[0]=z*u+m*G;k[1]=B*u+C*G;k[2]=C*u-B*G;k[3]=m*u-z*G;return k}function cb(k,m,u){u*=.5;var z=
m[0],B=m[1],C=m[2];m=m[3];var G=Math.sin(u);u=Math.cos(u);k[0]=z*u-C*G;k[1]=B*u+m*G;k[2]=C*u+z*G;k[3]=m*u-B*G;return k}function db(k,m,u){u*=.5;var z=m[0],B=m[1],C=m[2];m=m[3];var G=Math.sin(u);u=Math.cos(u);k[0]=z*u+B*G;k[1]=B*u-z*G;k[2]=C*u+m*G;k[3]=m*u-C*G;return k}function eb(k,m){var u=m[0],z=m[1],B=m[2],C=Math.sqrt(u*u+z*z+B*B);m=Math.exp(m[3]);var G=0<C?m*Math.sin(C)/C:0;k[0]=u*G;k[1]=z*G;k[2]=B*G;k[3]=m*Math.cos(C);return k}function fb(k,m){var u=m[0],z=m[1],B=m[2];m=m[3];var C=Math.sqrt(u*
u+z*z+B*B);C=0<C?Math.atan2(C,m)/C:0;k[0]=u*C;k[1]=z*C;k[2]=B*C;k[3]=.5*Math.log(u*u+z*z+B*B+m*m);return k}function Ma(k,m,u,z){var B=m[0],C=m[1],G=m[2];m=m[3];var I=u[0],K=u[1],N=u[2];u=u[3];var Q=B*I+C*K+G*N+m*u;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,u=-u);if(1E-6<1-Q){var R=Math.acos(Q);var Y=Math.sin(R);Q=Math.sin((1-z)*R)/Y;z=Math.sin(z*R)/Y}else Q=1-z;k[0]=Q*B+z*I;k[1]=Q*C+z*K;k[2]=Q*G+z*N;k[3]=Q*m+z*u;return k}function gb(k,m){var u=m[0]+m[4]+m[8];if(0<u)u=Math.sqrt(u+1),k[3]=.5*u,u=.5/u,k[0]=(m[5]-m[7])*
u,k[1]=(m[6]-m[2])*u,k[2]=(m[1]-m[3])*u;else{var z=0;m[4]>m[0]&&(z=1);m[8]>m[3*z+z]&&(z=2);var B=(z+1)%3,C=(z+2)%3;u=Math.sqrt(m[3*z+z]-m[3*B+B]-m[3*C+C]+1);k[z]=.5*u;u=.5/u;k[3]=(m[3*B+C]-m[3*C+B])*u;k[B]=(m[3*B+z]+m[3*z+B])*u;k[C]=(m[3*C+z]+m[3*z+C])*u}return k}function hb(k,m,u){var z=.5*u[0],B=.5*u[1];u=.5*u[2];var C=m[0],G=m[1],I=m[2];m=m[3];k[0]=C;k[1]=G;k[2]=I;k[3]=m;k[4]=z*m+B*I-u*G;k[5]=B*m+u*C-z*I;k[6]=u*m+z*G-B*C;k[7]=-z*C-B*G-u*I;return k}function ib(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];
k[3]=m[3];k[4]=m[4];k[5]=m[5];k[6]=m[6];k[7]=m[7];return k}function jb(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=u[4],K=u[5],N=u[6],Q=u[7],R=m[4],Y=m[5],U=m[6];m=m[7];var da=u[0],ca=u[1],Z=u[2];u=u[3];k[0]=z*u+G*da+B*Z-C*ca;k[1]=B*u+G*ca+C*da-z*Z;k[2]=C*u+G*Z+z*ca-B*da;k[3]=G*u-z*da-B*ca-C*Z;k[4]=z*Q+G*I+B*N-C*K+R*u+m*da+Y*Z-U*ca;k[5]=B*Q+G*K+C*I-z*N+Y*u+m*ca+U*da-R*Z;k[6]=C*Q+G*N+z*K-B*I+U*u+m*Z+R*ca-Y*da;k[7]=G*Q-z*I-B*K-C*N+m*u-R*da-Y*ca-U*Z;return k}function kb(){var k=new oa(2);oa!=Float32Array&&
(k[0]=0,k[1]=0);return k}function lb(k,m,u){k[0]=m[0]-u[0];k[1]=m[1]-u[1];return k}function mb(k,m,u){k[0]=m[0]*u[0];k[1]=m[1]*u[1];return k}function nb(k,m,u){k[0]=m[0]/u[0];k[1]=m[1]/u[1];return k}function ob(k,m){return Math.hypot(m[0]-k[0],m[1]-k[1])}function pb(k,m){var u=m[0]-k[0];k=m[1]-k[1];return u*u+k*k}function qb(k){return Math.hypot(k[0],k[1])}function rb(k){var m=k[0];k=k[1];return m*m+k*k}var oa="undefined"!==typeof Float32Array?Float32Array:Array,ya=Math.random,vb=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var k=0,m=arguments.length;m--;)k+=arguments[m]*arguments[m];return Math.sqrt(k)});var wb=Object.freeze({__proto__:null,EPSILON:1E-6,get Sja(){return oa},Mra:ya,qza:function(k){oa=k},Aza:function(k){return k*vb},jd:function(k,m){return Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))}}),xb=Object.freeze({__proto__:null,create:function(){var k=new oa(4);oa!=Float32Array&&(k[1]=0,k[2]=0);k[0]=1;k[3]=1;return k},clone:function(k){var m=new oa(4);m[0]=k[0];m[1]=k[1];
m[2]=k[2];m[3]=k[3];return m},Ka:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];return k},Cy:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k},jg:function(k,m,u,z){var B=new oa(4);B[0]=k;B[1]=m;B[2]=u;B[3]=z;return B},set:function(k,m,u,z,B){k[0]=m;k[1]=u;k[2]=z;k[3]=B;return k},rY:function(k,m){if(k===m){var u=m[1];k[1]=m[2];k[2]=u}else k[0]=m[0],k[1]=m[2],k[2]=m[1],k[3]=m[3];return k},xu:function(k,m){var u=m[0],z=m[1],B=m[2];m=m[3];var C=u*m-B*z;if(!C)return null;C=1/C;k[0]=m*C;k[1]=-z*
C;k[2]=-B*C;k[3]=u*C;return k},wX:function(k,m){var u=m[0];k[0]=m[3];k[1]=-m[1];k[2]=-m[2];k[3]=u;return k},aM:function(k){return k[0]*k[3]-k[2]*k[1]},multiply:b,rotate:function(k,m,u){var z=m[0],B=m[1],C=m[2];m=m[3];var G=Math.sin(u);u=Math.cos(u);k[0]=z*u+C*G;k[1]=B*u+m*G;k[2]=z*-G+C*u;k[3]=B*-G+m*u;return k},scale:function(k,m,u){var z=m[1],B=m[2],C=m[3],G=u[0];u=u[1];k[0]=m[0]*G;k[1]=z*G;k[2]=B*u;k[3]=C*u;return k},aE:function(k,m){var u=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=u;k[2]=-u;k[3]=m;
return k},eM:function(k,m){k[0]=m[0];k[1]=0;k[2]=0;k[3]=m[1];return k},pn:function(k){return"mat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},dM:function(k){return Math.hypot(k[0],k[1],k[2],k[3])},Ipa:function(k,m,u,z){k[2]=z[2]/z[0];u[0]=z[0];u[1]=z[1];u[3]=z[3]-k[2]*u[1];return[k,m,u]},add:function(k,m,u){k[0]=m[0]+u[0];k[1]=m[1]+u[1];k[2]=m[2]+u[2];k[3]=m[3]+u[3];return k},qn:a,hk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]},jd:function(k,m){var u=k[0],z=k[1],B=k[2];k=
k[3];var C=m[0],G=m[1],I=m[2];m=m[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(z-G)<=1E-6*Math.max(1,Math.abs(z),Math.abs(G))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},tM:function(k,m,u){k[0]=m[0]*u;k[1]=m[1]*u;k[2]=m[2]*u;k[3]=m[3]*u;return k},uM:function(k,m,u,z){k[0]=m[0]+u[0]*z;k[1]=m[1]+u[1]*z;k[2]=m[2]+u[2]*z;k[3]=m[3]+u[3]*z;return k},kp:b,sub:a}),yb=Object.freeze({__proto__:null,create:function(){var k=
new oa(6);oa!=Float32Array&&(k[1]=0,k[2]=0,k[4]=0,k[5]=0);k[0]=1;k[3]=1;return k},clone:function(k){var m=new oa(6);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];return m},Ka:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=m[4];k[5]=m[5];return k},Cy:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;k[4]=0;k[5]=0;return k},jg:function(k,m,u,z,B,C){var G=new oa(6);G[0]=k;G[1]=m;G[2]=u;G[3]=z;G[4]=B;G[5]=C;return G},set:function(k,m,u,z,B,C,G){k[0]=m;k[1]=u;k[2]=z;k[3]=B;k[4]=C;k[5]=
G;return k},xu:function(k,m){var u=m[0],z=m[1],B=m[2],C=m[3],G=m[4];m=m[5];var I=u*C-z*B;if(!I)return null;I=1/I;k[0]=C*I;k[1]=-z*I;k[2]=-B*I;k[3]=u*I;k[4]=(B*m-C*G)*I;k[5]=(z*G-u*m)*I;return k},aM:function(k){return k[0]*k[3]-k[1]*k[2]},multiply:f,rotate:function(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=m[4];m=m[5];var K=Math.sin(u);u=Math.cos(u);k[0]=z*u+C*K;k[1]=B*u+G*K;k[2]=z*-K+C*u;k[3]=B*-K+G*u;k[4]=I;k[5]=m;return k},scale:function(k,m,u){var z=m[1],B=m[2],C=m[3],G=m[4],I=m[5],K=u[0];u=u[1];
k[0]=m[0]*K;k[1]=z*K;k[2]=B*u;k[3]=C*u;k[4]=G;k[5]=I;return k},translate:function(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=m[4];m=m[5];var K=u[0];u=u[1];k[0]=z;k[1]=B;k[2]=C;k[3]=G;k[4]=z*K+C*u+I;k[5]=B*K+G*u+m;return k},aE:function(k,m){var u=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=u;k[2]=-u;k[3]=m;k[4]=0;k[5]=0;return k},eM:function(k,m){k[0]=m[0];k[1]=0;k[2]=0;k[3]=m[1];k[4]=0;k[5]=0;return k},fM:function(k,m){k[0]=1;k[1]=0;k[2]=0;k[3]=1;k[4]=m[0];k[5]=m[1];return k},pn:function(k){return"mat2d("+
k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+")"},dM:function(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],1)},add:function(k,m,u){k[0]=m[0]+u[0];k[1]=m[1]+u[1];k[2]=m[2]+u[2];k[3]=m[3]+u[3];k[4]=m[4]+u[4];k[5]=m[5]+u[5];return k},qn:c,tM:function(k,m,u){k[0]=m[0]*u;k[1]=m[1]*u;k[2]=m[2]*u;k[3]=m[3]*u;k[4]=m[4]*u;k[5]=m[5]*u;return k},uM:function(k,m,u,z){k[0]=m[0]+u[0]*z;k[1]=m[1]+u[1]*z;k[2]=m[2]+u[2]*z;k[3]=m[3]+u[3]*z;k[4]=m[4]+u[4]*z;k[5]=m[5]+u[5]*z;return k},hk:function(k,m){return k[0]===
m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]&&k[4]===m[4]&&k[5]===m[5]},jd:function(k,m){var u=k[0],z=k[1],B=k[2],C=k[3],G=k[4];k=k[5];var I=m[0],K=m[1],N=m[2],Q=m[3],R=m[4];m=m[5];return Math.abs(u-I)<=1E-6*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(z-K)<=1E-6*Math.max(1,Math.abs(z),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),Math.abs(N))&&Math.abs(C-Q)<=1E-6*Math.max(1,Math.abs(C),Math.abs(Q))&&Math.abs(G-R)<=1E-6*Math.max(1,Math.abs(G),Math.abs(R))&&Math.abs(k-m)<=1E-6*Math.max(1,
Math.abs(k),Math.abs(m))},kp:f,sub:c}),zb=Object.freeze({__proto__:null,create:e,kia:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[4];k[4]=m[5];k[5]=m[6];k[6]=m[8];k[7]=m[9];k[8]=m[10];return k},clone:function(k){var m=new oa(9);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];m[6]=k[6];m[7]=k[7];m[8]=k[8];return m},Ka:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=m[4];k[5]=m[5];k[6]=m[6];k[7]=m[7];k[8]=m[8];return k},jg:function(k,m,u,z,B,C,G,I,K){var N=new oa(9);N[0]=
k;N[1]=m;N[2]=u;N[3]=z;N[4]=B;N[5]=C;N[6]=G;N[7]=I;N[8]=K;return N},set:function(k,m,u,z,B,C,G,I,K,N){k[0]=m;k[1]=u;k[2]=z;k[3]=B;k[4]=C;k[5]=G;k[6]=I;k[7]=K;k[8]=N;return k},Cy:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=1;k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},rY:function(k,m){if(k===m){var u=m[1],z=m[2],B=m[5];k[1]=m[3];k[2]=m[6];k[3]=u;k[5]=m[7];k[6]=z;k[7]=B}else k[0]=m[0],k[1]=m[3],k[2]=m[6],k[3]=m[1],k[4]=m[4],k[5]=m[7],k[6]=m[2],k[7]=m[5],k[8]=m[8];return k},xu:function(k,m){var u=m[0],z=
m[1],B=m[2],C=m[3],G=m[4],I=m[5],K=m[6],N=m[7];m=m[8];var Q=m*G-I*N,R=-m*C+I*K,Y=N*C-G*K,U=u*Q+z*R+B*Y;if(!U)return null;U=1/U;k[0]=Q*U;k[1]=(-m*z+B*N)*U;k[2]=(I*z-B*G)*U;k[3]=R*U;k[4]=(m*u-B*K)*U;k[5]=(-I*u+B*C)*U;k[6]=Y*U;k[7]=(-N*u+z*K)*U;k[8]=(G*u-z*C)*U;return k},wX:function(k,m){var u=m[0],z=m[1],B=m[2],C=m[3],G=m[4],I=m[5],K=m[6],N=m[7];m=m[8];k[0]=G*m-I*N;k[1]=B*N-z*m;k[2]=z*I-B*G;k[3]=I*K-C*m;k[4]=u*m-B*K;k[5]=B*C-u*I;k[6]=C*N-G*K;k[7]=z*K-u*N;k[8]=u*G-z*C;return k},aM:function(k){var m=
k[3],u=k[4],z=k[5],B=k[6],C=k[7],G=k[8];return k[0]*(G*u-z*C)+k[1]*(-G*m+z*B)+k[2]*(C*m-u*B)},multiply:h,translate:function(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7];m=m[8];var R=u[0];u=u[1];k[0]=z;k[1]=B;k[2]=C;k[3]=G;k[4]=I;k[5]=K;k[6]=R*z+u*G+N;k[7]=R*B+u*I+Q;k[8]=R*C+u*K+m;return k},rotate:function(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7];m=m[8];var R=Math.sin(u);u=Math.cos(u);k[0]=u*z+R*G;k[1]=u*B+R*I;k[2]=u*C+R*K;k[3]=u*G-R*z;k[4]=u*I-R*B;k[5]=
u*K-R*C;k[6]=N;k[7]=Q;k[8]=m;return k},scale:function(k,m,u){var z=u[0];u=u[1];k[0]=z*m[0];k[1]=z*m[1];k[2]=z*m[2];k[3]=u*m[3];k[4]=u*m[4];k[5]=u*m[5];k[6]=m[6];k[7]=m[7];k[8]=m[8];return k},fM:function(k,m){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=1;k[5]=0;k[6]=m[0];k[7]=m[1];k[8]=1;return k},aE:function(k,m){var u=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=u;k[2]=0;k[3]=-u;k[4]=m;k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},eM:function(k,m){k[0]=m[0];k[1]=0;k[2]=0;k[3]=0;k[4]=m[1];k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},
txa:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=0;k[3]=m[2];k[4]=m[3];k[5]=0;k[6]=m[4];k[7]=m[5];k[8]=1;return k},lia:function(k,m){var u=m[0],z=m[1],B=m[2];m=m[3];var C=u+u,G=z+z,I=B+B;u*=C;var K=z*C;z*=G;var N=B*C,Q=B*G;B*=I;C*=m;G*=m;m*=I;k[0]=1-z-B;k[3]=K-m;k[6]=N+G;k[1]=K+m;k[4]=1-u-B;k[7]=Q-C;k[2]=N-G;k[5]=Q+C;k[8]=1-u-z;return k},zya:function(k,m){var u=m[0],z=m[1],B=m[2],C=m[3],G=m[4],I=m[5],K=m[6],N=m[7],Q=m[8],R=m[9],Y=m[10],U=m[11],da=m[12],ca=m[13],Z=m[14];m=m[15];var sa=u*I-z*G,ma=u*K-B*G,
qa=u*N-C*G,ra=z*K-B*I,pa=z*N-C*I,L=B*N-C*K,O=Q*ca-R*da,W=Q*Z-Y*da;Q=Q*m-U*da;var aa=R*Z-Y*ca;R=R*m-U*ca;Y=Y*m-U*Z;U=sa*Y-ma*R+qa*aa+ra*Q-pa*W+L*O;if(!U)return null;U=1/U;k[0]=(I*Y-K*R+N*aa)*U;k[1]=(K*Q-G*Y-N*W)*U;k[2]=(G*R-I*Q+N*O)*U;k[3]=(B*R-z*Y-C*aa)*U;k[4]=(u*Y-B*Q+C*W)*U;k[5]=(z*Q-u*R-C*O)*U;k[6]=(ca*L-Z*pa+m*ra)*U;k[7]=(Z*qa-da*L-m*ma)*U;k[8]=(da*pa-ca*qa+m*sa)*U;return k},Kya:function(k,m,u){k[0]=2/m;k[1]=0;k[2]=0;k[3]=0;k[4]=-2/u;k[5]=0;k[6]=-1;k[7]=1;k[8]=1;return k},pn:function(k){return"mat3("+
k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+")"},dM:function(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8])},add:function(k,m,u){k[0]=m[0]+u[0];k[1]=m[1]+u[1];k[2]=m[2]+u[2];k[3]=m[3]+u[3];k[4]=m[4]+u[4];k[5]=m[5]+u[5];k[6]=m[6]+u[6];k[7]=m[7]+u[7];k[8]=m[8]+u[8];return k},qn:g,tM:function(k,m,u){k[0]=m[0]*u;k[1]=m[1]*u;k[2]=m[2]*u;k[3]=m[3]*u;k[4]=m[4]*u;k[5]=m[5]*u;k[6]=m[6]*u;k[7]=m[7]*u;k[8]=m[8]*u;return k},uM:function(k,m,u,z){k[0]=
m[0]+u[0]*z;k[1]=m[1]+u[1]*z;k[2]=m[2]+u[2]*z;k[3]=m[3]+u[3]*z;k[4]=m[4]+u[4]*z;k[5]=m[5]+u[5]*z;k[6]=m[6]+u[6]*z;k[7]=m[7]+u[7]*z;k[8]=m[8]+u[8]*z;return k},hk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]&&k[4]===m[4]&&k[5]===m[5]&&k[6]===m[6]&&k[7]===m[7]&&k[8]===m[8]},jd:function(k,m){var u=k[0],z=k[1],B=k[2],C=k[3],G=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var Q=m[0],R=m[1],Y=m[2],U=m[3],da=m[4],ca=m[5],Z=m[6],sa=m[7];m=m[8];return Math.abs(u-Q)<=1E-6*Math.max(1,Math.abs(u),
Math.abs(Q))&&Math.abs(z-R)<=1E-6*Math.max(1,Math.abs(z),Math.abs(R))&&Math.abs(B-Y)<=1E-6*Math.max(1,Math.abs(B),Math.abs(Y))&&Math.abs(C-U)<=1E-6*Math.max(1,Math.abs(C),Math.abs(U))&&Math.abs(G-da)<=1E-6*Math.max(1,Math.abs(G),Math.abs(da))&&Math.abs(I-ca)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ca))&&Math.abs(K-Z)<=1E-6*Math.max(1,Math.abs(K),Math.abs(Z))&&Math.abs(N-sa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(sa))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},kp:h,sub:g}),Ab=Object.freeze({__proto__:null,
create:function(){var k=new oa(16);oa!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=0,k[12]=0,k[13]=0,k[14]=0);k[0]=1;k[5]=1;k[10]=1;k[15]=1;return k},clone:function(k){var m=new oa(16);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];m[6]=k[6];m[7]=k[7];m[8]=k[8];m[9]=k[9];m[10]=k[10];m[11]=k[11];m[12]=k[12];m[13]=k[13];m[14]=k[14];m[15]=k[15];return m},Ka:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=m[4];k[5]=m[5];k[6]=m[6];k[7]=m[7];k[8]=
m[8];k[9]=m[9];k[10]=m[10];k[11]=m[11];k[12]=m[12];k[13]=m[13];k[14]=m[14];k[15]=m[15];return k},jg:function(k,m,u,z,B,C,G,I,K,N,Q,R,Y,U,da,ca){var Z=new oa(16);Z[0]=k;Z[1]=m;Z[2]=u;Z[3]=z;Z[4]=B;Z[5]=C;Z[6]=G;Z[7]=I;Z[8]=K;Z[9]=N;Z[10]=Q;Z[11]=R;Z[12]=Y;Z[13]=U;Z[14]=da;Z[15]=ca;return Z},set:function(k,m,u,z,B,C,G,I,K,N,Q,R,Y,U,da,ca,Z){k[0]=m;k[1]=u;k[2]=z;k[3]=B;k[4]=C;k[5]=G;k[6]=I;k[7]=K;k[8]=N;k[9]=Q;k[10]=R;k[11]=Y;k[12]=U;k[13]=da;k[14]=ca;k[15]=Z;return k},Cy:l,rY:function(k,m){if(k===m){var u=
m[1],z=m[2],B=m[3],C=m[6],G=m[7],I=m[11];k[1]=m[4];k[2]=m[8];k[3]=m[12];k[4]=u;k[6]=m[9];k[7]=m[13];k[8]=z;k[9]=C;k[11]=m[14];k[12]=B;k[13]=G;k[14]=I}else k[0]=m[0],k[1]=m[4],k[2]=m[8],k[3]=m[12],k[4]=m[1],k[5]=m[5],k[6]=m[9],k[7]=m[13],k[8]=m[2],k[9]=m[6],k[10]=m[10],k[11]=m[14],k[12]=m[3],k[13]=m[7],k[14]=m[11],k[15]=m[15];return k},xu:function(k,m){var u=m[0],z=m[1],B=m[2],C=m[3],G=m[4],I=m[5],K=m[6],N=m[7],Q=m[8],R=m[9],Y=m[10],U=m[11],da=m[12],ca=m[13],Z=m[14];m=m[15];var sa=u*I-z*G,ma=u*K-B*
G,qa=u*N-C*G,ra=z*K-B*I,pa=z*N-C*I,L=B*N-C*K,O=Q*ca-R*da,W=Q*Z-Y*da,aa=Q*m-U*da,fa=R*Z-Y*ca,ha=R*m-U*ca,ia=Y*m-U*Z,ka=sa*ia-ma*ha+qa*fa+ra*aa-pa*W+L*O;if(!ka)return null;ka=1/ka;k[0]=(I*ia-K*ha+N*fa)*ka;k[1]=(B*ha-z*ia-C*fa)*ka;k[2]=(ca*L-Z*pa+m*ra)*ka;k[3]=(Y*pa-R*L-U*ra)*ka;k[4]=(K*aa-G*ia-N*W)*ka;k[5]=(u*ia-B*aa+C*W)*ka;k[6]=(Z*qa-da*L-m*ma)*ka;k[7]=(Q*L-Y*qa+U*ma)*ka;k[8]=(G*ha-I*aa+N*O)*ka;k[9]=(z*aa-u*ha-C*O)*ka;k[10]=(da*pa-ca*qa+m*sa)*ka;k[11]=(R*qa-Q*pa-U*sa)*ka;k[12]=(I*W-G*fa-K*O)*ka;k[13]=
(u*fa-z*W+B*O)*ka;k[14]=(ca*ma-da*ra-Z*sa)*ka;k[15]=(Q*ra-R*ma+Y*sa)*ka;return k},wX:function(k,m){var u=m[0],z=m[1],B=m[2],C=m[3],G=m[4],I=m[5],K=m[6],N=m[7],Q=m[8],R=m[9],Y=m[10],U=m[11],da=m[12],ca=m[13],Z=m[14];m=m[15];k[0]=I*(Y*m-U*Z)-R*(K*m-N*Z)+ca*(K*U-N*Y);k[1]=-(z*(Y*m-U*Z)-R*(B*m-C*Z)+ca*(B*U-C*Y));k[2]=z*(K*m-N*Z)-I*(B*m-C*Z)+ca*(B*N-C*K);k[3]=-(z*(K*U-N*Y)-I*(B*U-C*Y)+R*(B*N-C*K));k[4]=-(G*(Y*m-U*Z)-Q*(K*m-N*Z)+da*(K*U-N*Y));k[5]=u*(Y*m-U*Z)-Q*(B*m-C*Z)+da*(B*U-C*Y);k[6]=-(u*(K*m-N*Z)-
G*(B*m-C*Z)+da*(B*N-C*K));k[7]=u*(K*U-N*Y)-G*(B*U-C*Y)+Q*(B*N-C*K);k[8]=G*(R*m-U*ca)-Q*(I*m-N*ca)+da*(I*U-N*R);k[9]=-(u*(R*m-U*ca)-Q*(z*m-C*ca)+da*(z*U-C*R));k[10]=u*(I*m-N*ca)-G*(z*m-C*ca)+da*(z*N-C*I);k[11]=-(u*(I*U-N*R)-G*(z*U-C*R)+Q*(z*N-C*I));k[12]=-(G*(R*Z-Y*ca)-Q*(I*Z-K*ca)+da*(I*Y-K*R));k[13]=u*(R*Z-Y*ca)-Q*(z*Z-B*ca)+da*(z*Y-B*R);k[14]=-(u*(I*Z-K*ca)-G*(z*Z-B*ca)+da*(z*K-B*I));k[15]=u*(I*Y-K*R)-G*(z*Y-B*R)+Q*(z*K-B*I);return k},aM:function(k){var m=k[0],u=k[1],z=k[2],B=k[3],C=k[4],G=k[5],
I=k[6],K=k[7],N=k[8],Q=k[9],R=k[10],Y=k[11],U=k[12],da=k[13],ca=k[14];k=k[15];return(m*G-u*C)*(R*k-Y*ca)-(m*I-z*C)*(Q*k-Y*da)+(m*K-B*C)*(Q*ca-R*da)+(u*I-z*G)*(N*k-Y*U)-(u*K-B*G)*(N*ca-R*U)+(z*K-B*I)*(N*da-Q*U)},multiply:n,translate:function(k,m,u){var z=u[0],B=u[1];u=u[2];if(m===k)k[12]=m[0]*z+m[4]*B+m[8]*u+m[12],k[13]=m[1]*z+m[5]*B+m[9]*u+m[13],k[14]=m[2]*z+m[6]*B+m[10]*u+m[14],k[15]=m[3]*z+m[7]*B+m[11]*u+m[15];else{var C=m[0];var G=m[1];var I=m[2];var K=m[3];var N=m[4];var Q=m[5];var R=m[6];var Y=
m[7];var U=m[8];var da=m[9];var ca=m[10];var Z=m[11];k[0]=C;k[1]=G;k[2]=I;k[3]=K;k[4]=N;k[5]=Q;k[6]=R;k[7]=Y;k[8]=U;k[9]=da;k[10]=ca;k[11]=Z;k[12]=C*z+N*B+U*u+m[12];k[13]=G*z+Q*B+da*u+m[13];k[14]=I*z+R*B+ca*u+m[14];k[15]=K*z+Y*B+Z*u+m[15]}return k},scale:function(k,m,u){var z=u[0],B=u[1];u=u[2];k[0]=m[0]*z;k[1]=m[1]*z;k[2]=m[2]*z;k[3]=m[3]*z;k[4]=m[4]*B;k[5]=m[5]*B;k[6]=m[6]*B;k[7]=m[7]*B;k[8]=m[8]*u;k[9]=m[9]*u;k[10]=m[10]*u;k[11]=m[11]*u;k[12]=m[12];k[13]=m[13];k[14]=m[14];k[15]=m[15];return k},
rotate:function(k,m,u,z){var B=z[0],C=z[1];z=z[2];var G=Math.hypot(B,C,z);if(1E-6>G)return null;G=1/G;B*=G;C*=G;z*=G;var I=Math.sin(u);var K=Math.cos(u);var N=1-K;u=m[0];G=m[1];var Q=m[2];var R=m[3];var Y=m[4];var U=m[5];var da=m[6];var ca=m[7];var Z=m[8];var sa=m[9];var ma=m[10];var qa=m[11];var ra=B*B*N+K;var pa=C*B*N+z*I;var L=z*B*N-C*I;var O=B*C*N-z*I;var W=C*C*N+K;var aa=z*C*N+B*I;var fa=B*z*N+C*I;B=C*z*N-B*I;C=z*z*N+K;k[0]=u*ra+Y*pa+Z*L;k[1]=G*ra+U*pa+sa*L;k[2]=Q*ra+da*pa+ma*L;k[3]=R*ra+ca*
pa+qa*L;k[4]=u*O+Y*W+Z*aa;k[5]=G*O+U*W+sa*aa;k[6]=Q*O+da*W+ma*aa;k[7]=R*O+ca*W+qa*aa;k[8]=u*fa+Y*B+Z*C;k[9]=G*fa+U*B+sa*C;k[10]=Q*fa+da*B+ma*C;k[11]=R*fa+ca*B+qa*C;m!==k&&(k[12]=m[12],k[13]=m[13],k[14]=m[14],k[15]=m[15]);return k},IM:function(k,m,u){var z=Math.sin(u);u=Math.cos(u);var B=m[4],C=m[5],G=m[6],I=m[7],K=m[8],N=m[9],Q=m[10],R=m[11];m!==k&&(k[0]=m[0],k[1]=m[1],k[2]=m[2],k[3]=m[3],k[12]=m[12],k[13]=m[13],k[14]=m[14],k[15]=m[15]);k[4]=B*u+K*z;k[5]=C*u+N*z;k[6]=G*u+Q*z;k[7]=I*u+R*z;k[8]=K*u-
B*z;k[9]=N*u-C*z;k[10]=Q*u-G*z;k[11]=R*u-I*z;return k},JM:function(k,m,u){var z=Math.sin(u);u=Math.cos(u);var B=m[0],C=m[1],G=m[2],I=m[3],K=m[8],N=m[9],Q=m[10],R=m[11];m!==k&&(k[4]=m[4],k[5]=m[5],k[6]=m[6],k[7]=m[7],k[12]=m[12],k[13]=m[13],k[14]=m[14],k[15]=m[15]);k[0]=B*u-K*z;k[1]=C*u-N*z;k[2]=G*u-Q*z;k[3]=I*u-R*z;k[8]=B*z+K*u;k[9]=C*z+N*u;k[10]=G*z+Q*u;k[11]=I*z+R*u;return k},KM:function(k,m,u){var z=Math.sin(u);u=Math.cos(u);var B=m[0],C=m[1],G=m[2],I=m[3],K=m[4],N=m[5],Q=m[6],R=m[7];m!==k&&(k[8]=
m[8],k[9]=m[9],k[10]=m[10],k[11]=m[11],k[12]=m[12],k[13]=m[13],k[14]=m[14],k[15]=m[15]);k[0]=B*u+K*z;k[1]=C*u+N*z;k[2]=G*u+Q*z;k[3]=I*u+R*z;k[4]=K*u-B*z;k[5]=N*u-C*z;k[6]=Q*u-G*z;k[7]=R*u-I*z;return k},fM:function(k,m){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=m[0];k[13]=m[1];k[14]=m[2];k[15]=1;return k},eM:function(k,m){k[0]=m[0];k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=m[1];k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=m[2];k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},
aE:function(k,m,u){var z=u[0],B=u[1];u=u[2];var C=Math.hypot(z,B,u);if(1E-6>C)return null;C=1/C;z*=C;B*=C;u*=C;C=Math.sin(m);m=Math.cos(m);var G=1-m;k[0]=z*z*G+m;k[1]=B*z*G+u*C;k[2]=u*z*G-B*C;k[3]=0;k[4]=z*B*G-u*C;k[5]=B*B*G+m;k[6]=u*B*G+z*C;k[7]=0;k[8]=z*u*G+B*C;k[9]=B*u*G-z*C;k[10]=u*u*G+m;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},zxa:function(k,m){var u=Math.sin(m);m=Math.cos(m);k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=m;k[6]=u;k[7]=0;k[8]=0;k[9]=-u;k[10]=m;k[11]=0;k[12]=0;k[13]=0;k[14]=
0;k[15]=1;return k},Axa:function(k,m){var u=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=0;k[2]=-u;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=u;k[9]=0;k[10]=m;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},Bxa:function(k,m){var u=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=u;k[2]=0;k[3]=0;k[4]=-u;k[5]=m;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},mia:p,vxa:function(k,m){var u=new oa(3),z=-m[0],B=-m[1],C=-m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=z*z+B*B+C*C+G*G;0<R?(u[0]=
2*(I*G+Q*z+K*C-N*B)/R,u[1]=2*(K*G+Q*B+N*z-I*C)/R,u[2]=2*(N*G+Q*C+I*B-K*z)/R):(u[0]=2*(I*G+Q*z+K*C-N*B),u[1]=2*(K*G+Q*B+N*z-I*C),u[2]=2*(N*G+Q*C+I*B-K*z));p(k,m,u);return k},pia:q,Mxa:r,Lxa:x,wxa:function(k,m,u,z){var B=m[0],C=m[1],G=m[2],I=m[3],K=B+B,N=C+C,Q=G+G;m=B*K;var R=B*N;B*=Q;var Y=C*N;C*=Q;G*=Q;K*=I;N*=I;I*=Q;Q=z[0];var U=z[1];z=z[2];k[0]=(1-(Y+G))*Q;k[1]=(R+I)*Q;k[2]=(B-N)*Q;k[3]=0;k[4]=(R-I)*U;k[5]=(1-(m+G))*U;k[6]=(C+K)*U;k[7]=0;k[8]=(B+N)*z;k[9]=(C-K)*z;k[10]=(1-(m+Y))*z;k[11]=0;k[12]=
u[0];k[13]=u[1];k[14]=u[2];k[15]=1;return k},xxa:function(k,m,u,z,B){var C=m[0],G=m[1],I=m[2],K=m[3],N=C+C,Q=G+G,R=I+I;m=C*N;var Y=C*Q,U=C*R;C=G*Q;G*=R;var da=I*R;I=K*N;Q*=K;var ca=K*R,Z=z[0],sa=z[1];R=z[2];z=B[0];K=B[1];B=B[2];N=(1-(C+da))*Z;var ma=(Y+ca)*Z;Z*=U-Q;Y=(Y-ca)*sa;da=(1-(m+da))*sa;sa*=G+I;U=(U+Q)*R;G=(G-I)*R;m=(1-(m+C))*R;k[0]=N;k[1]=ma;k[2]=Z;k[3]=0;k[4]=Y;k[5]=da;k[6]=sa;k[7]=0;k[8]=U;k[9]=G;k[10]=m;k[11]=0;k[12]=u[0]+z-(N*z+Y*K+U*B);k[13]=u[1]+K-(ma*z+da*K+G*B);k[14]=u[2]+B-(Z*z+sa*
K+m*B);k[15]=1;return k},lia:function(k,m){var u=m[0],z=m[1],B=m[2];m=m[3];var C=u+u,G=z+z,I=B+B;u*=C;var K=z*C;z*=G;var N=B*C,Q=B*G;B*=I;C*=m;G*=m;m*=I;k[0]=1-z-B;k[1]=K+m;k[2]=N-G;k[3]=0;k[4]=K-m;k[5]=1-u-B;k[6]=Q+C;k[7]=0;k[8]=N+G;k[9]=Q-C;k[10]=1-u-z;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},nia:function(k,m,u,z,B,C,G){var I=1/(u-m),K=1/(B-z),N=1/(C-G);k[0]=2*C*I;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=2*C*K;k[6]=0;k[7]=0;k[8]=(u+m)*I;k[9]=(B+z)*K;k[10]=(G+C)*N;k[11]=-1;k[12]=0;k[13]=0;k[14]=
G*C*2*N;k[15]=0;return k},perspective:function(k,m,u,z,B){m=1/Math.tan(m/2);k[0]=m/u;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=m;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[11]=-1;k[12]=0;k[13]=0;k[15]=0;null!=B&&Infinity!==B?(u=1/(z-B),k[10]=(B+z)*u,k[14]=2*B*z*u):(k[10]=-1,k[14]=-2*z);return k},Fya:function(k,m,u,z){var B=Math.tan(m.Hza*Math.PI/180),C=Math.tan(m.hxa*Math.PI/180),G=Math.tan(m.nya*Math.PI/180);m=Math.tan(m.bza*Math.PI/180);var I=2/(G+m),K=2/(B+C);k[0]=I;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=K;k[6]=0;k[7]=0;
k[8]=-((G-m)*I*.5);k[9]=(B-C)*K*.5;k[10]=z/(u-z);k[11]=-1;k[12]=0;k[13]=0;k[14]=z*u/(u-z);k[15]=0;return k},Eya:function(k,m,u,z,B,C,G){var I=1/(m-u),K=1/(z-B),N=1/(C-G);k[0]=-2*I;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=-2*K;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=2*N;k[11]=0;k[12]=(m+u)*I;k[13]=(B+z)*K;k[14]=(G+C)*N;k[15]=1;return k},Tia:function(k,m,u,z){var B=m[0],C=m[1];m=m[2];var G=z[0];var I=z[1];var K=z[2];var N=u[0];z=u[1];var Q=u[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(C-z)&&1E-6>Math.abs(m-Q))return l(k);
u=B-N;z=C-z;N=m-Q;var R=1/Math.hypot(u,z,N);u*=R;z*=R;N*=R;Q=I*N-K*z;K=K*u-G*N;G=G*z-I*u;(R=Math.hypot(Q,K,G))?(R=1/R,Q*=R,K*=R,G*=R):G=K=Q=0;I=z*G-N*K;var Y=N*Q-u*G;var U=u*K-z*Q;(R=Math.hypot(I,Y,U))?(R=1/R,I*=R,Y*=R,U*=R):U=Y=I=0;k[0]=Q;k[1]=I;k[2]=u;k[3]=0;k[4]=K;k[5]=Y;k[6]=z;k[7]=0;k[8]=G;k[9]=U;k[10]=N;k[11]=0;k[12]=-(Q*B+K*C+G*m);k[13]=-(I*B+Y*C+U*m);k[14]=-(u*B+z*C+N*m);k[15]=1;return k},xza:function(k,m,u,z){var B=m[0],C=m[1];m=m[2];var G=z[0],I=z[1],K=z[2];z=B-u[0];var N=C-u[1];u=m-u[2];
var Q=z*z+N*N+u*u;0<Q&&(Q=1/Math.sqrt(Q),z*=Q,N*=Q,u*=Q);var R=I*u-K*N;K=K*z-G*u;G=G*N-I*z;Q=R*R+K*K+G*G;0<Q&&(Q=1/Math.sqrt(Q),R*=Q,K*=Q,G*=Q);k[0]=R;k[1]=K;k[2]=G;k[3]=0;k[4]=N*G-u*K;k[5]=u*R-z*G;k[6]=z*K-N*R;k[7]=0;k[8]=z;k[9]=N;k[10]=u;k[11]=0;k[12]=B;k[13]=C;k[14]=m;k[15]=1;return k},pn:function(k){return"mat4("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+", "+k[9]+", "+k[10]+", "+k[11]+", "+k[12]+", "+k[13]+", "+k[14]+", "+k[15]+")"},dM:function(k){return Math.hypot(k[0],
k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15])},add:function(k,m,u){k[0]=m[0]+u[0];k[1]=m[1]+u[1];k[2]=m[2]+u[2];k[3]=m[3]+u[3];k[4]=m[4]+u[4];k[5]=m[5]+u[5];k[6]=m[6]+u[6];k[7]=m[7]+u[7];k[8]=m[8]+u[8];k[9]=m[9]+u[9];k[10]=m[10]+u[10];k[11]=m[11]+u[11];k[12]=m[12]+u[12];k[13]=m[13]+u[13];k[14]=m[14]+u[14];k[15]=m[15]+u[15];return k},qn:w,tM:function(k,m,u){k[0]=m[0]*u;k[1]=m[1]*u;k[2]=m[2]*u;k[3]=m[3]*u;k[4]=m[4]*u;k[5]=m[5]*u;k[6]=m[6]*u;k[7]=m[7]*u;k[8]=m[8]*
u;k[9]=m[9]*u;k[10]=m[10]*u;k[11]=m[11]*u;k[12]=m[12]*u;k[13]=m[13]*u;k[14]=m[14]*u;k[15]=m[15]*u;return k},uM:function(k,m,u,z){k[0]=m[0]+u[0]*z;k[1]=m[1]+u[1]*z;k[2]=m[2]+u[2]*z;k[3]=m[3]+u[3]*z;k[4]=m[4]+u[4]*z;k[5]=m[5]+u[5]*z;k[6]=m[6]+u[6]*z;k[7]=m[7]+u[7]*z;k[8]=m[8]+u[8]*z;k[9]=m[9]+u[9]*z;k[10]=m[10]+u[10]*z;k[11]=m[11]+u[11]*z;k[12]=m[12]+u[12]*z;k[13]=m[13]+u[13]*z;k[14]=m[14]+u[14]*z;k[15]=m[15]+u[15]*z;return k},hk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]&&
k[4]===m[4]&&k[5]===m[5]&&k[6]===m[6]&&k[7]===m[7]&&k[8]===m[8]&&k[9]===m[9]&&k[10]===m[10]&&k[11]===m[11]&&k[12]===m[12]&&k[13]===m[13]&&k[14]===m[14]&&k[15]===m[15]},jd:function(k,m){var u=k[0],z=k[1],B=k[2],C=k[3],G=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],R=k[9],Y=k[10],U=k[11],da=k[12],ca=k[13],Z=k[14];k=k[15];var sa=m[0],ma=m[1],qa=m[2],ra=m[3],pa=m[4],L=m[5],O=m[6],W=m[7],aa=m[8],fa=m[9],ha=m[10],ia=m[11],ka=m[12],ta=m[13],va=m[14];m=m[15];return Math.abs(u-sa)<=1E-6*Math.max(1,Math.abs(u),Math.abs(sa))&&
Math.abs(z-ma)<=1E-6*Math.max(1,Math.abs(z),Math.abs(ma))&&Math.abs(B-qa)<=1E-6*Math.max(1,Math.abs(B),Math.abs(qa))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(G-pa)<=1E-6*Math.max(1,Math.abs(G),Math.abs(pa))&&Math.abs(I-L)<=1E-6*Math.max(1,Math.abs(I),Math.abs(L))&&Math.abs(K-O)<=1E-6*Math.max(1,Math.abs(K),Math.abs(O))&&Math.abs(N-W)<=1E-6*Math.max(1,Math.abs(N),Math.abs(W))&&Math.abs(Q-aa)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(aa))&&Math.abs(R-fa)<=1E-6*Math.max(1,Math.abs(R),
Math.abs(fa))&&Math.abs(Y-ha)<=1E-6*Math.max(1,Math.abs(Y),Math.abs(ha))&&Math.abs(U-ia)<=1E-6*Math.max(1,Math.abs(U),Math.abs(ia))&&Math.abs(da-ka)<=1E-6*Math.max(1,Math.abs(da),Math.abs(ka))&&Math.abs(ca-ta)<=1E-6*Math.max(1,Math.abs(ca),Math.abs(ta))&&Math.abs(Z-va)<=1E-6*Math.max(1,Math.abs(Z),Math.abs(va))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},kp:n,sub:w}),Pa=function(){var k=v();return function(m,u,z,B,C,G){u||(u=3);z||(z=0);for(B=B?Math.min(B*u+z,m.length):m.length;z<B;z+=
u)k[0]=m[z],k[1]=m[z+1],k[2]=m[z+2],C(k,k,G),m[z]=k[0],m[z+1]=k[1],m[z+2]=k[2];return m}}();Pa=Object.freeze({__proto__:null,create:v,clone:function(k){var m=new oa(3);m[0]=k[0];m[1]=k[1];m[2]=k[2];return m},length:t,jg:A,Ka:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];return k},set:function(k,m,u,z){k[0]=m;k[1]=u;k[2]=z;return k},add:function(k,m,u){k[0]=m[0]+u[0];k[1]=m[1]+u[1];k[2]=m[2]+u[2];return k},qn:y,multiply:E,wl:F,ceil:function(k,m){k[0]=Math.ceil(m[0]);k[1]=Math.ceil(m[1]);k[2]=Math.ceil(m[2]);
return k},floor:function(k,m){k[0]=Math.floor(m[0]);k[1]=Math.floor(m[1]);k[2]=Math.floor(m[2]);return k},min:function(k,m,u){k[0]=Math.min(m[0],u[0]);k[1]=Math.min(m[1],u[1]);k[2]=Math.min(m[2],u[2]);return k},max:function(k,m,u){k[0]=Math.max(m[0],u[0]);k[1]=Math.max(m[1],u[1]);k[2]=Math.max(m[2],u[2]);return k},round:function(k,m){k[0]=Math.round(m[0]);k[1]=Math.round(m[1]);k[2]=Math.round(m[2]);return k},scale:function(k,m,u){k[0]=m[0]*u;k[1]=m[1]*u;k[2]=m[2]*u;return k},MM:function(k,m,u,z){k[0]=
m[0]+u[0]*z;k[1]=m[1]+u[1]*z;k[2]=m[2]+u[2]*z;return k},zy:H,nY:J,rE:M,XX:function(k,m){k[0]=-m[0];k[1]=-m[1];k[2]=-m[2];return k},inverse:function(k,m){k[0]=1/m[0];k[1]=1/m[1];k[2]=1/m[2];return k},normalize:P,hp:S,$L:T,Ec:function(k,m,u,z){var B=m[0],C=m[1];m=m[2];k[0]=B+z*(u[0]-B);k[1]=C+z*(u[1]-C);k[2]=m+z*(u[2]-m);return k},Qxa:function(k,m,u,z,B,C){var G=C*C,I=G*(2*C-3)+1,K=G*(C-2)+C,N=G*(C-1);C=G*(3-2*C);k[0]=m[0]*I+u[0]*K+z[0]*N+B[0]*C;k[1]=m[1]*I+u[1]*K+z[1]*N+B[1]*C;k[2]=m[2]*I+u[2]*K+z[2]*
N+B[2]*C;return k},Rwa:function(k,m,u,z,B,C){var G=1-C,I=G*G,K=C*C,N=I*G;I*=3*C;G*=3*K;C*=K;k[0]=m[0]*N+u[0]*I+z[0]*G+B[0]*C;k[1]=m[1]*N+u[1]*I+z[1]*G+B[1]*C;k[2]=m[2]*N+u[2]*I+z[2]*G+B[2]*C;return k},random:function(k,m){m=m||1;var u=2*ya()*Math.PI,z=2*ya()-1,B=Math.sqrt(1-z*z)*m;k[0]=Math.cos(u)*B;k[1]=Math.sin(u)*B;k[2]=z*m;return k},VM:function(k,m,u){var z=m[0],B=m[1];m=m[2];var C=u[3]*z+u[7]*B+u[11]*m+u[15];C=C||1;k[0]=(u[0]*z+u[4]*B+u[8]*m+u[12])/C;k[1]=(u[1]*z+u[5]*B+u[9]*m+u[13])/C;k[2]=
(u[2]*z+u[6]*B+u[10]*m+u[14])/C;return k},Dja:function(k,m,u){var z=m[0],B=m[1];m=m[2];k[0]=z*u[0]+B*u[3]+m*u[6];k[1]=z*u[1]+B*u[4]+m*u[7];k[2]=z*u[2]+B*u[5]+m*u[8];return k},Eja:function(k,m,u){var z=u[0],B=u[1],C=u[2],G=m[0],I=m[1];m=m[2];var K=B*m-C*I,N=C*G-z*m,Q=z*I-B*G;u=2*u[3];k[0]=G+K*u+2*(B*Q-C*N);k[1]=I+N*u+2*(C*K-z*Q);k[2]=m+Q*u+2*(z*N-B*K);return k},IM:function(k,m,u,z){var B=[],C=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=m[2]-u[2];C[0]=B[0];C[1]=B[1]*Math.cos(z)-B[2]*Math.sin(z);C[2]=B[1]*
Math.sin(z)+B[2]*Math.cos(z);k[0]=C[0]+u[0];k[1]=C[1]+u[1];k[2]=C[2]+u[2];return k},JM:function(k,m,u,z){var B=[],C=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=m[2]-u[2];C[0]=B[2]*Math.sin(z)+B[0]*Math.cos(z);C[1]=B[1];C[2]=B[2]*Math.cos(z)-B[0]*Math.sin(z);k[0]=C[0]+u[0];k[1]=C[1]+u[1];k[2]=C[2]+u[2];return k},KM:function(k,m,u,z){var B=[],C=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=m[2]-u[2];C[0]=B[0]*Math.cos(z)-B[1]*Math.sin(z);C[1]=B[0]*Math.sin(z)+B[1]*Math.cos(z);C[2]=B[2];k[0]=C[0]+u[0];k[1]=C[1]+u[1];
k[2]=C[2]+u[2];return k},angle:function(k,m){var u=k[0],z=k[1],B=k[2],C=m[0],G=m[1],I=m[2];k=(u=Math.sqrt(u*u+z*z+B*B)*Math.sqrt(C*C+G*G+I*I))&&S(k,m)/u;return Math.acos(Math.min(Math.max(k,-1),1))},xY:function(k){k[0]=0;k[1]=0;k[2]=0;return k},pn:function(k){return"vec3("+k[0]+", "+k[1]+", "+k[2]+")"},hk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]},jd:function(k,m){var u=k[0],z=k[1];k=k[2];var B=m[0],C=m[1];m=m[2];return Math.abs(u-B)<=1E-6*Math.max(1,Math.abs(u),Math.abs(B))&&Math.abs(z-
C)<=1E-6*Math.max(1,Math.abs(z),Math.abs(C))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},sub:y,kp:E,KX:F,IX:H,mY:J,Fy:t,qE:M,forEach:Pa});var Qa=function(){var k=V();return function(m,u,z,B,C,G){u||(u=4);z||(z=0);for(B=B?Math.min(B*u+z,m.length):m.length;z<B;z+=u)k[0]=m[z],k[1]=m[z+1],k[2]=m[z+2],k[3]=m[z+3],C(k,k,G),m[z]=k[0],m[z+1]=k[1],m[z+2]=k[2],m[z+3]=k[3];return m}}();Qa=Object.freeze({__proto__:null,create:V,clone:ba,jg:ea,Ka:X,set:na,add:ja,qn:xa,multiply:Ja,wl:Va,ceil:function(k,
m){k[0]=Math.ceil(m[0]);k[1]=Math.ceil(m[1]);k[2]=Math.ceil(m[2]);k[3]=Math.ceil(m[3]);return k},floor:function(k,m){k[0]=Math.floor(m[0]);k[1]=Math.floor(m[1]);k[2]=Math.floor(m[2]);k[3]=Math.floor(m[3]);return k},min:function(k,m,u){k[0]=Math.min(m[0],u[0]);k[1]=Math.min(m[1],u[1]);k[2]=Math.min(m[2],u[2]);k[3]=Math.min(m[3],u[3]);return k},max:function(k,m,u){k[0]=Math.max(m[0],u[0]);k[1]=Math.max(m[1],u[1]);k[2]=Math.max(m[2],u[2]);k[3]=Math.max(m[3],u[3]);return k},round:function(k,m){k[0]=Math.round(m[0]);
k[1]=Math.round(m[1]);k[2]=Math.round(m[2]);k[3]=Math.round(m[3]);return k},scale:Na,MM:function(k,m,u,z){k[0]=m[0]+u[0]*z;k[1]=m[1]+u[1]*z;k[2]=m[2]+u[2]*z;k[3]=m[3]+u[3]*z;return k},zy:Wa,nY:Oa,length:Ca,rE:Aa,XX:function(k,m){k[0]=-m[0];k[1]=-m[1];k[2]=-m[2];k[3]=-m[3];return k},inverse:function(k,m){k[0]=1/m[0];k[1]=1/m[1];k[2]=1/m[2];k[3]=1/m[3];return k},normalize:Ka,hp:Ha,$L:function(k,m,u,z){var B=u[0]*z[1]-u[1]*z[0],C=u[0]*z[2]-u[2]*z[0],G=u[0]*z[3]-u[3]*z[0],I=u[1]*z[2]-u[2]*z[1],K=u[1]*
z[3]-u[3]*z[1];u=u[2]*z[3]-u[3]*z[2];z=m[0];var N=m[1],Q=m[2];m=m[3];k[0]=N*u-Q*K+m*I;k[1]=-(z*u)+Q*G-m*C;k[2]=z*K-N*G+m*B;k[3]=-(z*I)+N*C-Q*B;return k},Ec:Xa,random:function(k,m){m=m||1;do{var u=2*ya()-1;var z=2*ya()-1;var B=u*u+z*z}while(1<=B);do{var C=2*ya()-1;var G=2*ya()-1;var I=C*C+G*G}while(1<=I);B=Math.sqrt((1-B)/I);k[0]=m*u;k[1]=m*z;k[2]=m*C*B;k[3]=m*G*B;return k},VM:function(k,m,u){var z=m[0],B=m[1],C=m[2];m=m[3];k[0]=u[0]*z+u[4]*B+u[8]*C+u[12]*m;k[1]=u[1]*z+u[5]*B+u[9]*C+u[13]*m;k[2]=u[2]*
z+u[6]*B+u[10]*C+u[14]*m;k[3]=u[3]*z+u[7]*B+u[11]*C+u[15]*m;return k},Eja:function(k,m,u){var z=m[0],B=m[1],C=m[2],G=u[0],I=u[1],K=u[2];u=u[3];var N=u*z+I*C-K*B,Q=u*B+K*z-G*C,R=u*C+G*B-I*z;z=-G*z-I*B-K*C;k[0]=N*u+z*-G+Q*-K-R*-I;k[1]=Q*u+z*-I+R*-G-N*-K;k[2]=R*u+z*-K+N*-I-Q*-G;k[3]=m[3];return k},xY:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=0;return k},pn:function(k){return"vec4("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},hk:Ya,jd:Za,sub:xa,kp:Ja,KX:Va,IX:Wa,mY:Oa,Fy:Ca,qE:Aa,forEach:Qa});var Ra=function(){var k=
v(),m=A(1,0,0),u=A(0,1,0);return function(z,B,C){var G=S(B,C);if(-.999999>G)return T(k,m,B),1E-6>t(k)&&T(k,u,B),P(k,k),$a(z,k,Math.PI),z;if(.999999<G)return z[0]=0,z[1]=0,z[2]=0,z[3]=1,z;T(k,B,C);z[0]=k[0];z[1]=k[1];z[2]=k[2];z[3]=1+G;return Ka(z,z)}}(),Sa=function(){var k=La(),m=La();return function(u,z,B,C,G,I){Ma(k,z,G,I);Ma(m,B,C,I);Ma(u,k,m,2*I*(1-I));return u}}(),Ia=function(){var k=e();return function(m,u,z,B){k[0]=z[0];k[3]=z[1];k[6]=z[2];k[1]=B[0];k[4]=B[1];k[7]=B[2];k[2]=-u[0];k[5]=-u[1];
k[8]=-u[2];return Ka(m,gb(m,k))}}();Ra=Object.freeze({__proto__:null,create:La,Cy:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=1;return k},oza:$a,Ixa:function(k,m){var u=2*Math.acos(m[3]),z=Math.sin(u/2);1E-6<z?(k[0]=m[0]/z,k[1]=m[1]/z,k[2]=m[2]/z):(k[0]=1,k[1]=0,k[2]=0);return u},Gxa:function(k,m){k=Ha(k,m);return Math.acos(2*k*k-1)},multiply:ab,IM:bb,JM:cb,KM:db,Swa:function(k,m){var u=m[0],z=m[1];m=m[2];k[0]=u;k[1]=z;k[2]=m;k[3]=Math.sqrt(Math.abs(1-u*u-z*z-m*m));return k},exp:eb,Ria:fb,pow:function(k,
m,u){fb(k,m);Na(k,k,u);eb(k,k);return k},tza:Ma,random:function(k){var m=ya(),u=ya(),z=ya(),B=Math.sqrt(1-m);m=Math.sqrt(m);k[0]=B*Math.sin(2*Math.PI*u);k[1]=B*Math.cos(2*Math.PI*u);k[2]=m*Math.sin(2*Math.PI*z);k[3]=m*Math.cos(2*Math.PI*z);return k},xu:function(k,m){var u=m[0],z=m[1],B=m[2];m=m[3];var C=u*u+z*z+B*B+m*m;C=C?1/C:0;k[0]=-u*C;k[1]=-z*C;k[2]=-B*C;k[3]=m*C;return k},Vha:function(k,m){k[0]=-m[0];k[1]=-m[1];k[2]=-m[2];k[3]=m[3];return k},uxa:gb,sxa:function(k,m,u,z){var B=.5*Math.PI/180;
m*=B;u*=B;z*=B;B=Math.sin(m);m=Math.cos(m);var C=Math.sin(u);u=Math.cos(u);var G=Math.sin(z);z=Math.cos(z);k[0]=B*u*z-m*C*G;k[1]=m*C*z+B*u*G;k[2]=m*u*G-B*C*z;k[3]=m*u*z+B*C*G;return k},pn:function(k){return"quat("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},clone:ba,jg:ea,Ka:X,set:na,add:ja,kp:ab,scale:Na,hp:Ha,Ec:Xa,length:Ca,Fy:Ca,rE:Aa,qE:Aa,normalize:Ka,hk:Ya,jd:Za,fza:Ra,uza:Sa,nza:Ia});Sa=Object.freeze({__proto__:null,create:function(){var k=new oa(8);oa!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[4]=
0,k[5]=0,k[6]=0,k[7]=0);k[3]=1;return k},clone:function(k){var m=new oa(8);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];m[6]=k[6];m[7]=k[7];return m},jg:function(k,m,u,z,B,C,G,I){var K=new oa(8);K[0]=k;K[1]=m;K[2]=u;K[3]=z;K[4]=B;K[5]=C;K[6]=G;K[7]=I;return K},yxa:function(k,m,u,z,B,C,G){var I=new oa(8);I[0]=k;I[1]=m;I[2]=u;I[3]=z;B*=.5;C*=.5;G*=.5;I[4]=B*z+C*u-G*m;I[5]=C*z+G*k-B*u;I[6]=G*z+B*m-C*k;I[7]=-B*k-C*m-G*u;return I},mia:hb,fM:function(k,m){k[0]=0;k[1]=0;k[2]=0;k[3]=1;k[4]=
.5*m[0];k[5]=.5*m[1];k[6]=.5*m[2];k[7]=0;return k},aE:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=0;k[5]=0;k[6]=0;k[7]=0;return k},kia:function(k,m){var u=La();x(u,m);var z=new oa(3);q(z,m);hb(k,u,z);return k},Ka:ib,Cy:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=1;k[4]=0;k[5]=0;k[6]=0;k[7]=0;return k},set:function(k,m,u,z,B,C,G,I,K){k[0]=m;k[1]=u;k[2]=z;k[3]=B;k[4]=C;k[5]=G;k[6]=I;k[7]=K;return k},Kxa:X,Jxa:function(k,m){k[0]=m[4];k[1]=m[5];k[2]=m[6];k[3]=m[7];return k},rza:X,pza:function(k,
m){k[4]=m[0];k[5]=m[1];k[6]=m[2];k[7]=m[3];return k},pia:function(k,m){var u=m[4],z=m[5],B=m[6],C=m[7],G=-m[0],I=-m[1],K=-m[2];m=m[3];k[0]=2*(u*m+C*G+z*K-B*I);k[1]=2*(z*m+C*I+B*G-u*K);k[2]=2*(B*m+C*K+u*I-z*G);return k},translate:function(k,m,u){var z=m[0],B=m[1],C=m[2],G=m[3],I=.5*u[0],K=.5*u[1];u=.5*u[2];var N=m[4],Q=m[5],R=m[6];m=m[7];k[0]=z;k[1]=B;k[2]=C;k[3]=G;k[4]=G*I+B*u-C*K+N;k[5]=G*K+C*I-z*u+Q;k[6]=G*u+z*K-B*I+R;k[7]=-z*I-B*K-C*u+m;return k},IM:function(k,m,u){var z=-m[0],B=-m[1],C=-m[2],
G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=I*G+Q*z+K*C-N*B,Y=K*G+Q*B+N*z-I*C,U=N*G+Q*C+I*B-K*z;I=Q*G-I*z-K*B-N*C;bb(k,m,u);z=k[0];B=k[1];C=k[2];G=k[3];k[4]=R*G+I*z+Y*C-U*B;k[5]=Y*G+I*B+U*z-R*C;k[6]=U*G+I*C+R*B-Y*z;k[7]=I*G-R*z-Y*B-U*C;return k},JM:function(k,m,u){var z=-m[0],B=-m[1],C=-m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=I*G+Q*z+K*C-N*B,Y=K*G+Q*B+N*z-I*C,U=N*G+Q*C+I*B-K*z;I=Q*G-I*z-K*B-N*C;cb(k,m,u);z=k[0];B=k[1];C=k[2];G=k[3];k[4]=R*G+I*z+Y*C-U*B;k[5]=Y*G+I*B+U*z-R*C;k[6]=U*G+I*C+R*B-Y*z;k[7]=I*
G-R*z-Y*B-U*C;return k},KM:function(k,m,u){var z=-m[0],B=-m[1],C=-m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=I*G+Q*z+K*C-N*B,Y=K*G+Q*B+N*z-I*C,U=N*G+Q*C+I*B-K*z;I=Q*G-I*z-K*B-N*C;db(k,m,u);z=k[0];B=k[1];C=k[2];G=k[3];k[4]=R*G+I*z+Y*C-U*B;k[5]=Y*G+I*B+U*z-R*C;k[6]=U*G+I*C+R*B-Y*z;k[7]=I*G-R*z-Y*B-U*C;return k},dza:function(k,m,u){var z=u[0],B=u[1],C=u[2];u=u[3];var G=m[0],I=m[1],K=m[2],N=m[3];k[0]=G*u+N*z+I*C-K*B;k[1]=I*u+N*B+K*z-G*C;k[2]=K*u+N*C+G*B-I*z;k[3]=N*u-G*z-I*B-K*C;G=m[4];I=m[5];K=m[6];N=
m[7];k[4]=G*u+N*z+I*C-K*B;k[5]=I*u+N*B+K*z-G*C;k[6]=K*u+N*C+G*B-I*z;k[7]=N*u-G*z-I*B-K*C;return k},eza:function(k,m,u){var z=m[0],B=m[1],C=m[2];m=m[3];var G=u[0],I=u[1],K=u[2],N=u[3];k[0]=z*N+m*G+B*K-C*I;k[1]=B*N+m*I+C*G-z*K;k[2]=C*N+m*K+z*I-B*G;k[3]=m*N-z*G-B*I-C*K;G=u[4];I=u[5];K=u[6];N=u[7];k[4]=z*N+m*G+B*K-C*I;k[5]=B*N+m*I+C*G-z*K;k[6]=C*N+m*K+z*I-B*G;k[7]=m*N-z*G-B*I-C*K;return k},cza:function(k,m,u,z){if(1E-6>Math.abs(z))return ib(k,m);var B=Math.hypot(u[0],u[1],u[2]);z*=.5;var C=Math.sin(z),
G=C*u[0]/B,I=C*u[1]/B;u=C*u[2]/B;z=Math.cos(z);B=m[0];C=m[1];var K=m[2],N=m[3];k[0]=B*z+N*G+C*u-K*I;k[1]=C*z+N*I+K*G-B*u;k[2]=K*z+N*u+B*I-C*G;k[3]=N*z-B*G-C*I-K*u;B=m[4];C=m[5];K=m[6];m=m[7];k[4]=B*z+m*G+C*u-K*I;k[5]=C*z+m*I+K*G-B*u;k[6]=K*z+m*u+B*I-C*G;k[7]=m*z-B*G-C*I-K*u;return k},add:function(k,m,u){k[0]=m[0]+u[0];k[1]=m[1]+u[1];k[2]=m[2]+u[2];k[3]=m[3]+u[3];k[4]=m[4]+u[4];k[5]=m[5]+u[5];k[6]=m[6]+u[6];k[7]=m[7]+u[7];return k},multiply:jb,kp:jb,scale:function(k,m,u){k[0]=m[0]*u;k[1]=m[1]*u;k[2]=
m[2]*u;k[3]=m[3]*u;k[4]=m[4]*u;k[5]=m[5]*u;k[6]=m[6]*u;k[7]=m[7]*u;return k},hp:Ha,Ec:function(k,m,u,z){var B=1-z;0>Ha(m,u)&&(z=-z);k[0]=m[0]*B+u[0]*z;k[1]=m[1]*B+u[1]*z;k[2]=m[2]*B+u[2]*z;k[3]=m[3]*B+u[3]*z;k[4]=m[4]*B+u[4]*z;k[5]=m[5]*B+u[5]*z;k[6]=m[6]*B+u[6]*z;k[7]=m[7]*B+u[7]*z;return k},xu:function(k,m){var u=Aa(m);k[0]=-m[0]/u;k[1]=-m[1]/u;k[2]=-m[2]/u;k[3]=m[3]/u;k[4]=-m[4]/u;k[5]=-m[5]/u;k[6]=-m[6]/u;k[7]=m[7]/u;return k},Vha:function(k,m){k[0]=-m[0];k[1]=-m[1];k[2]=-m[2];k[3]=m[3];k[4]=
-m[4];k[5]=-m[5];k[6]=-m[6];k[7]=m[7];return k},length:Ca,Fy:Ca,rE:Aa,qE:Aa,normalize:function(k,m){var u=Aa(m);if(0<u){u=Math.sqrt(u);var z=m[0]/u,B=m[1]/u,C=m[2]/u,G=m[3]/u,I=m[4],K=m[5],N=m[6];m=m[7];var Q=z*I+B*K+C*N+G*m;k[0]=z;k[1]=B;k[2]=C;k[3]=G;k[4]=(I-z*Q)/u;k[5]=(K-B*Q)/u;k[6]=(N-C*Q)/u;k[7]=(m-G*Q)/u}return k},pn:function(k){return"quat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+")"},hk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===
m[3]&&k[4]===m[4]&&k[5]===m[5]&&k[6]===m[6]&&k[7]===m[7]},jd:function(k,m){var u=k[0],z=k[1],B=k[2],C=k[3],G=k[4],I=k[5],K=k[6];k=k[7];var N=m[0],Q=m[1],R=m[2],Y=m[3],U=m[4],da=m[5],ca=m[6];m=m[7];return Math.abs(u-N)<=1E-6*Math.max(1,Math.abs(u),Math.abs(N))&&Math.abs(z-Q)<=1E-6*Math.max(1,Math.abs(z),Math.abs(Q))&&Math.abs(B-R)<=1E-6*Math.max(1,Math.abs(B),Math.abs(R))&&Math.abs(C-Y)<=1E-6*Math.max(1,Math.abs(C),Math.abs(Y))&&Math.abs(G-U)<=1E-6*Math.max(1,Math.abs(G),Math.abs(U))&&Math.abs(I-da)<=
1E-6*Math.max(1,Math.abs(I),Math.abs(da))&&Math.abs(K-ca)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))}});Ia=function(){var k=kb();return function(m,u,z,B,C,G){u||(u=2);z||(z=0);for(B=B?Math.min(B*u+z,m.length):m.length;z<B;z+=u)k[0]=m[z],k[1]=m[z+1],C(k,k,G),m[z]=k[0],m[z+1]=k[1];return m}}();Ia=Object.freeze({__proto__:null,create:kb,clone:function(k){var m=new oa(2);m[0]=k[0];m[1]=k[1];return m},jg:function(k,m){var u=new oa(2);u[0]=k;u[1]=
m;return u},Ka:function(k,m){k[0]=m[0];k[1]=m[1];return k},set:function(k,m,u){k[0]=m;k[1]=u;return k},add:function(k,m,u){k[0]=m[0]+u[0];k[1]=m[1]+u[1];return k},qn:lb,multiply:mb,wl:nb,ceil:function(k,m){k[0]=Math.ceil(m[0]);k[1]=Math.ceil(m[1]);return k},floor:function(k,m){k[0]=Math.floor(m[0]);k[1]=Math.floor(m[1]);return k},min:function(k,m,u){k[0]=Math.min(m[0],u[0]);k[1]=Math.min(m[1],u[1]);return k},max:function(k,m,u){k[0]=Math.max(m[0],u[0]);k[1]=Math.max(m[1],u[1]);return k},round:function(k,
m){k[0]=Math.round(m[0]);k[1]=Math.round(m[1]);return k},scale:function(k,m,u){k[0]=m[0]*u;k[1]=m[1]*u;return k},MM:function(k,m,u,z){k[0]=m[0]+u[0]*z;k[1]=m[1]+u[1]*z;return k},zy:ob,nY:pb,length:qb,rE:rb,XX:function(k,m){k[0]=-m[0];k[1]=-m[1];return k},inverse:function(k,m){k[0]=1/m[0];k[1]=1/m[1];return k},normalize:function(k,m){var u=m[0],z=m[1];u=u*u+z*z;0<u&&(u=1/Math.sqrt(u));k[0]=m[0]*u;k[1]=m[1]*u;return k},hp:function(k,m){return k[0]*m[0]+k[1]*m[1]},$L:function(k,m,u){m=m[0]*u[1]-m[1]*
u[0];k[0]=k[1]=0;k[2]=m;return k},Ec:function(k,m,u,z){var B=m[0];m=m[1];k[0]=B+z*(u[0]-B);k[1]=m+z*(u[1]-m);return k},random:function(k,m){m=m||1;var u=2*ya()*Math.PI;k[0]=Math.cos(u)*m;k[1]=Math.sin(u)*m;return k},Eza:function(k,m,u){var z=m[0];m=m[1];k[0]=u[0]*z+u[2]*m;k[1]=u[1]*z+u[3]*m;return k},Fza:function(k,m,u){var z=m[0];m=m[1];k[0]=u[0]*z+u[2]*m+u[4];k[1]=u[1]*z+u[3]*m+u[5];return k},Dja:function(k,m,u){var z=m[0];m=m[1];k[0]=u[0]*z+u[3]*m+u[6];k[1]=u[1]*z+u[4]*m+u[7];return k},VM:function(k,
m,u){var z=m[0];m=m[1];k[0]=u[0]*z+u[4]*m+u[12];k[1]=u[1]*z+u[5]*m+u[13];return k},rotate:function(k,m,u,z){var B=m[0]-u[0];m=m[1]-u[1];var C=Math.sin(z);z=Math.cos(z);k[0]=B*z-m*C+u[0];k[1]=B*C+m*z+u[1];return k},angle:function(k,m){var u=k[0];k=k[1];var z=m[0];m=m[1];var B=Math.sqrt(u*u+k*k)*Math.sqrt(z*z+m*m);return Math.acos(Math.min(Math.max(B&&(u*z+k*m)/B,-1),1))},xY:function(k){k[0]=0;k[1]=0;return k},pn:function(k){return"vec2("+k[0]+", "+k[1]+")"},hk:function(k,m){return k[0]===m[0]&&k[1]===
m[1]},jd:function(k,m){var u=k[0];k=k[1];var z=m[0];m=m[1];return Math.abs(u-z)<=1E-6*Math.max(1,Math.abs(u),Math.abs(z))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},Fy:qb,sub:lb,kp:mb,KX:nb,IX:ob,mY:pb,qE:rb,forEach:Ia});d.kn=wb;d.rya=xb;d.sya=yb;d.tya=zb;d.Fr=Ab;d.Nya=Ra;d.Oya=Sa;d.Mza=Ia;d.vE=Pa;d.Lu=Qa;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Da(exports):"function"===typeof define&&define.Kwa?define(["exports"],Da):(Ba=Ba||self,Da(Ba.kn={}));
{"use strict";function d(w,v,t,A){var y=v[0]-w[0];v=v[1]-w[1];var E=A[0]-t[0],F=A[1]-t[1];if(0===E*v-F*y)return!1;A=(y*(t[1]-w[1])+v*(w[0]-t[0]))/(E*v-F*y);w=(E*(w[1]-t[1])+F*(t[0]-w[0]))/(F*y-E*v);return 0<=A&&1>=A&&0<=w&&1>=w}function b(w,v,t){return(v[0]-w[0])*(t[1]-w[1])-(t[0]-w[0])*(v[1]-w[1])}function a(w,v,t){return 0<b(w,v,t)}function f(w,v,t){return 0<=b(w,v,t)}function c(w,v,t){return 0>=b(w,v,t)}var Ea=[],Fa=[];function e(w,v){var t=v[0]-w[0];w=v[1]-w[1];return t*t+w*w}function h(w,v){var t=
w.length;return w[0>v?v%t+t:v%t]}function g(w,v,t,A){for(;t<A;t++)w.push(v[t])}function l(w,v){var t=h(w,v-1),A=h(w,v);w=h(w,v+1);return 0>b(t,A,w)}var Ga=[],Ta=[];function n(w,v,t,A){A=A||[];A.length=0;if(v<t)for(var y=v;y<=t;y++)A.push(w[y]);else{for(y=0;y<=t;y++)A.push(w[y]);for(y=v;y<w.length;y++)A.push(w[y])}return A}function p(w){for(var v=[],t,A,y=[],E=Number.MAX_VALUE,F=0;F<w.length;++F)if(l(w,F))for(var H=0;H<w.length;++H){a:{A=w;var J=F,M=H;if(f(h(A,J+1),h(A,J),h(A,M))&&c(h(A,J-1),h(A,J),
h(A,M)))t=!1;else{t=e(h(A,J),h(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&f(h(A,J),h(A,M),h(A,P+1))&&c(h(A,J),h(A,M),h(A,P))){Ga[0]=h(A,J);Ga[1]=h(A,M);Ta[0]=h(A,P);Ta[1]=h(A,P+1);var S=[0,0];var T=Ga[1][1]-Ga[0][1];var V=Ga[0][0]-Ga[1][0];var ba=T*Ga[0][0]+V*Ga[0][1];var ea=Ta[1][1]-Ta[0][1];var X=Ta[0][0]-Ta[1][0];var na=ea*Ta[0][0]+X*Ta[0][1];var ja=T*X-ea*V;0>=Math.abs(ja-0)||(S[0]=(X*ba-V*na)/ja,S[1]=(T*na-ea*ba)/ja);ja=S;if(e(h(A,J),ja)<t){t=!1;break a}}t=!0}}if(t){t=p(n(w,
F,H,y));A=p(n(w,H,F,y));for(J=0;J<A.length;J++)t.push(A[J]);t.length<E&&(v=t,E=t.length,v.push([h(w,F),h(w,H)]))}}return v}function q(w,v){if(0===v.length)return[w];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){w=[w];for(var t=0;t<v.length;t++)for(var A=v[t],y=0;y<w.length;y++){var E=q(w[y],A);if(E){w.splice(y,1);w.push(E[0],E[1]);break}}return w}A=v;t=w.indexOf(A[0]);y=w.indexOf(A[1]);return-1!==t&&-1!==y?[n(w,t,y),n(w,y,t)]:!1}function r(w,v,t,
A,y){var E=v[1]-w[1];v=w[0]-v[0];w=E*w[0]+v*w[1];var F=A[1]-t[1];A=t[0]-A[0];t=F*t[0]+A*t[1];var H=E*A-F*v;return Math.abs(H-0)<=(y||0)?[0,0]:[(A*w-v*t)/H,(E*t-F*w)/H]}function x(w,v,t,A,y,E,F){E=E||100;F=F||0;y=y||25;v="undefined"!==typeof v?v:[];t=t||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,S=0,T=0,V=0,ba=[],ea=[];if(3>w.length)return v;F++;if(F>E)return console.warn("quickDecomp: max level ("+E+") reached."),v;for(var X=0;X<w.length;++X)if(l(w,X)){t.push(w[X]);var na=P=Number.MAX_VALUE;for(var ja=
0;ja<w.length;++ja){if(a(h(w,X-1),h(w,X),h(w,ja))&&c(h(w,X-1),h(w,X),h(w,ja-1))){M=r(h(w,X-1),h(w,X),h(w,ja),h(w,ja-1));var xa=h(w,X+1);var Ja=h(w,X);0>b(xa,Ja,M)&&(xa=e(w[X],M),xa<P&&(P=xa,J=M,T=ja))}a(h(w,X+1),h(w,X),h(w,ja+1))&&c(h(w,X+1),h(w,X),h(w,ja))&&(M=r(h(w,X+1),h(w,X),h(w,ja),h(w,ja+1)),a(h(w,X-1),h(w,X),M)&&(xa=e(w[X],M),xa<na&&(na=xa,H=M,S=ja)))}if(T===(S+1)%w.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),X<S?(g(ba,w,X,S+1),ba.push(M),ea.push(M),0!==T&&g(ea,w,T,w.length),g(ea,
w,0,X+1)):(0!==X&&g(ba,w,X,w.length),g(ba,w,0,S+1),ba.push(M),ea.push(M),g(ea,w,T,X+1));else{T>S&&(S+=w.length);H=Number.MAX_VALUE;if(S<T)return v;for(ja=T;ja<=S;++ja)if(f(h(w,X-1),h(w,X),h(w,ja))&&c(h(w,X+1),h(w,X),h(w,ja))){xa=e(h(w,X),h(w,ja));if(T=xa<H)a:{T=w;J=X;M=ja;for(na=0;na!==T.length;++na)if(na!==J&&na!==M&&(na+1)%T.length!==J&&(na+1)%T.length!==M&&d(h(T,J),h(T,M),h(T,na),h(T,na+1))){T=!1;break a}T=!0}T&&(H=xa,V=ja%w.length)}X<V?(g(ba,w,X,V+1),0!==V&&g(ea,w,V,w.length),g(ea,w,0,X+1)):(0!==
X&&g(ba,w,X,w.length),g(ba,w,0,V+1),g(ea,w,V,X+1))}ba.length<ea.length?(x(ba,v,t,A,y,E,F),x(ea,v,t,A,y,E,F)):(x(ea,v,t,A,y,E,F),x(ba,v,t,A,y,E,F));return v}v.push(w);return v}self.Iya={fxa:function(w){var v=p(w);return 0<v.length?q(w,v):[w]},Pya:x,Xxa:function(w){var v;for(v=0;v<w.length-1;v++)for(var t=0;t<v-1;t++)if(d(w[v],w[v+1],w[t],w[t+1]))return!1;for(v=1;v<w.length-2;v++)if(d(w[0],w[w.length-1],w[v],w[v+1]))return!1;return!0},Uya:function(w,v){for(var t=0,A=w.length-1;3<w.length&&0<=A;--A){var y=
h(w,A-1);var E=h(w,A),F=h(w,A+1),H=v;H?(Ea[0]=E[0]-y[0],Ea[1]=E[1]-y[1],Fa[0]=F[0]-E[0],Fa[1]=F[1]-E[1],y=Math.acos((Ea[0]*Fa[0]+Ea[1]*Fa[1])/(Math.sqrt(Ea[0]*Ea[0]+Ea[1]*Ea[1])*Math.sqrt(Fa[0]*Fa[0]+Fa[1]*Fa[1])))<H):y=0===b(y,E,F);y&&(w.splice(A%w.length,1),t++)}return t},Vya:function(w,v){for(var t=w.length-1;1<=t;--t)for(var A=w[t],y=t-1;0<=y;--y){var E=A,F=w[y],H=v;Math.abs(E[0]-F[0])<=(H||0)&&Math.abs(E[1]-F[1])<=(H||0)&&w.splice(t,1)}},qya:function(w){for(var v=0,t=1;t<w.length;++t)if(w[t][1]<
w[v][1]||w[t][1]===w[v][1]&&w[t][0]>w[v][0])v=t;if(a(h(w,v-1),h(w,v),h(w,v+1)))return!1;v=[];t=w.length;for(var A=0;A!==t;A++)v.push(w.pop());for(A=0;A!==t;A++)w[A]=v[A];return!0}}}{"use strict";const d=self.D=class{constructor(){throw TypeError("static class can't be instantiated");}};d.yu=!1;d.mM=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Pg={}}
{"use strict";const d=self.D;d.aQ=class{constructor(b){this.nha=b;this.Va=new Map;this.vda()}vda(){var b=this.nha;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.wda(a)}wda(b){if(b)if(b.includes("=")){var a=b.indexOf("="),f=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Va.set(f,b)}else this.Va.set(b,null)}Vz(b){return this.Va.has(b)}ia(b){b=this.Va.get(b);return"undefined"===typeof b?null:b}};d.pG=new d.aQ(location.search);
d.Wpa=new d.aQ(location.hash);d.pG.ia("mode")}
{"use strict";const d=self.D,b=navigator.userAgent;let a={Qia:/linux|openbsd|freebsd|netbsd/i.test(b),Sha:/CrOS/.test(b),wE:/trident|iemobile|msie|tizen/i.test(b),Fxa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),zX:/bb10/i.test(b),iia:/edge\//i.test(b),tY:/trident/i.test(b),webkit:/webkit/i.test(b),qja:/safari\//i.test(b),Rha:/chrome\//i.test(b),Tha:/chromium\//i.test(b),Wha:/crosswalk|xwalk/i.test(b),Aya:/nwjs/i.test(b),Gha:/amazonwebappplatform/i.test(b),Nja:/wv\)/.test(b),Hha:/android/i.test(b),
Zia:/nokiabrowser\/[0-9.]+/i.test(b)};var Ua=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),sb=/android\s+[0-9.]+/i.exec(b),tb=/OPR\/[0-9.]+/.exec(b),ub=/tizen\s+[0-9.]+/i.exec(b),Bb=/iphone\s+os\s+[0-9_]+/i.exec(b),Cb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Db=/windows\s+phone\s+[0-9.]+/i.exec(b),Eb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Fb=/chrome\/[0-9.]+/i.exec(b),Gb=/chromium\/[0-9.]+/i.exec(b),Hb=/nwjs\/[0-9.]+/i.exec(b),Ib=/firefox\/[0-9.]+/i.exec(b),Jb=/msie\s+[0-9.]+/i.exec(b),Kb=/edge\/[0-9.]+/i.exec(b),
Lb=/edg\/[0-9.]+/i.exec(b),Mb=/silk\/[0-9.]+/i.exec(b);let f="(unknown)",c="(unknown)",e="(unknown)",h="(unknown)",g="(unknown)",l="browser",n=!1,p=!1,q=new Map;function r(w,v,t){!0===v?(t(),q.set(w,!0)):v&&v.length&&(t(v[0]),q.set(w,!0))}r("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),w=>{f="Windows";if(w=w.split(" ")[2])switch(w){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});r("isOSX",Ua,w=>{f="Mac OS X";(w=w.split(" ")[3])&&(c=w.replace("_","."))});r("isLinux",a.Qia,()=>{f="Linux"});r("isChromeOS",a.Sha,()=>{f="Chrome OS"});r("isAndroid",!a.wE&&sb,w=>{f="Android";(w=w.split(" ")[1])&&(c=w)});r("isTizen",ub,w=>{f="Tizen";(w=w.split(" ")[1])&&(c=w)});r("isIPhone",!a.wE&&Bb,w=>{f="iOS";(w=w.split(" ")[2])&&(c=w.replace("_","."))});r("isIPad",!a.wE&&Cb,w=>{f="iOS";(w=w.split(" ")[3])&&(c=w.replace("_","."))});r("isWindowsPhone",Db,w=>{f="Windows Phone";
(w=w.split(" ")[2])&&(c=w)});r("isWindowsPhoneOS",Eb,w=>{f="Windows Phone";(w=w.split(" ")[3])&&(c=w)});r("isBlackberry",a.zX,()=>{f="Blackberry";c="10";e="stock";g="webkit"});r("isChrome",!a.iia&&!a.opera&&Fb,w=>{e="Chrome";g="Chromium";(w=w.split("/")[1])&&(h=w)});r("isOpera",tb,w=>{e="Opera";g="Chromium";(w=w.split("/")[1])&&(h=w)});r("isChromium",Gb,w=>{g=e="Chromium";(w=w.split("/")[1])&&(h=w)});r("isFirefox",Ib,w=>{e="Firefox";g="Gecko";(w=w.split("/")[1])&&(h=w)});r("isInternetExplorer",Jb,
w=>{e="Internet Explorer";g="Trident";(w=w.split(" ")[1])&&(h=w)});r("isTrident","Internet Explorer"!==e&&a.tY,()=>{g="Trident";var w=/rv:[0-9.]+/i.exec(b);w&&w.length&&(e="Internet Explorer",(w=w[0].split(":")[1])&&(h=w))});r("isEdge",Kb,w=>{g=e="Edge";(w=w.split("/")[1])&&(h=w)});r("isEdgeChromium",Lb,w=>{e="Edge";g="Chromium";(w=w.split("/")[1])&&(h=w)});r("isSafari",a.qja&&!a.Zia&&!a.Rha&&!a.Tha&&!a.Exa&&!a.zX,()=>{e="Safari";g="WebKit";var w=/version\/[0-9.]+/i.exec(b),v=/crios\/[0-9.]+/i.exec(b),
t=/fxios\/[0-9.]+/i.exec(b);w&&w.length&&(w=w[0].split("/")[1])&&(h=w);v&&v.length&&(e="Chrome for iOS",(v=v[0].split("/")[1])&&(h=v));t&&t.length&&(e="Firefox for iOS",(t=t[0].split("/")[1])&&(h=t))});r("isSilk",Mb,w=>{e="Silk";(w=w.split("/")[1])&&(h=w)});r("isCrosswalk",a.Wha,()=>l="crosswalk");r("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");r("isNWJS",Hb,w=>{l="nwjs";e="NW.js";g="Chromium";(w=w.split("/")[1])&&(h=w)});r("isAmazonWebApp",a.Gha,()=>l="webapp");
r("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");r("isFalseSafari","Safari"===e&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>e="stock");r("isAndroidWebview","Chrome"===e&&"browser"===l&&a.Nja,()=>l="webview");r("isFirefoxOS","Firefox"===e&&"(unknown)"===f,()=>f="Firefox OS");r("isAndroidFallback","(unknown)"===f&&!a.wE&&a.Hha,()=>f="Android");r("isTridentFallback",
"(unknown)"===f&&a.tY,()=>g="Trident");r("isWebkitFallback","(unknown)"===f&&a.webkit,()=>g="WebKit");r("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===l,()=>n=!0);p="nwjs"===l;const x="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;x&&(f="iOS",c=h,p=n=!1);d.md={os:f,rqa:c,Fc:e,tla:h,GE:parseFloat(h),Xy:g,ME:l,Zoa:n,dA:!n,$oa:p,Voa:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Roa:"Mac OS X"===f||"iOS"===f,gpa:x,kpa:"Linux"===f}}"use strict";
{const d=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(x){return new Promise((w,v)=>{x.onsuccess=()=>w(x.result);x.onerror=()=>v(x.error)})}function c(x){return new Promise((w,v)=>{x.oncomplete=()=>w();x.onerror=()=>v(x.error);x.onabort=()=>v(x.error)})}function e(x,w){return g(x,w)}function h(x,w){return g(x,w,!0)}async function g(x,w,v=!1,
t=!0){const A=await l(x);try{const y=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return w(y)}catch(y){if(t&&"InvalidStateError"===y.name)return d.delete(x),g(x,w,v,!1);throw y;}}function l(x){p(x);let w=d.get(x);w instanceof Promise||(w=n(x),d.set(x,w),w.catch(()=>d.delete(x)));return w}async function n(x){p(x);const w=indexedDB.open(x,2);w.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(t){console.error(`Failed to create objectstore for database ${x}`,
t)}});return f(w)}function p(x){if("string"!==typeof x)throw new TypeError("expected string");}function q(x,w){const v=x.objectStore("keyvaluepairs").openCursor();return new Promise(t=>{const A=[];v.onsuccess=y=>{if(y=y.target.result){switch(w){case "entries":A.push([y.key,y.value]);break;case "keys":A.push(y.key);break;case "values":A.push(y.value)}y.continue()}else t(A)}})}class r{constructor(x){p(x);this.name=x}async ready(){await l(this.name)}set(x,w){p(x);return h(this.name,async v=>{var t=v.objectStore("keyvaluepairs").put(w,
x);t=f(t);v=c(v);await Promise.all([v,t])})}get(x){p(x);return e(this.name,async w=>{var v=w.objectStore("keyvaluepairs").get(x);v=f(v);w=c(w);[,w]=await Promise.all([w,v]);return w})}delete(x){p(x);return h(this.name,async w=>{var v=w.objectStore("keyvaluepairs").delete(x);v=f(v);w=c(w);await Promise.all([w,v])})}clear(){return h(this.name,async x=>{var w=x.objectStore("keyvaluepairs").clear();w=f(w);x=c(x);await Promise.all([x,w])})}keys(){return e(this.name,async x=>{if(a){var w=x.objectStore("keyvaluepairs").getAllKeys();
w=f(w)}else w=q(x,"keys");x=c(x);[,x]=await Promise.all([x,w]);return x})}values(){return e(this.name,async x=>{if(b){var w=x.objectStore("keyvaluepairs").getAll();w=f(w)}else w=q(x,"values");x=c(x);[,x]=await Promise.all([x,w]);return x})}entries(){return e(this.name,async x=>{var w=q(x,"entries");x=c(x);[,w]=await Promise.all([x,w]);return w})}}self.Y3=r}"use strict";
{const d=self.Y3,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function e(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function h(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=r=>n(r.data);p.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.I=l;a.set(this,new Map)}iw(l){if(!f)for(const n of b)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);f=!0;break}}async lV(l){l=
a.get(this).get(l);l=await h(l);return"undefined"===typeof l?null:l}async SW(l,n){n=await h(n);a.get(this).set(l,n)}IW(l){a.get(this).delete(l)}KU(){a.get(this).clear()}RV(){return Array.from(a.get(this).keys())}async getItem(l,n){e(n);if(f)return await this.lV(l);let p;try{p=await this.I.get(l)}catch(q){this.iw(q);if(f)return await this.lV(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){e(p);"undefined"===
typeof n&&(n=null);if(f)await this.SW(l,n);else try{await this.I.set(l,n)}catch(q){if(this.iw(q),f)await this.SW(l,n);else throw q;}}async removeItem(l,n){e(n);if(f)this.IW(l);else try{await this.I.delete(l)}catch(p){this.iw(p),f?this.IW(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){e(l);if(f)this.KU();else try{await this.I.clear()}catch(n){this.iw(n),f?this.KU():console.error("Error clearing storage: ",n)}}async keys(l){e(l);if(f)return this.RV();l=[];try{l=await this.I.keys()}catch(n){this.iw(n);
if(f)return this.RV();console.error("Error getting storage keys: ",n)}return l}ready(l){e(l);return f?Promise.resolve(!0):this.I.ready()}ZL(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.D;d.dc={};d.dc.swa=(()=>{try{if("Safari"===d.md.Fc||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();d.dc.dna="undefined"!==typeof HTMLDialogElement;d.dc.$ra=!!self.requestIdleCallback;d.dc.ImageBitmap=!!self.createImageBitmap;d.dc.ImageBitmapOptions=!1;if(d.dc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.dc.ImageBitmapOptions=!0}).catch(()=>{d.dc.ImageBitmapOptions=!1})}catch(b){d.dc.ImageBitmapOptions=!1}d.dc.Vla=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.md.Fc);d.dc.Rqa=!(!navigator.permissions||!navigator.permissions.query);d.dc.YP="undefined"!==typeof Proxy;d.dc.hna="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.dc.Su="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.dc.yna="function"===typeof fetch;d.dc.Tqa=!!(self.isSecureContext&&"Opera"!==d.md.Fc&&navigator.storage&&navigator.storage.persist);d.dc.dva=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var Nb;if("undefined"===typeof document||"iOS"===d.md.os)Nb=!1;else{var Ob=document.documentElement;Nb=!!(Ob.requestFullscreen||Ob.msRequestFullscreen||Ob.mozRequestFullScreen||Ob.webkitRequestFullscreen)}d.dc.C0=Nb;d.dc.Coa="undefined"!==typeof self.ImageDecoder;d.dc.mqa=!!self.showOpenFilePicker;
d.dc.nqa=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.D;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(d.Wu(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,f){return a.reduce((c,e)=>{0<f&&Array.isArray(e)?Array.prototype.push.apply(c,b(e,f-1)):c.push(e);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,
"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,c)=>b({usage:f,quota:c}),a))});"undefined"===typeof HTMLCollection||HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),
done:!1}}});"undefined"===typeof NodeList||NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof DOMTokenList||DOMTokenList.prototype[Symbol.iterator]||(DOMTokenList.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof FileList||FileList.prototype[Symbol.iterator]||(FileList.prototype[Symbol.iterator]=
function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof TextEncoder&&(self.TextEncoder=class{constructor(){Object.defineProperty(this,"encoding",{value:"utf-8",writable:!1})}encode(b){for(var a=b.length,f=-1,c=new Uint8Array(3*a),e,h,g=0;g!==a;){e=b.charCodeAt(g);g+=1;if(55296<=e&&56319>=e){if(g===a){c[f+=1]=239;c[f+=1]=191;c[f+=1]=189;break}h=b.charCodeAt(g);if(56320<=h&&57343>=h){if(e=1024*(e-55296)+h-56320+65536,g+=1,65535<e){c[f+=1]=240|
e>>>18;c[f+=1]=128|e>>>12&63;c[f+=1]=128|e>>>6&63;c[f+=1]=128|e&63;continue}}else{c[f+=1]=239;c[f+=1]=191;c[f+=1]=189;continue}}127>=e?c[f+=1]=0|e:(2047>=e?c[f+=1]=192|e>>>6:(c[f+=1]=224|e>>>12,c[f+=1]=128|e>>>6&63),c[f+=1]=128|e&63)}return new Uint8Array(c.buffer.slice(0,f+1))}toString(){return"[object TextEncoder]"}},TextEncoder[Symbol.toStringTag]="TextEncoder");if("undefined"===typeof TextDecoder){function b(c){const e=c[Symbol.iterator]();return{next:()=>e.next(),[Symbol.iterator](){return this}}}
function a(c){c=c.next();if(c.done)throw Error("unexpected end of input");if(0!=(c.value&192^128))throw Error("invalid byte");return c.value&63}const f=new Map;f.set("utf-8",(c,e)=>{if(c.buffer)var h=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);else if(h instanceof ArrayBuffer)h=new Uint8Array(c);else throw Error("Invalid parameter");c=b(h);h=[];try{for(const g of c){let l;if(127>g)l=g&127;else if(223>g)l=(g&31)<<6|a(c);else if(239>g)l=(g&15)<<12|a(c)<<6|a(c);else if(247>g)l=(g&7)<<18|a(c)<<
12|a(c)<<6|a(c);else throw Error("Invalid character");h.push(String.fromCodePoint(l))}}catch(g){if(e)throw g;h.push("\ufffd")}return h.join("")});f.set("utf8",f.get("utf-8"));f.set("utf-16le",()=>{throw Error("utf-16le decoder not implemented");});self.TextDecoder=class{constructor(c="utf-8",e={}){const h=f.get(c);if(!h)throw Error(`TextDecoder polyfill does not support "${c}"`);Object.defineProperty(this,"fatal",{value:!0===e.fatal,writable:!1});Object.defineProperty(this,"_decoder",{value:h,writable:!1});
Object.defineProperty(this,"encoding",{value:c,writable:!1})}decode(c){return this._decoder(c,this.fatal)}toString(){return"[object TextDecoder]"}};TextDecoder[Symbol.toStringTag]="TextDecoder"}"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.D;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+d.uz())}}
{"use strict";const d=self.D,b=self.Pg;d.En=function(f){return"number"===typeof f};d.Bn=function(f){return d.En(f)&&isFinite(f)};d.ug=function(f){if(!d.En(f))throw new TypeError("expected number");};d.kQ=function(){};d.wsa=function(f,c,e){if(!d.En(f)||isNaN(f)||c>f||e<f)throw new RangeError("number outside of range");};d.hsa=function(...f){for(let c of f);};d.gh=function(f){if(!d.Bn(f))throw new TypeError("expected finite number");};d.hQ=function(){};d.esa=function(...f){for(let c of f);};d.hj=function(f){return"string"===
typeof f};d.jf=function(f){if(!d.hj(f))throw new TypeError("expected string");};d.mQ=function(){};d.jsa=function(...f){for(let c of f);};d.dP=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};d.Jsa=function(f){if(!d.dP(f))throw new TypeError("expected simple object");};d.Gsa=function(f){if(!d.Ge(f)&&!d.dP(f))throw new TypeError("expected simple object");};d.cP=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};d.fQ=function(f){if(!d.cP(f))throw new TypeError("expected object");
};d.lQ=function(){};d.isa=function(...f){for(let c of f);};d.VF=function(f){return d.Cn(f,Blob)&&"string"===typeof f.name};d.usa=function(f){if(!d.VF(f))throw new TypeError("expected file");};d.Esa=function(){};d.Hp=function(f){return Array.isArray(f)};d.vG=function(f){if(!d.Hp(f))throw new TypeError("expected array");};d.gQ=function(){};d.dsa=function(...f){for(let c of f);};d.s3=function(f){return d.Hp(f)?f.length?d.Hp(f[0])?!0:!1:!0:!1};d.csa=function(f){if(!d.s3(f))throw new TypeError("expected 2d array");
for(let c of f)if(!d.Hp(c))throw new TypeError("expected 2d array");};d.xsa=function(){};d.WF=function(f){return"function"===typeof f};d.Bk=function(f,c){if(!d.WF(f))throw new TypeError("expected function");if(!d.Ge(c)&&f!==c)throw new TypeError("expected same function reference");};d.iQ=function(){};d.fsa=function(...f){for(let c of f);};d.lsa=function(f,...c){if(!d.WF(f))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let e of c)if(!d.Ge(e)&&
f===e)return;throw new TypeError("expected same function reference");};d.ysa=function(...f){if(!d.Ge(f))for(let c of f);};d.Cn=function(f,c){return f instanceof c};d.aP=function(f,...c){for(let e of c)if(d.Cn(f,e))return!0;return!1};d.wG=function(f,c){if(!d.Cn(f,c))throw new TypeError("unexpected type");};d.jQ=function(){};d.gsa=function(f,...c){for(let e of c);};d.msa=function(f,...c){if(!d.aP(f,...c))throw new TypeError("unexpected type");};d.nsa=function(f,...c){if(!d.Ge(f)&&!d.aP(f,...c))throw new TypeError("unexpected type");
};d.Soa=function(f,c){for(let e of f)if(!d.Cn(e,c))return!1;return!0};d.Toa=function(f){for(let c of f)if(!d.Bn(c))return!1;return!0};d.osa=function(f){for(let c of f);};d.zsa=function(f){if(!d.Ge(f))for(let c of f);};d.qsa=function(f){for(let c of f);};d.Asa=function(f){if(!d.Ge(f))for(let c of f);};d.Woa=function(f,c){return d.Ge(f)||!d.hj(f.nodeName)?!1:!c||d.Nh(f.nodeName,c)};d.rsa=function(f,c){if(d.Ge(f)||!d.hj(f.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Nh(f.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.Bsa=function(){};d.XF=function(f,c){return d.Ge(f)||!d.hj(f.tagName)?!1:!c||d.Nh(f.tagName,c)};d.vsa=function(f,c){if(d.Ge(f)||!d.hj(f.tagName))throw new TypeError("expected HTML element");if(c&&!d.Nh(f.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Fsa=function(){};d.UO=function(f){return d.XF(f,"img")||d.XF(f,"canvas")||d.XF(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};d.ssa=function(f){if(!d.UO(f))throw new TypeError("expected drawable");
};d.Csa=function(){};d.VO=function(f){return f instanceof ImageData?!0:d.UO(f)};d.tsa=function(f){if(!d.VO(f))throw new TypeError("expected drawable or image data");};d.Dsa=function(f){if(!d.Ge(f)&&!d.VO(f))throw new TypeError("expected drawable or image data");};d.R3=function(f){return"string"===typeof f||f instanceof d.MF||f instanceof d.Al};d.Ksa=function(f){if(!d.R3(f))throw new TypeError("expected string-like");};d.Hsa=function(){};d.ksa=function(...f){for(let c of f);};d.Isa=function(){throw Error("must be overridden");
};d.qqa=function(){throw Error("not yet implemented");};d.Yoa=function(f,...c){if("undefined"===typeof f)return!1;for(let e of c){if("undefined"===typeof f[e])return!1;f=f[e]}return!0};d.Ge=function(f){return"undefined"===typeof f||null===f};d.Xka=function(f){let c=f[0].constructor;for(let e of f)if(e.constructor!==c)return!1;return c};d.Yka=function(f,c){for(let e of f)if(!(e instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);d.Dpa=function(f){return d.Cn(f,a)};d.Lsa=function(){};
d.rwa=function(f){d.n9(f,a)};d.qwa=function(f,...c){if(!d.m9(f,...c))throw new TypeError("unexpected type");};d.m9=function(f,...c){for(const e of c)if(d.tR(f,e))return!0;return!1};d.n9=function(f,c){if(!d.tR(f,c))throw new TypeError("unexpected type");};d.tR=function(f,c){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===c.name)return!0;return!1};b.ug=d.ug;b.kQ=d.kQ;b.gh=d.gh;b.hQ=d.hQ;b.jf=d.jf;b.mQ=d.mQ;b.fQ=d.fQ;b.lQ=d.lQ;b.vG=d.vG;b.gQ=d.gQ;b.Bk=d.Bk;b.iQ=d.iQ;b.wG=d.wG;b.jQ=d.jQ;b.Ge=
d.Ge}
{"use strict";const d=self.D,b=new Map;d.Ora=function(q,...r){b.has(q)||b.set(q,-1);-1===b.get(q)&&b.set(q,requestAnimationFrame(()=>{console.log(`%c${q}`,"font-weight: bold",...r);b.set(q,-1)}))};d.uz=function(){return Error().stack};d.ana=function(){debugger};d.Xwa=function(q,r){return q&&q instanceof r?q:null};d.xl=function(q){return"undefined"===typeof q?"undefined":null===q?"null":"boolean"===typeof q?"<boolean>":d.En(q)?"<number>":d.hj(q)?"<string>":d.Hp(q)?"<array>":"symbol"===typeof q?"<"+
q.toString()+">":d.WF(q)?q.name&&"Function"!==q.name?q.name:"<anonymous function>":"object"===typeof q?q.constructor&&q.constructor.name&&"Object"!==q.constructor.name?q.constructor.name:"<anonymous object>":"<unknown>"};d.bE=function(q){return null===q?"null":Array.isArray(q)?"array":typeof q};d.range=function*(q,r){if(!isFinite(Math.abs(q-r)))throw Error("Invalid parameters");if(q>r)for(--q;q>=r;q--)yield q;else for(;q<r;q++)yield q};let a=new Map,f=new Map,c=new WeakMap,e=new WeakMap;d.Sr={};const h=
new Set(["then","splice"]);function g(q){console.warn("[Defence] "+q+" @",d.uz())}d.Sr.get=function(q,r){r in q||"symbol"===typeof r||h.has(r)||g(`Accessed missing property '${r}' from defended object '${d.xl(q)}', returning undefined`);e.has(q)&&"symbol"!==typeof r&&!h.has(r)&&g(`Accessed property '${r}' on a released object '${d.xl(q)}'\nObject was originally released at: ${e.get(q)})\nCall stack at access: `);return q[r]};d.Sr.set=function(q,r,x){r in q||a.has(q)||g(`Set non-existent property '${r}' to '${x}' on defended object '${d.xl(q)}'`);
{var w=d.bE(q[r]);let v=d.bE(x);w="null"===w||"null"===v?!0:"undefined"===w||"undefined"===v?!1:w===v}w||a.has(q)||g(`Set '${d.bE(q[r])}' property '${r}' to type '${d.bE(x)}' on defended object '${d.xl(q)}'`);e.has(q)&&g(`Set property '${r}' on a released object '${d.xl(q)}'\nObject was originally released at: ${e.get(q)})\nCall stack at access: `);q[r]=x;return!0};d.Sr.deleteProperty=function(q,r){throw new ReferenceError(`Cannot delete property '${r}' from defended object '${d.xl(q)}'`);};d.Sr.defineProperty=
function(q,r){throw new ReferenceError(`Cannot define property '${r}' on defended object '${d.xl(q)}'`);};d.Sr.jxa=function(q){throw new ReferenceError(`Cannot enumerate defended object '${d.xl(q)}'`);};let l=-1;function n(){l=-1;if(0<a.size||0<f.size){let q=[...new Set([...a.keys()].map(r=>d.xl(r)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${q}`);a.clear();
f.clear()}}d.ta=class{constructor(){if(d.mM&&d.dc.YP){var q=new.target;q=Object.create(q.prototype);var r=new Proxy(q,d.Sr);a.set(q,r);f.set(r,q);c.set(r,q);-1===l&&(l=requestAnimationFrame(n));return r}}};d.Yha=function(q){if(d.mM&&d.dc.YP&&q instanceof d.ta){if(!f.has(q))return q;let r=f.get(q);f.delete(q);a.delete(r);return q}return d.yu?Object.seal(q):q};d.F=function(q,...r){let x;try{x=new q(...r)}catch(t){throw f.clear(),a.clear(),t;}if(d.mM){r=x;var w=new Set;for(v in r)w.add(v);var v=w;if(r=
p.get(q)){w=[];for(let t of r.values())v.has(t)?v.delete(t):w.push(t);d.ep(w,[...v]);w.length&&console.warn(`[Defence] '${d.xl(q)}' constructor creates inconsistent properties: ${w.join(", ")}`)}else p.set(q,v)}return d.Yha(x)};d.A=function(q){(q=c.get(q))&&e.set(q,d.uz())};d.Js=function(){let q=c.get(void 0);return q?!!e.get(q):!1};let p=new Map;d.Pqa=class{constructor(q){this.na="";q&&this.start(q)}start(q){this.na=q;performance.mark(this.na+"-Start")}end(){performance.mark(this.na+"-End");performance.measure(this.na,
this.na+"-Start",this.na+"-End")}next(q){this.end();this.na=q;performance.mark(this.na+"-Start")}}}
{"use strict";const d=self.D,b=2*Math.PI,a=Math.PI/180,f=180/Math.PI;d.wrap=function(e,h,g){e=Math.floor(e);h=Math.floor(h);g=Math.floor(g);return e<h?(e=g-(h-e)%(g-h),e===g?0:e):h+(e-h)%(g-h)};d.Uia=function(e,h,g,l){return(e-h)*(l-0)/(g-h)};d.normalize=function(e,h,g){return(e-h)/(g-h)};d.fa=function(e,h,g){return e<h?h:e>g?g:e};d.td=function(e){e%=b;0>e&&(e+=b);return e};d.Ba=function(e){return e*a};d.Sc=function(e){return e*f};d.hg=function(e,h,g,l){return Math.hypot(g-e,l-h)};d.JX=function(e,
h,g,l){e=g-e;h=l-h;return e*e+h*h};d.Hf=function(e,h,g,l){return Math.atan2(l-h,g-e)};d.Dr=function(e,h){if(e===h)return 0;e=Math.sin(e)*Math.sin(h)+Math.cos(e)*Math.cos(h);return 1<=e?0:-1>=e?Math.PI:Math.acos(e)};d.UL=function(e,h,g){let l=Math.sin(e),n=Math.cos(e),p=Math.sin(h),q=Math.cos(h);return Math.acos(l*p+n*q)>g?0<n*p-l*q?d.td(e+g):d.td(e-g):d.td(h)};d.De=function(e,h){return 0>=Math.cos(e)*Math.sin(h)-Math.sin(e)*Math.cos(h)};d.TL=function(e,h,g,l=0){let n=d.Dr(e,h);l*=b;return d.De(h,
e)?d.td(e+(n+l)*g):d.td(e-(n+l)*g)};d.Jha=function(e,h,g,l=0){const n=d.Dr(e,h);l*=b;return d.De(h,e)?d.td(e+(n+l)*g):d.td((b-n+l)*g)};d.Iha=function(e,h,g,l=0){const n=d.Dr(e,h);l*=b;return d.De(h,e)?d.td((-b+n-l)*g):d.td(e-(n+l)*g)};d.Ec=function(e,h,g){return e+g*(h-e)};d.uE=function(e,h,g){return e===h?0:(g-e)/(h-e)};d.mja=function(e,h,g,l){return d.Ec(0,l,d.uE(e,h,g))};d.lE=function(e,h,g,l){return d.Ec(d.Ec(e,h,l),d.Ec(h,g,l),l)};d.HX=function(e,h,g,l,n){return d.Ec(d.lE(e,h,g,n),d.lE(h,g,l,
n),n)};d.GX=function(e,h,g){return(e+h+(e-h)*Math.cos(g*Math.PI))/2};d.yl=function(e){return 0<e&&0===(e-1&e)};d.vM=function(e){--e;for(let h=1;32>h;h<<=1)e|=e>>h;return e+1};d.gza=function(e,h){return Math.round(e*h)/h};d.qxa=function(e,h){return Math.floor(e*h)/h};d.LM=function(e){return Math.round(1E6*e)/1E6};d.toFixed=function(e,h){e=e.toFixed(h);for(h=e.length-1;0<=h&&"0"===e.charAt(h);--h);0<=h&&"."===e.charAt(h)&&--h;return 0>h?e:e.substr(0,h+1)};d.O5=function(e,h,g){return d.fa(e,0,255)|d.fa(h,
0,255)<<8|d.fa(g,0,255)<<16};d.qA=function(e,h,g,l){e=d.fa(Math.floor(1024*e),-8192,8191);h=d.fa(Math.floor(1024*h),-8192,8191);g=d.fa(Math.floor(1024*g),-8192,8191);l=d.fa(Math.floor(1023*l),0,1023);0>e&&(e+=16384);0>h&&(h+=16384);0>g&&(g+=16384);return-(274877906944*e+16777216*h+1024*g+l)};d.VP=function(e,h,g){return d.qA(e,h,g,1)};d.zF=function(e){if(0<=e)return(e&255)/255;e=Math.floor(-e/274877906944);8191<e&&(e-=16384);return e/1024};d.nF=function(e){if(0<=e)return((e&65280)>>8)/255;e=Math.floor(-e%
274877906944/16777216);8191<e&&(e-=16384);return e/1024};d.aF=function(e){if(0<=e)return((e&16711680)>>16)/255;e=Math.floor(-e%16777216/1024);8191<e&&(e-=16384);return e/1024};d.F0=function(e){return 0===e&&0>1/e?0:0<=e?1:Math.floor(-e%1024)/1023};d.sia=function(e,h){e=Math.floor(e);for(h=Math.floor(h);0!==h;){let g=h;h=e%h;e=g}return e};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Hxa=function(e,h){e=Math.floor(e);h=Math.floor(h);if(e===h)return[1,1];for(var g of c){let l=
e/g[0]*g[1];if(1>Math.abs(h-l))return g.slice(0);l=e/g[1]*g[0];if(1>Math.abs(h-l))return[g[1],g[0]]}g=d.sia(e,h);return[e/g,h/g]};d.mza=function(e,h,g,l,n,p,q,r){var x=Math.min(e,g),w=Math.max(n,q);if(Math.max(e,g)<Math.min(n,q)||x>w)return!1;x=Math.min(h,l);w=Math.max(p,r);if(Math.max(h,l)<Math.min(p,r)||x>w)return!1;x=n-e+q-g;w=p-h+r-l;e=g-e;h=l-h;n=q-n;p=r-p;r=Math.abs(h*n-p*e);return Math.abs(n*w-p*x)>r?!1:Math.abs(e*w-h*x)<=r};d.nn=function(e,h,g,l,n,p,q,r,x,w,v,t){const A=Math.max(x,v);if(p<
Math.min(x,v)||n>A)return!1;n=Math.max(w,t);if(r<Math.min(w,t)||q>n)return!1;q=x-e+v-g;r=w-h+t-l;e=g-e;h=l-h;x=v-x;w=t-w;t=Math.abs(h*x-w*e);return Math.abs(x*r-w*q)>t?!1:Math.abs(e*r-h*q)<=t};d.mE=function(e,h,g,l,n){const p=Math.min(e,g),q=Math.max(e,g),r=Math.min(h,l),x=Math.max(h,l),w=n.jc,v=n.kc,t=n.Pc,A=n.Qc,y=n.$c,E=n.bd,F=n.Jc;n=n.Kc;return d.nn(e,h,g,l,p,q,r,x,w,v,t,A)||d.nn(e,h,g,l,p,q,r,x,t,A,y,E)||d.nn(e,h,g,l,p,q,r,x,y,E,F,n)||d.nn(e,h,g,l,p,q,r,x,F,n,w,v)};d.lza=function(e,h,g,l,n){const p=
Math.min(e,g),q=Math.max(e,g),r=Math.min(h,l),x=Math.max(h,l);let w=0;for(let v=n.length-4;w<=v;w+=2)if(d.nn(e,h,g,l,p,q,r,x,n[w],n[w+1],n[w+2],n[w+3]))return!0;return d.nn(e,h,g,l,p,q,r,x,n[w],n[w+1],n[0],n[1])};d.lja=function(e,h,g,l,n,p,q,r){g-=e;p=r-p;const x=g*p-(l-h)*(q-n);if(0===x)return 2;l=((h-l)*(q-e)+g*(r-h))/x;return 0<l&&1.000001>l?(p*(q-e)+(n-q)*(r-h))/x:2};d.Ly=function(e,h,g,l,n,p,q,r,x){const w=(q-n)*x;x*=r-p;return d.lja(e,h,g,l,n-w,p-x,q+w,r+x)};d.Fia=function(e,h,g,l,n,p,q,r){n-=
g;p-=l;q-=g;r-=l;e-=g;g=h-l;h=n*n+p*p;l=n*q+p*r;n=n*e+p*g;p=q*q+r*r;q=q*e+r*g;r=1/(h*p-l*l);p=(p*n-l*q)*r;n=(h*q-l*n)*r;return 0<=p&&0<=n&&1>=p+n};d.Hja=function(e,h,g,l,n,p,q,r){n-=g;p-=l;q-=g;r-=l;e-=g;const x=h-l;h=n*n+p*p;l=n*q+p*r;g=q*q+r*r;n=e*n+x*p;p=e*q+x*r;q=h*g-l*l;r=(g*n-l*p)/q;n=(h*p-l*n)/q;return[1-r-n,r,n]};d.Gja=function(e,h,g,l,n,p,q,r,x){return[e*l+h*p+g*r,e*n+h*q+g*x]}}
{"use strict";const d=self.D;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}d.Una=function(){return a};d.bF=function(){if(!b)return"";const l=b.location;return d.K1(l.origin+l.pathname)+a};d.K1=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.Yna=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.e1=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.Cz=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.D4=function(l){return l.replace(/\\/g,"/")};d.cpa=function(l,n){return n===(l?d.e1(l).slice(1):"")};d.zna=function(l,n){let p,q;d.VF(l)&&(p=d.Cz(l.name));d.hj(l)&&(p=
d.Cz(l));d.VF(n)&&(q=d.Cz(n.name));d.hj(n)&&(q=d.Cz(n));return p===q};d.Nqa=function(l){l=d.D4(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",r=l,x="";0<p&&(q=l.slice(0,p),r=l.slice(p));l=r;p=r.lastIndexOf(".");0<p&&(x=r.slice(p),l=r.slice(0,-x.length));return{dir:q,Qwa:r,name:l,root:n,ext:x,Cxa:n+q+r}};d.cH=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};d.wza=function(l){try{l()}catch(n){d.yu&&console.warn("Swallowed exception: ",n)}};d.yya=function(){};d.Nh=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.kxa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.Ija=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};d.Ee=function(l,n){l.length=n};d.H=function(l){l&&0!==l.length&&d.Ee(l,0)};d.Uha=function(l){if(l){for(let n=0;n<l.length;n++)d.Ee(l[n],0);d.Ee(l,0)}};d.$D=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};d.gY=function(l){var n=4;const p=l.length;n<p?d.Ee(l,n):n>p&&d.$D(l,n,"0")};d.Qd=function(l,n){d.H(l);d.ep(l,n)};d.ep=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
d.Mha=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];d.Ee(l,p)}};d.Er=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.Pwa=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};d.Lha=function(l,n){let p=[],q=0;for(let r=0,x=l.length;r<x;++r){let w=l[r];n(w)?p.push(w):(l[q]=w,++q)}d.Ee(l,q);return p};d.Mh=function(l,n){const p=l.length;let q=0;for(let r=0,x=l.length;r<x;++r){let w=l[r];n.has(w)||
(l[q++]=w)}d.Ee(l,q);return p-q};d.Aia=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.Lza=function(l,n){if(!d.Aia(l,n))throw new RangeError("array index out of bounds");};d.VD=function(l){return l.slice()};d.Zha=function(l,n){let p=[];for(let q of l)if(d.cP(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else d.Hp(q)?p.push(d.Zha(q,n)):p.push(q);return p};d.Ywa=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};d.uya=function(l,n){return new Set([...l,...n])};d.vya=function(l,n){for(const p of n)l.add(p);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.Pxa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.b6=function(l,n){return l.length?new Promise((p,
q)=>{const r=[];let x=0,w=!1;for(let v=0,t=l.length;v<t;++v)r.push(void 0),l[v].then(A=>{w||(r[v]=A,++x,x===l.length?p(r):n(x,l.length))}).catch(A=>{w=!0;q(A)})}):Promise.resolve([])};let f=[];d.pka=function(l){f.push(l)};d.Xna=function(){let l=0;for(let n of f){let p=n();l+=p}return Math.floor(l)};let c=1;const e=new Map,h=new MessageChannel;h.port2.onmessage=function(l){l=l.data;const n=e.get(l);e.delete(l);n&&n(performance.now())};d.uG=function(l){const n=c++;e.set(n,l);h.port1.postMessage(n);
return n};d.pZ=function(l){e.delete(l)};d.W5=d.uG;d.j9=function(){return new Promise(l=>d.W5(l))};const g=new Set;d.bsa=function(l){const n=self.requestAnimationFrame(async p=>{await d.j9();g.has(n)&&(g.delete(n),l(p))});g.add(n);return n};d.Mla=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.D;d.RF=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};d.aG=function(b){return!d.RF(b)};d.N8=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};d.pz=function(b){return fetch(b,void 0).then(a=>{d.N8(a);return a})};d.Yu=function(b){return d.pz(b).then(a=>a.text())};d.NN=function(b){return d.pz(b).then(a=>a.json())};d.Dl=function(b){return d.pz(b).then(a=>a.blob())};d.Xu=function(b){return d.pz(b).then(a=>
a.arrayBuffer())};d.x0=function(b){return new Promise((a,f)=>{const c=new Image;c.onload=()=>a(c);c.onerror=e=>f(e);c.src=b})};d.hZ=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,f)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>f(c.error);c.readAsArrayBuffer(b)})};d.fN=function(b){return"function"===typeof b.text?b.text():new Promise((a,f)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>f(c.error);c.readAsText(b)})};d.pla=function(b){return d.fN(b).then(a=>
JSON.parse(a))};d.eN=async function(b,a){b=URL.createObjectURL(b);try{const f=await d.x0(b);URL.revokeObjectURL(b);b="";a&&"function"===typeof f.decode&&await f.decode();return f}finally{b&&URL.revokeObjectURL(b)}};d.Qg=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=b;f.height=a;return f}return new OffscreenCanvas(b,a)};d.Su=function(b,a,f){"number"!==typeof f&&(f=1);a=a||"image/png";f=d.fa(f,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,f)):b.convertToBlob?b.convertToBlob({type:a,quality:f}):d.zl(()=>d.pN(b,a,f))};d.pN=function(b,a,f){"number"!==typeof f&&(f=1);a=a||"image/png";f=d.fa(f,0,1);return d.YZ(b.toDataURL(a,f))};d.YZ=function(b){b=d.P5(b);return d.gZ(b.data,b.Via)};d.P5=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var f=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];f="base64"===a[1]||"base64"===c?atob(f):decodeURIComponent(f);return{Via:b,data:f}};d.gZ=function(b,a){var f=b.length;let c=f>>2,e=new Uint8Array(f),h=new Uint32Array(e.buffer,0,c),g,l;for(l=g=0;g<c;++g)h[g]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(f&=3;f--;)e[l]=b.charCodeAt(l),++l;return a?new Blob([e],{type:a}):new Blob([e])};d.FN=function(b){const a=d.Qg(b.width,b.height);a.getContext("2d").drawImage(b,0,0);return d.Su(a,void 0,void 0)};d.Boa=
function(b,a,f){const c=d.Qg(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return d.pN(c,a,f)};d.I2=function(b){if(d.dc.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(a=>d.FN(a));if(d.dc.ImageBitmap)return createImageBitmap(b).then(a=>d.FN(a));{const a=d.Qg(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return d.Su(a,void 0,void 0)}};d.NZ=function(b,a){b.clear();for(const f of a)b.add(f)};d.aqa=function(b){const a=Object.create(null);for(const [f,
c]of b.entries())a[f]=c;return a};d.sqa=function(b,a){a.clear();for(const [f,c]of Object.entries(b))a.set(f,c)};d.aH=function f(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>f(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],f(c[1])])};{const c=Object.create(null);for(const [e,h]of Object.entries(a))c[e]=f(h);return c}}return a};d.YE=function c(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(e=>
c(e)));if("map"===f._c3type_)return new Map(f.data.map(e=>[e[0],c(e[1])]));{const e=Object.create(null);for(const [h,g]of Object.entries(f))e[h]=c(g);return e}}return f};d.kZ=function(f){let c="",e=!1;for(const h of f)"-"===h?e=!0:e?(c+=h.toUpperCase(),e=!1):c+=h;return c};d.Dn=function(f){return"object"===typeof f&&"function"===typeof f.next};d.r4=function(f){const c=[];for(let e=0;e<f;++e)c.push(0);return c}}
{"use strict";const d=self.D,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function f(c,e,h){0>h&&(h+=1);1<h&&--h;return h<1/6?c+6*(e-c)*h:.5>h?e:h<2/3?c+(e-c)*(2/3-h)*6:c}d.pb=class{constructor(c,e,h,g){this.fb=this.kb=this.Qa=this.lb=0;c instanceof d.pb?this.set(c):this.pp(c||0,e||0,h||0,g||0)}pE(c,e,h){this.lb=+c;this.Qa=+e;this.kb=+h;this.fa()}pp(c,e,h,g){this.lb=+c;this.Qa=+e;this.kb=+h;this.fb=+g;this.fa()}set(c){this.lb=c.lb;this.Qa=c.Qa;this.kb=c.kb;
this.fb=c.fb;return this}Ka(c){return this.set(c)}add(c){this.lb+=c.lb;this.Qa+=c.Qa;this.kb+=c.kb;this.fb+=c.fb;this.fa()}vX(c,e,h){this.lb+=+c;this.Qa+=+e;this.kb+=+h;this.fb+=0;this.fa()}hn(c){this.lb=c.lb;this.Qa=c.Qa;this.kb=c.kb}Ir(c){this.lb=d.fa(+c,0,1)}Eu(c){this.Qa=d.fa(+c,0,1)}Hr(c){this.kb=d.fa(+c,0,1)}Oh(c){this.fb=d.fa(+c,0,1)}clone(){return d.F(d.pb,this.lb,this.Qa,this.kb,this.fb)}toArray(){return[this.lb,this.Qa,this.kb,this.fb]}Ph(c,e){c[e++]=this.lb;c[e++]=this.Qa;c[e++]=this.kb;
c[e]=this.fb}jd(c){return this.lb===c.lb&&this.Qa===c.Qa&&this.kb===c.kb&&this.fb===c.fb}ip(c){return this.lb===c.lb&&this.Qa===c.Qa&&this.kb===c.kb}Ay(c,e,h,g){return this.lb===c&&this.Qa===e&&this.kb===h&&this.fb===g}multiply(c){this.lb*=c.lb;this.Qa*=c.Qa;this.kb*=c.kb;this.fb*=c.fb}kE(){this.lb*=this.fb;this.Qa*=this.fb;this.kb*=this.fb}fa(){this.lb=d.fa(this.lb,0,1);this.Qa=d.fa(this.Qa,0,1);this.kb=d.fa(this.kb,0,1);this.fb=d.fa(this.fb,0,1);return this}Py(c){this.lb=d.zF(c);this.Qa=d.nF(c);
this.kb=d.aF(c);this.fb=d.F0(c)}oia(){return`rgb(${100*(d.Bn(void 0)?NaN:this.lb)}%, ${100*(d.Bn(void 0)?NaN:this.Qa)}%, ${100*(d.Bn(void 0)?NaN:this.kb)}%)`}fja(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var e=parseInt(c[0],16)/15;var h=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)e=parseInt(c.substr(0,2),16)/255,h=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(e)&&this.Ir(e);isFinite(h)&&this.Eu(h);
isFinite(c)&&this.Hr(c);this.Oh(1)}}iE(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var e=c.split(",");if(!(3>e.length)){c=parseInt(e[0].trim(),10)/255;var h=parseInt(e[1].trim(),10)/255;e=parseInt(e[2].trim(),10)/255;isFinite(c)&&this.Ir(c);isFinite(h)&&this.Eu(h);isFinite(e)&&this.Hr(e);this.Oh(1)}}}$X(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var e=c.split(",");if(!(3>e.length)){c=parseInt(e[0].trim(),10)/100;var h=parseInt(e[1].trim(),10)/100;e=parseInt(e[2].trim(),
10)/100;isFinite(c)&&this.Ir(c);isFinite(h)&&this.Eu(h);isFinite(e)&&this.Hr(e);this.Oh(1)}}}bY(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var e=c.split(",");if(!(4>e.length)){c=parseInt(e[0].trim(),10)/255;var h=parseInt(e[1].trim(),10)/255,g=parseInt(e[2].trim(),10)/255;e=parseFloat(e[3].trim());isFinite(c)&&this.Ir(c);isFinite(h)&&this.Eu(h);isFinite(g)&&this.Hr(g);isFinite(e)&&this.Oh(e)}}}aY(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var e=c.split(",");if(!(4>e.length)){c=
parseInt(e[0].trim(),10)/100;var h=parseInt(e[1].trim(),10)/100,g=parseInt(e[2].trim(),10)/100;e=parseFloat(e[3].trim());isFinite(c)&&this.Ir(c);isFinite(h)&&this.Eu(h);isFinite(g)&&this.Hr(g);isFinite(e)&&this.Oh(e)}}}cY(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.$X(c):this.iE(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.aY(c):this.bY(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.eja(c);return}{const e=
c.split(",");if(c.includes("%")){if(3===e.length){this.$X(c);return}4===e.length&&this.aY(c)}else{if(3===e.length){this.iE(c);return}4===e.length&&this.bY(c)}return}}this.fja(c)}}toJSON(){return[this.lb,this.Qa,this.kb,this.fb]}jY(c,e,h,g){c%=360;e=d.fa(e,0,100);h=d.fa(h,0,100);g=d.fa(g,0,1);c/=360;e/=100;h/=100;if(0===e)h=e=c=h;else{const l=.5>h?h*(1+e):h+e-h*e,n=2*h-l;h=f(n,l,c+1/3);e=f(n,l,c);c=f(n,l,c-1/3)}this.Ir(h);this.Eu(e);this.Hr(c);this.Oh(g)}eja(c){var e=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=b.exec(e);e=a.exec(e);c&&4===c.length?this.jY(+c[1],+c[2],+c[3],1):e&&5===e.length&&this.jY(+c[1],+c[2],+c[3],+c[4])}np(c){!Array.isArray(c)||3>c.length||(this.lb=c[0],this.Qa=c[1],this.kb=c[2],this.fb=4<=c.length?c[3]:1)}set r(c){this.Ir(c)}get r(){return this.lb}set Oha(c){this.Hr(c)}get Oha(){return this.kb}set bp(c){this.Oh(c)}get bp(){return this.fb}static TE(c,e){return d.fa(Math.max(c,e)-Math.min(c,e),0,1)}};d.pb.uwa=Object.freeze(d.F(d.pb,1,1,1,1));d.pb.nla=Object.freeze(d.F(d.pb,0,
0,0,1));d.pb.Qva=Object.freeze(d.F(d.pb,0,0,0,0))}
{"use strict";const d=self.D;d.Uv=class{constructor(b,a){this.Y=this.da=0;b instanceof d.Uv?this.Ka(b):this.set(b||0,a||0)}set(b,a){this.da=+b;this.Y=+a}Ka(b){this.da=b.da;this.Y=b.Y}jd(b){return this.da===b.da&&this.Y===b.Y}toArray(){return[this.da,this.Y]}Ph(b,a){b[a++]=this.da;b[a]=this.Y}offset(b,a){this.da+=+b;this.Y+=+a}scale(b,a){this.da*=b;this.Y*=a}wl(b,a){this.da/=b;this.Y/=a}round(){this.da=Math.round(this.da);this.Y=Math.round(this.Y)}floor(){this.da=Math.floor(this.da);this.Y=Math.floor(this.Y)}ceil(){this.da=
Math.ceil(this.da);this.Y=Math.ceil(this.Y)}angle(){return d.Hf(0,0,this.da,this.Y)}Oia(){return this.da*this.da+this.Y*this.Y}length(){return Math.sqrt(this.Oia())}oja(b,a){const f=this.da*a-this.Y*b;this.Y=this.Y*a+this.da*b;this.da=f}rotate(b){0!==b&&this.oja(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.da+=Math.cos(b)*a,this.Y+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.da/=b,this.Y/=b)}fa(b,a){this.da=d.fa(this.da,b,a);this.Y=d.fa(this.Y,b,a)}}}
{"use strict";const d=self.D;d.Rect=class{constructor(b,a,f,c){this.ba=this.ca=this.S=this.X=0;b instanceof d.Rect?this.Ka(b):this.set(b||0,a||0,f||0,c||0)}set(b,a,f,c){this.X=+b;this.S=+a;this.ca=+f;this.ba=+c}Ri(b,a,f,c){b=+b;a=+a;this.X=b;this.S=a;this.ca=b+ +f;this.ba=a+ +c}Ka(b){this.X=+b.X;this.S=+b.S;this.ca=+b.ca;this.ba=+b.ba}clone(){return new d.Rect(this.X,this.S,this.ca,this.ba)}jd(b){return this.X===b.X&&this.S===b.S&&this.ca===b.ca&&this.ba===b.ba}tja(b){this.ca=+b}toArray(){return[this.X,
this.S,this.ca,this.ba]}Bja(){new DOMRect(this.X,this.S,this.width(),this.height())}Ph(b,a){b[a++]=this.X;b[a++]=this.S;b[a++]=this.ca;b[a]=this.ba}Qja(b,a){b[a++]=this.X;b[a++]=this.S;b[a++]=this.ca;b[a++]=this.S;b[a++]=this.ca;b[a++]=this.ba;b[a++]=this.X;b[a]=this.ba}width(){return this.ca-this.X}height(){return this.ba-this.S}Pi(){return(this.X+this.ca)/2}Qi(){return(this.S+this.ba)/2}offset(b,a){b=+b;a=+a;this.X+=b;this.S+=a;this.ca+=b;this.ba+=a}offsetLeft(b){this.X+=+b}offsetTop(b){this.S+=
+b}aja(b){this.ca+=+b}$ia(b){this.ba+=+b}dE(b,a){b=+b;a=+a;this.X-=b;this.S-=a;this.ca+=b;this.ba+=a}multiply(b,a){this.X*=b;this.S*=a;this.ca*=b;this.ba*=a}wl(b,a){this.X/=b;this.S/=a;this.ca/=b;this.ba/=a}zja(){const b=this.X;this.X=this.ca;this.ca=b}Jr(){const b=this.S;this.S=this.ba;this.ba=b}PM(b){const a=this.S;this.S=+b-this.ba;this.ba=+b-a}round(){this.X=Math.round(this.X);this.S=Math.round(this.S);this.ca=Math.round(this.ca);this.ba=Math.round(this.ba)}pja(){this.X=Math.floor(this.X);this.S=
Math.floor(this.S);this.ca=Math.ceil(this.ca);this.ba=Math.ceil(this.ba)}floor(){this.X=Math.floor(this.X);this.S=Math.floor(this.S);this.ca=Math.floor(this.ca);this.ba=Math.floor(this.ba)}ceil(){this.X=Math.ceil(this.X);this.S=Math.ceil(this.S);this.ca=Math.ceil(this.ca);this.ba=Math.ceil(this.ba)}fa(b,a,f,c){this.X<b&&(this.X=+b);this.S<a&&(this.S=+a);this.ca>f&&(this.ca=+f);this.ba>c&&(this.ba=+c)}FX(){0>this.X&&(this.X=0);1<this.S&&(this.S=1);1<this.ca&&(this.ca=1);0>this.ba&&(this.ba=0)}normalize(){this.X>
this.ca&&this.zja();this.S>this.ba&&this.Jr()}eE(b){return!(b.ca<this.X||b.ba<this.S||b.X>this.ca||b.S>this.ba)}zia(b,a,f){return!(b.ca+a<this.X||b.ba+f<this.S||b.X+a>this.ca||b.S+f>this.ba)}gg(b,a){return b>=this.X&&b<=this.ca&&a>=this.S&&a<=this.ba}Pia(b){this.X=d.Ec(b.X,b.ca,this.X);this.S=d.Ec(b.S,b.ba,this.S);this.ca=d.Ec(b.X,b.ca,this.ca);this.ba=d.Ec(b.S,b.ba,this.ba)}}}
{"use strict";const d=self.D;d.yd=class{constructor(b,a,f,c,e,h,g,l){this.Kc=this.Jc=this.bd=this.$c=this.Qc=this.Pc=this.kc=this.jc=0;b instanceof d.yd?this.Ka(b):this.set(b||0,a||0,f||0,c||0,e||0,h||0,g||0,l||0)}set(b,a,f,c,e,h,g,l){this.jc=+b;this.kc=+a;this.Pc=+f;this.Qc=+c;this.$c=+e;this.bd=+h;this.Jc=+g;this.Kc=+l}kY(b,a,f,c){this.set(b,a,f,a,f,c,b,c)}Ka(b){this.jc=b.jc;this.kc=b.kc;this.Pc=b.Pc;this.Qc=b.Qc;this.$c=b.$c;this.bd=b.bd;this.Jc=b.Jc;this.Kc=b.Kc}jd(b){return this.jc===b.jc&&this.kc===
b.kc&&this.Pc===b.Pc&&this.Qc===b.Qc&&this.$c===b.$c&&this.bd===b.bd&&this.Jc===b.Jc&&this.Kc===b.Kc}toArray(){return[this.jc,this.kc,this.Pc,this.Qc,this.$c,this.bd,this.Jc,this.Kc]}Ph(b,a){b[a++]=this.jc;b[a++]=this.kc;b[a++]=this.Pc;b[a++]=this.Qc;b[a++]=this.$c;b[a++]=this.bd;b[a++]=this.Jc;b[a]=this.Kc}Rja(b,a,f){b[a++]=this.jc;b[a++]=this.kc;b[a++]=f;b[a++]=this.Pc;b[a++]=this.Qc;b[a++]=f;b[a++]=this.$c;b[a++]=this.bd;b[a++]=f;b[a++]=this.Jc;b[a++]=this.Kc;b[a]=f}offset(b,a){b=+b;a=+a;this.jc+=
b;this.kc+=a;this.Pc+=b;this.Qc+=a;this.$c+=b;this.bd+=a;this.Jc+=b;this.Kc+=a}round(){this.jc=Math.round(this.jc);this.kc=Math.round(this.kc);this.Pc=Math.round(this.Pc);this.Qc=Math.round(this.Qc);this.$c=Math.round(this.$c);this.bd=Math.round(this.bd);this.Jc=Math.round(this.Jc);this.Kc=Math.round(this.Kc)}floor(){this.jc=Math.floor(this.jc);this.kc=Math.floor(this.kc);this.Pc=Math.floor(this.Pc);this.Qc=Math.floor(this.Qc);this.$c=Math.floor(this.$c);this.bd=Math.floor(this.bd);this.Jc=Math.floor(this.Jc);
this.Kc=Math.floor(this.Kc)}ceil(){this.jc=Math.ceil(this.jc);this.kc=Math.ceil(this.kc);this.Pc=Math.ceil(this.Pc);this.Qc=Math.ceil(this.Qc);this.$c=Math.ceil(this.$c);this.bd=Math.ceil(this.bd);this.Jc=Math.ceil(this.Jc);this.Kc=Math.ceil(this.Kc)}op(b){this.jc=b.X;this.kc=b.S;this.Pc=b.ca;this.Qc=b.S;this.$c=b.ca;this.bd=b.ba;this.Jc=b.X;this.Kc=b.ba}OM(b,a){0===a?this.op(b):this.nE(b,Math.sin(a),Math.cos(a))}nE(b,a,f){const c=b.X*a,e=b.S*a,h=b.ca*a;a*=b.ba;const g=b.X*f,l=b.S*f,n=b.ca*f;b=b.ba*
f;this.jc=g-e;this.kc=l+c;this.Pc=n-e;this.Qc=l+h;this.$c=n-a;this.bd=b+h;this.Jc=g-a;this.Kc=b+c}hM(b){b.set(Math.min(this.jc,this.Pc,this.$c,this.Jc),Math.min(this.kc,this.Qc,this.bd,this.Kc),Math.max(this.jc,this.Pc,this.$c,this.Jc),Math.max(this.kc,this.Qc,this.bd,this.Kc))}gg(b,a){var f=this.Pc-this.jc,c=this.Qc-this.kc;const e=this.$c-this.jc,h=this.bd-this.kc;b-=this.jc;a-=this.kc;var g=f*f+c*c;let l=f*e+c*h;c=f*b+c*a;const n=e*e+h*h,p=e*b+h*a;let q=1/(g*n-l*l);f=(n*c-l*p)*q;g=(g*p-l*c)*q;
if(0<=f&&0<g&&1>f+g)return!0;f=this.Jc-this.jc;c=this.Kc-this.kc;g=f*f+c*c;l=f*e+c*h;c=f*b+c*a;q=1/(g*n-l*l);f=(n*c-l*p)*q;g=(g*p-l*c)*q;return 0<=f&&0<g&&1>f+g}Pi(){return(this.jc+this.Pc+this.$c+this.Jc)/4}Qi(){return(this.kc+this.Qc+this.bd+this.Kc)/4}kM(b){var a=b.Pi(),f=b.Qi();if(this.gg(a,f))return!0;a=this.Pi();f=this.Qi();if(b.gg(a,f))return!0;a=this.jc;f=this.kc;const c=this.Pc,e=this.Qc,h=this.$c,g=this.bd,l=this.Jc,n=this.Kc;return d.mE(a,f,c,e,b)||d.mE(c,e,h,g,b)||d.mE(h,g,l,n,b)||d.mE(l,
n,a,f,b)}}}
{"use strict";const d=self.D,b=[0,0,1,0,1,1,0,1],a=d.F(d.yd);d.sp=class extends d.ta{constructor(f,c=!0){super();f||(f=b);this.Md=Float64Array.from(f);this.HB=new d.Rect;this.Iq=!0;this.wh=c}A(){}BM(){return this.Md.length/2}oE(f){this.Md.length===f.length?this.Md.set(f):this.Md=Float64Array.from(f);this.Iq=!0}sja(){this.oE(b)}Ka(f){this.oE(f.Md)}iY(){this.Iq=!0}yha(){if(this.Iq){var f=this.Md,c=f[0],e=f[1],h=c,g=e;for(let l=0,n=f.length;l<n;l+=2){const p=f[l],q=f[l+1];p<c&&(c=p);p>h&&(h=p);q<e&&
(e=q);q>g&&(g=q)}this.HB.set(c,e,h,g);this.Iq=!1}}op(f){let c=this.Md;8!==c.length&&(this.Md=c=new Float64Array(8));c[0]=f.X-NaN;c[1]=f.S-NaN;c[2]=f.ca-NaN;c[3]=f.S-NaN;c[4]=f.ca-NaN;c[5]=f.ba-NaN;c[6]=f.X-NaN;c[7]=f.ba-NaN;this.HB.Ka(f);this.HB.offset(NaN,NaN);this.Iq=!1}NM(f,c,e){a.Ka(f);a.offset(c,e);this.oE(a.toArray());this.Iq=!0}transform(f,c,e){let h=0,g=1;0!==e&&(h=Math.sin(e),g=Math.cos(e));this.WM(f,c,h,g)}WM(f,c,e,h){const g=this.Md;for(let l=0,n=g.length;l<n;l+=2){const p=l+1,q=g[l]*f,
r=g[p]*c;g[l]=q*h-r*e;g[p]=r*h+q*e}this.Iq=!0}offset(f,c){const e=this.Md;for(let h=0,g=e.length;h<g;h+=2)e[h]+=f,e[h+1]+=c}gg(f,c){const e=this.Md;if(f===e[0]&&c===e[1])return!0;this.yha();var h=this.HB;const g=h.X-110,l=h.S-101,n=h.ca+131;h=h.ba+120;let p,q,r,x,w,v,t,A;g<f?(p=g,r=f):(p=f,r=g);l<c?(q=l,x=c):(q=c,x=l);n<f?(w=n,t=f):(w=f,t=n);h<c?(v=h,A=c):(v=c,A=h);let y=0,E=0;for(let H=0,J=e.length;H<J;H+=2){var F=(H+2)%J;const M=e[H],P=e[H+1],S=e[F];F=e[F+1];d.nn(g,l,f,c,p,r,q,x,M,P,S,F)&&++y;d.nn(n,
h,f,c,w,t,v,A,M,P,S,F)&&++E}return 1===y%2||1===E%2}Dy(f,c,e){const h=f.Md,g=this.Md;if(this.gg(h[0]+c,h[1]+e)||f.gg(g[0]-c,g[1]-e))return!0;for(let n=0,p=g.length;n<p;n+=2){var l=(n+2)%p;f=g[n];const q=g[n+1],r=g[l];l=g[l+1];let x,w,v,t;f<r?(x=f,v=r):(x=r,v=f);q<l?(w=q,t=l):(w=l,t=q);for(let A=0,y=h.length;A<y;A+=2){const E=(A+2)%y;if(d.nn(f,q,r,l,x,v,w,t,h[A]+c,h[A+1]+e,h[E]+c,h[E+1]+e))return!0}}return!1}sg(){return this.wh}}}
{"use strict";const d=self.D;d.Av=class extends d.ta{constructor(b){super();this.Tk=new Map;if(b)for(const [a,f,c]of b)this.Set(a,f,c)}A(){this.Tc();this.Tk=null}Tc(){const b=this.Tk;for(const a of b.values())a.clear();b.clear()}Set(b,a,f){const c=this.Tk;let e=c.get(b);e||(e=new Map,c.set(b,e));e.set(a,f)}ia(b,a){return(b=this.Tk.get(b))?b.get(a):b}Vz(b){return(b=this.Tk.get(b))?b.has(void 0):!1}tp(b,a){const f=this.Tk,c=f.get(b);c&&c.delete(a)&&0===c.size&&f.delete(b)}DN(b){const a=this.Tk,f=a.get(b);
f&&(f.clear(),a.delete(b));for(const [c,e]of a.entries())e.delete(b)&&0===e.size&&a.delete(c)}zn(){let b=0;for(const a of this.Tk.values())b+=a.size;return b}*values(){for(const b of this.Tk.values())yield*b.values()}*entries(){for(const [b,a]of this.Tk.entries())for(const [f,c]of a.entries())yield[b,f,c]}}}
{"use strict";const d=self.D;d.DE=class extends d.ta{constructor(){super();this.No=new Set;this.CB=[];this.Dx=!1}A(){this.Tc()}Tc(){this.No.clear();d.H(this.CB);this.Dx=!1}wc(b){this.No.has(b)||(this.No.add(b),this.Dx||this.CB.push(b))}Vz(b){return this.No.has(b)}tp(b){this.No.delete(b)&&(this.Dx=!0)}zn(){return this.No.size}Kp(){return 0===this.No.size}$E(){this.Dx&&(this.Eda(),this.Dx=!1);return this.CB}Eda(){const b=this.CB;d.H(b);for(const a of this.No)b.push(a)}}}
{"use strict";const d=new Map,b=new Map,a=new Map,f=new Map,c=new Map,e=new Map;e.set("linear","noease");e.set("default","noease");self.Vu=class h{constructor(){}static G3(g){this.mH();return[...b.keys()].includes(g)}static dba(g){const l=e.get(g);if(l)return d.get(l);if(h.G3(g))return d.get(g);if(c.has(g))return c.get(g)}static zp(g){this.mH();const l=h.dba(g);return l?l:f.get(g)}static mH(){0===d.size&&(this.Ob("default",()=>{}),this.Ob("noease",this.C4),this.Ob("easeinsine",this.b0),this.Ob("easeoutsine",
this.k0),this.Ob("easeinoutsine",this.Y_),this.Ob("easeinelastic",this.N_),this.Ob("easeoutelastic",this.f0),this.Ob("easeinoutelastic",this.T_),this.Ob("easeinback",this.K_),this.Ob("easeoutback",this.c0),this.Ob("easeinoutback",this.P_),this.Ob("easeinbounce",this.GN),this.Ob("easeoutbounce",this.VE),this.Ob("easeinoutbounce",this.Q_),this.Ob("easeincubic",this.M_),this.Ob("easeoutcubic",this.e0),this.Ob("easeinoutcubic",this.S_),this.Ob("easeinquad",this.Z_),this.Ob("easeoutquad",this.h0),this.Ob("easeinoutquad",
this.V_),this.Ob("easeinquart",this.$_),this.Ob("easeoutquart",this.i0),this.Ob("easeinoutquart",this.W_),this.Ob("easeinquint",this.a0),this.Ob("easeoutquint",this.j0),this.Ob("easeinoutquint",this.X_),this.Ob("easeincirc",this.L_),this.Ob("easeoutcirc",this.d0),this.Ob("easeinoutcirc",this.R_),this.Ob("easeinexpo",this.O_),this.Ob("easeoutexpo",this.g0),this.Ob("easeinoutexpo",this.U_),this.AR("cubicbezier",this.J_),this.AR("spline",this.l0))}static Ob(g,l){h.eH(g,l,"predefined")}static AR(g,l){h.eH(g,
l,"private")}static DY(g,l){this.mH();h.eH(g,l,"custom",void 0)}static eH(g,l,n,p){switch(n){case "predefined":d.set(g,l);b.set(g,l);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(g,l)):f.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static C4(g,l,n,p){return n*g/p+l}static Z_(g,l,n,p){return n*(g/=p)*g+l}static h0(g,l,n,p){return-n*(g/=p)*(g-2)+l}static V_(g,l,n,p){return 1>(g/=p/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static M_(g,
l,n,p){return n*(g/=p)*g*g+l}static e0(g,l,n,p){return n*((g=g/p-1)*g*g+1)+l}static S_(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static $_(g,l,n,p){return n*(g/=p)*g*g*g+l}static i0(g,l,n,p){return-n*((g=g/p-1)*g*g*g-1)+l}static W_(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static a0(g,l,n,p){return n*(g/=p)*g*g*g*g+l}static j0(g,l,n,p){return n*((g=g/p-1)*g*g*g*g+1)+l}static X_(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static b0(g,
l,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+l}static k0(g,l,n,p){return n*Math.sin(g/p*(Math.PI/2))+l}static Y_(g,l,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+l}static O_(g,l,n,p){return 0===g?l:n*Math.pow(2,10*(g/p-1))+l}static g0(g,l,n,p){return g===p?l+n:n*(-Math.pow(2,-10*g/p)+1)+l}static U_(g,l,n,p){return 0===g?l:g===p?l+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static L_(g,l,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+l}static d0(g,l,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+l}static R_(g,l,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static N_(g,l,n,p){let q=0,r=n;if(0===g)return l;if(1===(g/=p))return l+n;q||(q=.3*p);r<Math.abs(n)?(r=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+l}static f0(g,l,n,p){let q,r=0,x=n;if(0===g)return l;if(1===(g/=p))return l+n;r||(r=.3*p);x<Math.abs(n)?(x=n,q=r/4):q=r/(2*Math.PI)*Math.asin(n/x);return x*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/r)+n+l}static T_(g,l,n,p){let q,r=0,x=n;if(0===g)return l;if(2===(g/=p/2))return l+n;r||(r=.3*p*1.5);x<Math.abs(n)?(x=n,q=r/4):q=r/(2*Math.PI)*Math.asin(n/x);return 1>g?-.5*x*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/r)+l:x*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/r)*.5+n+l}static K_(g,l,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+l}static c0(g,l,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+l}static P_(g,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+l:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+l}static GN(g,l,n,p){return n-h.VE(p-g,0,n,p)+l}static VE(g,l,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static Q_(g,l,n,p){return g<p/2?.5*h.GN(2*g,0,n,p)+l:.5*h.VE(2*g-p,0,n,p)+.5*n+l}static J_(g,l,n,p,q){return l+3*g*(n-l)+3*g**2*(l+p-2*n)+g**3*(q-l+3*n-3*p)}static l0(g,l,n,p,q,r,x,w,v,t){if(p===
q&&r===x)return g;if(1==g)g=1;else{for(var A=0,y=1,E=t[y];10!=y&&E<=g;)y++,E=t[y],A+=.1;y--;E=t[y];t=A+(g-E)/(t[y+1]-E)*.1;w=w-3*r+3*p-l;r=3*r-6*p+3*l;l=3*(p-l);p=3*w*t*t+2*r*t+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)t-=(((w*t+r)*t+l)*t-g)/(3*w*t*t+2*r*t+l);else{p=A;A+=.1;y=0;let F;do t=p+(A-p)/2,E=((w*t+r)*t+l)*t-g,0<E?A=t:p=t,E=1E-7<Math.abs(E),F=10>++y;while(E&&F)}g=t}return(((v-3*x+3*q-n)*g+(3*x-6*q+3*n))*g+3*(q-n))*g}static N0(g,l,n,p){const q=[];p=p-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let r=
0;11>r;++r)l=.1*r,q.push(((p*l+n)*l+g)*l);return q}}}{"use strict";const d=self.D;d.Hra=class{constructor(){this.OV=[]}A(){this.Tc();this.OV=null}Tc(){d.Uha(this.OV)}}}"use strict";
self.D.Event=class{constructor(d,b){this.type=d;this.cancelable=!!b;this.Bia=this.FM=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Bia)throw Error(`cannot stop async event '${this.type}' propagation`);this.FM=!0}};
{"use strict";const d=self.D;d.Event.c2=class extends d.ta{constructor(b){super();this.La=b;this.Wf=[];this.Zs=new Set;this.Zf=[];this.Nt=new Set;this.Iw=0;this.Kx=[];this.$t=[];this.au=[]}A(){0<this.Iw||(d.H(this.Wf),this.Zs.clear(),d.H(this.Zf),this.Nt.clear(),d.H(this.Kx),d.H(this.$t),d.H(this.au),d.A(this))}yR(b,a){this.SS()?this.Kx.push([b,a]):a?this.Zs.has(b)||(this.Wf.push(b),this.Zs.add(b)):this.Nt.has(b)||(this.Zf.push(b),this.Nt.add(b))}Uda(b,a){this.SS()?a?this.$t.push(b):this.au.push(b):
a?this.Zs.has(b)&&(this.Zs.delete(b),d.Er(this.Wf,b)):this.Nt.has(b)&&(this.Nt.delete(b),d.Er(this.Zf,b))}Qba(){return!this.Wf.length&&!this.Zf.length}SS(){return 0<this.Iw}Bda(){for(var b of this.Kx)this.yR(...b);d.H(this.Kx);for(const a of this.au)this.Nt.delete(a);for(const a of this.$t)this.Zs.delete(a);b=new Set(this.$t);d.Mh(this.Zf,new Set(this.au));d.Mh(this.Wf,b);d.H(this.$t);d.H(this.au)}Oaa(b){this.Ps();let a=!1;for(let f=0,c=this.Wf.length;f<c;++f)if(this.Wf[f](b),b.FM){a=!0;break}if(!a)for(let f=
0,c=this.Zf.length;f<c&&(this.Zf[f](b),!b.FM);++f);this.Ns();return!b.defaultPrevented}Qaa(b){this.Ps();for(let a=0,f=this.Wf.length;a<f;++a)this.Wf[a](b);for(let a=0,f=this.Zf.length;a<f;++a)this.Zf[a](b);this.Ns();return!0}Ps(){this.Iw++}Ns(){this.Iw--;0===this.Iw&&(this.Kx.length||this.$t.length||this.au.length)&&this.Bda()}xs(b){b?this.Ps():this.Ns()}fS(b){const a=[];this.Ps();for(let c=0,e=this.Wf.length;c<e;++c){var f=this.Wf[c](b);f instanceof Promise&&a.push(f)}for(let c=0,e=this.Zf.length;c<
e;++c)f=this.Zf[c](b),f instanceof Promise&&a.push(f);this.Ns();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async Laa(b){return await this.fS(b)}async Maa(b){this.Ps();for(let f=0,c=this.Wf.length;f<c;++f){var a=this.Wf[f](b);a instanceof Promise&&await a}for(let f=0,c=this.Zf.length;f<c;++f)a=this.Zf[f](b),a instanceof Promise&&await a;this.Ns();return!b.defaultPrevented}*Naa(b){this.Ps();for(let f=0,c=this.Wf.length;f<c;++f){var a=this.Wf[f](b);d.Dn(a)&&(yield*a)}for(let f=
0,c=this.Zf.length;f<c;++f)a=this.Zf[f](b),d.Dn(a)&&(yield*a);this.Ns()}}}
{"use strict";const d=self.D;d.Event.Kb=class extends d.ta{constructor(){super();this.xq=new Map;this.dJ=!1}A(){if(this.dJ)throw Error("already released");this.vZ();this.dJ=!0;d.A(this)}Js(){return this.dJ}vZ(){for(let b of this.xq.values())b.A();this.xq.clear()}Zp(b,a){let f=this.xq.get(b);return f?f:a?(f=d.F(d.Event.c2,b),this.xq.set(b,f),f):null}GF(b){return this.xq.has(b)}addEventListener(b,a,f){this.Zp(b,!0).yR(a,!!f)}removeEventListener(b,a,f){let c=this.Zp(b,!1);c&&(c.Uda(a,!!f),c.Qba()&&this.xq.delete(b))}dispatchEvent(b){const a=
this.Zp(b.type,!1);return a?b.cancelable?a.Oaa(b):a.Qaa(b):!0}async bM(b){const a=this.Zp(b.type,!1);return a?await a.Laa(b):!0}eia(b){const a=this.Zp(b.type,!1);return a?a.fS(b):!0}async dia(b){const a=this.Zp(b.type,!1);a&&await a.Maa(b)}fia(b){const a=this.Zp(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.Naa(b)}xs(b){for(const a of this.xq.values())a.xs(b)}}}
{"use strict";const d=self.D,b="undefined"!==typeof requestIdleCallback;let a=[],f=-1,c=0;function e(n){f=b&&0===c?requestIdleCallback(h,{timeout:35}):setTimeout(h,0<c?1:n)}function h(n){f=-1;if(a.length){var p=performance.now(),q=0;do{g(a.shift());var r=performance.now();++q;var x=(r-p)/q*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?x<n.timeRemaining():12>r-p+x));-1===f&&a.length&&e(Math.max(16-(r-p),4))}}function g(n){let p;try{p=n.gM()}catch(q){n.reject(q);return}n.resolve(p)}let l=d.pG.Vz("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.zl=function(n){let p=null;d.yu&&(p=d.uz());return new Promise((q,r)=>{a.push({gM:n,resolve:q,reject:r,stack:p});l?g(a.pop()):-1===f&&e(16)})};d.zl.KQ=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.D;let b=-1;function a(){b=-1}d.oz=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let f=-1,c=-1,e=new Set;function h(){c=f=-1;let g=Date.now();for(let l of e)if(l.k$(g)){let n=l.tq;if(-1===c||n<c)c=n}else e.delete(l);-1!==c&&(f=self.setTimeout(h,Math.max(c-g+100,1E3)))}d.H2=class{constructor(g,l){this.Ys=g;this.HD=1E3*l;this.tq=0;this.Ub=!1}Vc(){let g=d.oz();this.tq=g+this.HD;this.Ub||(e.add(this),this.Ub=!0);-1===f?(c=this.tq,f=self.setTimeout(h,this.HD+
100)):this.tq<c&&c>g+1E3&&(self.clearTimeout(f),c=this.tq,f=self.setTimeout(h,this.HD+100))}k$(g){return g>=this.tq?this.Ys()?(this.tq=g+this.HD,!0):this.Ub=!1:!0}nZ(){this.Ub&&(e.delete(this),this.Ub=!1,0===e.size&&-1!==f&&(self.clearTimeout(f),c=f=-1))}A(){this.nZ();this.Ys=null}}}
{"use strict";const d=self.D;d.yb=class b{constructor(a){this.nt=!1;this.fJ=a}lz(){this.nt||(this.nt=!0,this.fJ&&(this.fJ(),this.fJ=null))}A(){this.lz()}static A(a){return new b(()=>a.A())}static Lb(a,f,c){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const h=new d.sn;for(let g of f)a.addEventListener(g,c,e),h.wc(d.F(d.yb,()=>a.removeEventListener(g,c,e)));return h}a.addEventListener(f,
c,e);return d.F(d.yb,()=>a.removeEventListener(f,c,e))}};d.mva=class extends d.yb{};d.sn=class extends d.yb{constructor(...b){super();this.Cd=new Set;for(let a of b)this.wc(a)}wc(...b){if(this.nt)throw Error("already disposed");for(let a of b)this.Cd.add(a)}ai(b){if(this.nt)throw Error("already disposed");this.Cd.delete(b)}lz(){if(this.nt)throw Error("already disposed");this.nt=!0;for(let b of this.Cd)b.lz();this.Cd.clear();this.Cd=null}A(){this.lz()}}}
{"use strict";const d=self.D;d.ms=class extends d.ta{constructor(){super();this.gu=this.$x=this.Y=this.KB=0}wc(b){this.Y=+b-this.KB;this.$x=this.gu+this.Y;this.KB=this.$x-this.gu-this.Y;this.gu=this.$x}ia(){return this.gu}Vc(){this.gu=this.$x=this.Y=this.KB=0}Set(b){this.$x=this.Y=this.KB=0;this.gu=+b}A(){}}}
{"use strict";const d=self.D,b={rG:function(a){this.sY=a;this.left=this.right=this.sY.Cb;this.parent=null;this.color=!1;this.key=null},Pp:function(a){this.size=0;this.Cb=new b.rG(this);this.Cb.color=!1;this.root=this.Cb;this.root.parent=this.Cb;this.compare=a||this.$ha}};wa=b.Pp.prototype;wa.$ha=function(a,f){return a<f?-1:f<a?1:0};wa.clone=function(){var a=new b.Pp(this.compare);a.wia(this);return a};wa.clear=function(){this.size=0;this.Cb=new b.rG(this);this.Cb.color=!1;this.root=this.Cb;this.root.parent=
this.Cb};wa.Ey=function(a){var f=a.right;a.right=f.left;f.left!=this.Cb&&(f.left.parent=a);f.parent=a.parent;a.parent==this.Cb?this.root=f:a==a.parent.left?a.parent.left=f:a.parent.right=f;f.left=a;a.parent=f};wa.Ny=function(a){var f=a.left;a.left=f.right;f.right!=this.Cb&&(f.right.parent=a);f.parent=a.parent;a.parent==this.Cb?this.root=f:a==a.parent.right?a.parent.right=f:a.parent.left=f;f.right=a;a.parent=f};wa.vu=function(a){if(this.contains(a))this.By(a).key=a;else{var f=new b.rG(this);f.key=
a;a=this.Cb;for(var c=this.root;c!=this.Cb;)a=c,c=0>this.compare(f.key,c.key)?c.left:c.right;f.parent=a;a==this.Cb?this.root=f:0>this.compare(f.key,a.key)?a.left=f:a.right=f;f.left=this.Cb;f.right=this.Cb;f.color=!0;this.xia(f);this.size++}};wa.xia=function(a){for(;a!=this.Cb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var f=a.parent.parent.right;1==f.color?(a.parent.color=!1,f.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Ey(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.Cb&&this.Ny(a.parent.parent))}else f=a.parent.parent.left,1==f.color?(a.parent.color=!1,f.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.Ny(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.Cb&&this.Ey(a.parent.parent));this.root.color=!1};wa.bia=function(a){var f=a.left==this.Cb||a.right==this.Cb?a:this.qp(a);var c=f.left!=this.Cb?f.left:f.right;c.parent=f.parent;f.parent==
this.Cb?this.root=c:f==f.parent.left?f.parent.left=c:f.parent.right=c;f!=a&&(a.key=f.key);0==f.color&&this.aia(c);this.size--};wa.aia=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var f=a.parent.right;1==f.color&&(f.color=!1,a.parent.color=!0,this.Ey(a.parent),f=a.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,a=a.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.Ny(f),f=a.parent.right),f.color=a.parent.color,a.parent.color=!1,f.right.color=!1,this.Ey(a.parent),
a=this.root)}else f=a.parent.left,1==f.color&&(f.color=!1,a.parent.color=!0,this.Ny(a.parent),f=a.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,a=a.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.Ey(f),f=a.parent.left),f.color=a.parent.color,a.parent.color=!1,f.left.color=!1,this.Ny(a.parent),a=this.root);a.color=!1};wa.remove=function(a){a=this.By(a);if(a!=this.Cb){var f=a.key;this.bia(a);return f}return null};wa.min=function(a){for(;a.left!=this.Cb;)a=a.left;return a};wa.max=
function(a){for(;a.right!=this.Cb;)a=a.right;return a};wa.qp=function(a){if(a.right!=this.Cb)return this.min(a.right);for(var f=a.parent;f!=this.Cb&&a==f.right;)a=f,f=f.parent;return f};wa.By=function(a){for(var f=this.root;f!=this.Cb&&0!=this.compare(f.key,a);)f=0>this.compare(a,f.key)?f.left:f.right;return f};wa.contains=function(a){return null!=this.By(a).key};wa.iM=function(){var a=[];this.forEach(function(f){a.push(f)});return a};wa.wia=function(a){if("array"==b.XM(a))for(var f=0;f<a.length;f++)this.vu(a[f]);
else if("function"==b.XM(a.forEach))a.forEach(this.vu,this);else if("function"==b.XM(a.iM))for(a=a.iM(),f=0;f<a.length;f++)this.vu(a[f]);else if("object"==b.XM(a))for(f in a)this.vu(a[f])};wa.range=function(a,f){var c=[];this.Fja(function(e){c.push(e)},a,f);return c};wa.Fja=function(a,f,c){if(!this.zu())for(f=this.By(f),c=this.By(c);f!=c&&!a.call(void 0,f.key,this);)f=this.qp(f)};wa.forEach=function(a,f){if(!this.zu())for(var c=this.min(this.root);c!=this.Cb;c=this.qp(c))a.call(f,c.key,c.key,this)};
wa.some=function(a,f){if(this.zu())return!1;for(var c=this.min(this.root);c!=this.Cb;c=this.qp(c))if(a.call(f,c.key,c.key,this))return!0;return!1};wa.every=function(a,f){if(this.zu())return!1;for(var c=this.min(this.root);c!=this.Cb;c=this.qp(c))if(!a.call(f,c.key,c.key,this))return!1;return!0};wa.map=function(a,f){var c=[];if(this.zu())return c;for(var e=this.min(this.root);e!=this.Cb;e=this.qp(e))c.push(a.call(f,e.key,e.key,this));return c};wa.filter=function(a,f){var c=[];if(this.zu())return c;
for(var e=this.min(this.root);e!=this.Cb;e=this.qp(e))a.call(f,e.key,e.key,this)&&c.push(e.key);return c};wa.zu=function(){return 0==this.size};d.Pp=class extends d.ta{constructor(a){super();this.Bi=new b.Pp(a);this.pt=!1;this.er=new Set;this.gr=new Set}wc(a){this.pt?this.Bi.contains(a)?this.gr.delete(a):this.er.add(a):this.Bi.vu(a)}ai(a){this.pt?this.Bi.contains(a)?this.gr.add(a):this.er.delete(a):this.Bi.remove(a)}Vz(a){return this.pt?this.er.has(a)?!0:!this.gr.has(a)&&this.Bi.contains(a):this.Bi.contains(a)}Tc(){this.Bi.clear();
this.er.clear();this.gr.clear()}toArray(){if(this.pt)throw Error("cannot be used in queueing mode");return this.Bi.iM()}zn(){return this.Bi.size+this.er.size-this.gr.size}Kp(){return 0===this.zn()}bi(a){a=!!a;if(this.pt!==a&&(this.pt=a,!a)){for(const f of this.gr)this.Bi.remove(f);this.gr.clear();for(const f of this.er)this.Bi.vu(f);this.er.clear()}}*values(){if(!this.Kp()){var a=this.Bi;for(let f=a.min(a.root);f!=a.Cb;f=a.qp(f))yield f.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.D;d.oG=class{constructor(b=d.hardwareConcurrency){this.$ga=b;this.ZK=[];this.xI=0}wc(b){return new Promise((a,f)=>{this.ZK.push({gM:b,resolve:a,reject:f});this.eT()})}async eT(){if(this.ZK.length&&!(this.xI>=this.$ga)){this.xI++;var b=this.ZK.shift();try{const a=await b.gM();b.resolve(a)}catch(a){b.reject(a)}this.xI--;this.eT()}}}}
{"use strict";const d=self.D;d.l6=class{constructor(b,a,f){this.Ys=b;this.Kga=a;this.Lga=f||2*a;this.lu=-1;this.PC=-Infinity;this.jX=()=>this.oda();this.tga=this.EJ=!1;this.Cw=null}jba(){return"undefined"!==typeof d.eZ&&d.eZ.ppa()?this.Lga:this.Kga}mZ(){var b=[];if(-1===this.lu){this.Cw=b;b=d.oz();var a=b-this.PC,f=this.jba();a>=f&&this.tga?(this.PC=b,this.DT()):this.lu=self.setTimeout(this.jX,Math.max(f-a,4))}}DT(){this.EJ=!0;const b=this.Cw;this.Cw=null;b?this.Ys(...b):this.Ys();this.EJ=!1}Vc(){this.EJ||
(this.FR(),this.Cw=null,this.PC=d.oz())}oda(){this.lu=-1;this.PC=d.oz();this.DT()}FR(){-1!==this.lu&&(self.clearTimeout(this.lu),this.lu=-1)}A(){this.FR();this.jX=this.Cw=this.Ys=null}}}"use strict";function Pb(d,b){if(!d.kV)throw Error("no get base size callback set");return d.kV(b)}function Qb(d){if(!d.EW)throw Error("no redraw callback set");d.EW()}self.D.Zsa=class{constructor(){this.Hga=new Map;this.EW=this.HW=this.kV=null}};"use strict";
self.D.Ysa=class{constructor(d,b){this.St=d;this.wga=b;this.fd=0;Pb(this.St,b).then(()=>{Qb(this.St)}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);Qb(this.St)});this.$K=null}A(){if(0>=this.fd)throw Error("already released");this.fd--;0===this.fd&&this.ow()}ow(){if(this.$K){var d=this.St;if(!d.HW)throw Error("no release result callback set");d.HW(this.$K);this.$K=null}this.St.Hga.delete(this.wga);this.St=null}};
{"use strict";const d=self.D;d.Wva="\ufeff";const b=new Set([..."0123456789"]);d.H3=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.hA=function(n){return a.has(n)};d.Ana=function(n){return[...n].filter(p=>!d.hA(p)).join("")};d.fA=function(n){for(const p of n)if(!d.hA(p))return!1;return!0};d.V3=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.z0=function(n){return[...n].filter(p=>
!d.V3(p)).join("")};const f=new Set([..."0123456789.+-e"]);d.Bpa=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let q of n)if(!f.has(q))return!1;return!0};d.v6=function(n){let p=n.length;for(;0<p&&d.H3(n.charAt(p-1));)--p;return n.substr(0,p)};d.Loa=function(n){let p=d.v6(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function e(n){return c.get(n)}
const h=/[&<>"']/g;d.p0=function(n){return n.replace(h,e)};d.qna=function(n){n=d.jj(n,"\\","\\\\");n=d.jj(n,'"','\\"');n=d.jj(n,"\t","\\t");n=d.jj(n,"\r","");return d.jj(n,"\n","\\n")};d.rna=function(n){n=d.jj(n,"&","&amp;");n=d.jj(n,"<","&lt;");n=d.jj(n,">","&gt;");return d.jj(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Wu=function(n){return n.replace(g,"\\$&")};d.Bna=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var r=0;let x=[];for(;-1<(r=n.indexOf(p,
r));)x.push(r),r+=q;return x};d.jj=function(n,p,q){return n.replaceAll(p,()=>q)};d.Zra=function(n,p,q){return n.replace(new RegExp(d.Wu(p),"gi"),()=>q)};d.Jta=function(n,p){"string"===typeof p?n.textContent=p:p.LV?n.textContent=p.toString():(n.innerHTML=p.TM(),p instanceof d.Al&&p.Nha(n))};d.hva=function(n,p){return n instanceof d.MF||n instanceof d.Al?n.jd(p):p instanceof d.MF||p instanceof d.Al?p.jd(n):n===p};d.iva=function(n,...p){let q=n;for(let r=0,x=p.length;r<x;++r){const w=`{${r}}`;if(!n.includes(w))throw Error(`missing placeholder '${w}' in string substitution`);
q=q.replace(w,p[r].toString())}return q};d.jva=function(n,...p){let q=n,r=-1,x=-1;for(let w=0,v=p.length;w<v;++w){const t=`{${w}}`;n.includes(t)?(x=w,q=q.replace(t,p[w].toString())):-1===r&&(r=w)}if(0<=r&&0<=x&&r<x)throw Error(`missing placeholder '${r}' in string substitution`);return q};d.kva=function(n,p){for(let [q,r]of Object.entries(p))n=n.replaceAll(q,r.toString());return n};d.Pua=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};d.Gna=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.Zxa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Kha:!1,Xha:!0,via:!0,Wia:!0,hY:!0};d.Hna=function(n,p){p=Object.assign({},
l,p);d.Z3.Kra("common.time");const q=[],r=self.lang,x=self.Yxa;if(p.Xha){var w=Math.floor(n/86400);0<w&&(n-=86400*w,q.push(x(".days",null,w)))}p.via&&(w=Math.floor(n/3600),0<w||q.length)&&(n-=3600*w,q.push(x(".hours",null,w)));p.Wia&&(w=Math.floor(n/60),0<w||q.length||!p.hY)&&(n-=60*w,q.push(x(".minutes",null,w)));p.hY&&q.push(x(".seconds",null,Math.floor(n%60)));n=(p.Kha?r(".approx-prefix"):"")+q.join(r(".separator"));d.Z3.Cra();return n};d.Iwa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let r=0;r<p;++r)q+="0";return q+n};d.lva=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.wma=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());d.gY(n);d.gY(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const r=n[q]-p[q];if(0!==r)return 0>r?-1:1}return 0};d.Lma=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
d.fva=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let r=0,x=n.length;r<x;++r)n.charAt(r)!==p.charAt(r)&&++q;return q};d.gva=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,r,x,w;if(n.length>p.length){var v=n;n=p;p=v}w=Array(n.length+1);for(v=0;v<=n.length;v++)w[v]=v;for(v=1;v<=p.length;v++){r=v;for(q=1;q<=n.length;q++)x=p[v-1]===n[q-1]?w[q-1]:Math.min(w[q-1]+1,Math.min(r+1,w[q]+1)),w[q-1]=r,r=x;w[n.length]=r}return w[n.length]}}
{"use strict";const d=self.D,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
f=/\[(\/?)([^\[]*?)\]/g;let c=null,e=0;function h(l,n,p){var q=b.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?"</span>":
`<span class="bbclass${e++}">`:l}const g=/\n/g;d.Al=class{constructor(l,n){this.ii=n&&n.YX?l:d.p0(l);this.DJ="";this.MU=!1;this.ux=[];if(n&&(this.MU=!!n.Zwa,n.links)){if(9<n.links.length)throw Error("too many links");this.ux=n.links}this.pV=this.ii.includes("[");this.oW=this.MU&&this.ii.includes("\n");this.LV=!this.pV&&!this.oW&&!this.ii.includes("&");this.uV=!1;this.Jw=[]}toString(){return this.ii}valueOf(){return this.ii}TM(){if(this.LV)return this.ii;if(!this.DJ&&this.ii){let l=this.ii;this.pV&&
(e=0,c=this.ux,l=l.replace(a,h),c=null);this.oW&&(l=l.replace(g,"<br>"));this.DJ=l}return this.DJ}Nha(l){if(this.ux.length)for(let n=0,p=this.ux.length;n<p;++n){const q=this.ux[n];if("function"!==typeof q)continue;const r=l.querySelector(".bblink"+n);if(!r)throw Error("unable to attach BBString link handler");r.onclick=q}}jd(l){return l instanceof d.MF?this.TM()===l.TM():l instanceof d.Al?this.ii===l.ii:this.ii===l}pY(){if(this.uV)return this.Jw;const l=this.ii,n=[];let p=f.lastIndex=0;for(var q;null!==
(q=f.exec(l));){var r=q.index;if(0<r&&"\\"===l.charAt(r-1))continue;var x=q[1],w=q[2];const v=l.substring(p,r);p=r+q[0].length;v&&this.Jw.push({text:v,vd:n.slice(0)});if(w)if(x)for(w=w.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===w){n.splice(q,1);break}}else q=w,r=null,x=w.indexOf("="),-1!==x?(q=w.substring(0,x).toLowerCase(),r=w.substring(x+1)):q=q.toLowerCase(),n.push({tag:q,Pd:r})}p<l.length&&this.Jw.push({text:l.substring(p),vd:n.slice(0)});for(const v of this.Jw)v.text=this.Ada(v.text);
this.uV=!0;return this.Jw}Ada(l){l=d.jj(l,"\\[","[");return d.jj(l,"\\\\","\\")}static fR(l){return l.replace(f,"")}}}
{"use strict";const d=self.D;d.Wv=class{constructor(){this.dl=[]}gT(b,a){let f=0,c=0,e=0,h=0,g=0;for(const l of b)-1===l.width&&(b=a(l.text,l.vd),l.width=b.width,l.height=b.height,l.Mg=b.Mg||0,l.ig=b.ig||0,l.kg=b.kg||0),f+=l.width,c=Math.max(c,l.height),e=Math.max(e,l.Mg),h=Math.max(h,l.ig),g=Math.max(g,l.kg);return{width:f,height:c,Mg:e,ig:h,kg:g}}PA(b,a,f,c,e,h){this.dl.push({cM:b,width:a,height:f,Mg:c,ig:e,kg:h})}Wv(b,a,f,c,e){"string"===typeof b&&(b=[{text:b,vd:[]}]);d.H(this.dl);if(!(!b.length||
1===b.length&&!b[0].text.length||2>f)){if(1===b.length){var h=b[0];const g=h.text;h=h.vd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:n,Mg:p,ig:q,kg:r}=a(g,h);l+=e;p=p||0;q=q||0;r=r||0;if(l<=f){this.PA([{text:g,vd:h,width:l,height:n,Mg:p,ig:q,kg:r}],l,n,p,q,r);return}}}if("word"===c)c=this.Jfa(b);else{c=[];for(const g of b)d.ep(c,[...g.text].map(l=>[{text:l,vd:g.vd}]))}this.dga(c,a,f,e)}}Jfa(b){const a=[];let f=[],c=!1;for(const h of b){var e=h.text;b=h.vd;for(const g of e)"\n"===g?(0<
f.length&&a.push(f),a.push([{text:"\n",vd:b}]),f=[]):0===f.length?(f.push({text:g,vd:b}),c=d.hA(g)):(e=d.hA(g),e===c?(e=f[f.length-1],e.vd===b?e.text+=g:f.push({text:g,vd:b})):(a.push(f),f=[],f.push({text:g,vd:b}),c=e))}0<f.length&&a.push(f);return a}n$(b){return b.map(a=>({text:a.text,vd:a.vd,width:a.width,height:a.height,Mg:a.Mg,ig:a.ig,kg:a.kg}))}DR(b,a){var f=b.length?b[b.length-1]:null;let c=0;f&&a[0].vd===f.vd&&(f.text+=a[0].text,f.width=-1,f.height=-1,f.Mg=-1,f.ig=-1,f.kg=-1,c=1);for(f=a.length;c<
f;++c){const e=a[c];b.push({text:e.text,vd:e.vd,width:-1,height:-1,Mg:-1,ig:-1,kg:-1})}}dga(b,a,f,c){let e=[],h=0,g=0,l=0,n=0;var p=0;for(const q of b){if(1===q.length&&"\n"===q[0].text){0===g&&(p=a(" ",q[0].vd),g=p.height,l=p.Mg||0,n=p.ig||0,p=p.kg||0);this.PA(e,h,g,l,n,p);e=[];p=n=l=g=h=0;continue}b=this.n$(e);this.DR(b,q);const r=this.gT(b,a),x=r.width;x>=f?(0<e.length&&this.PA(e,h,g,l,n,p),e=[],d.fA(q[0].text)?p=n=l=g=h=0:(this.DR(e,q),p=this.gT(e,a),h=p.width,g=p.height,l=p.Mg,n=p.ig,p=p.kg)):
(e=b,h=x,g=r.height,l=r.Mg,n=r.ig,p=r.kg)}0<e.length&&this.PA(e,h,g,l,n,p);this.Mfa(a,c)}Mfa(b,a){for(const c of this.dl){const e=c.cM;if(!e.length)continue;let h=e[e.length-1];var f=h.text;const g=f.trimEnd();if(!g)c.width-=h.width,e.pop();else if(g.length<f.length){f=b(g,h.vd).width;const l=h.width-f;h.width=f;h.text=g;c.width-=l}0!==a&&0<e.length&&(h=e[e.length-1],h.width+=a,c.width+=a)}}Tc(){d.H(this.dl)}jO(){return this.dl.reduce((b,a)=>Math.max(b,a.width),0)}T1(){return this.dl.reduce((b,a)=>
b+a.height,0)}}}
{"use strict";const d=self.D,b=self.kn,a=b.vE,f=b.Lu,c=b.Fr,e=a.create(),h=a.create(),g=a.create(),l=f.create(),n=c.create(),p=a.create(),q=a.create(),r=a.create(),x=a.create(),w=a.create(),v=a.create(),t=a.create(),A=a.create(),y=f.jg(0,0,1,1);d.ka={a6(H,J,M,P,S,T,V){const ba=P[0]*H+P[4]*J+P[8]*M+P[12],ea=P[1]*H+P[5]*J+P[9]*M+P[13];var X=P[2]*H+P[6]*J+P[10]*M+P[14];M=P[3]*H+P[7]*J+P[11]*M+P[15];H=S[0]*ba+S[4]*ea+S[8]*X+S[12]*M;J=S[1]*ba+S[5]*ea+S[9]*X+S[13]*M;S=S[2]*ba+S[6]*ea+S[10]*X+S[14]*M;X=
-X;if(0===X)return!1;X=1/X;V[0]=(H*X*.5+.5)*T[2]+T[0];V[1]=(J*X*.5+.5)*T[3]+T[1];V[2]=.5*(1+S*X);return!0},Hk(H,J,M,P,S,T,V){c.multiply(n,S,P);if(null===c.xu(n,n))return!1;l[0]=(H-T[0])/T[2]*2-1;l[1]=(J-T[1])/T[3]*2-1;l[2]=2*M-1;l[3]=1;f.VM(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];V[0]=l[0]*l[3];V[1]=l[1]*l[3];V[2]=l[2]*l[3];return!0},Y8(H,J,M,P,S,T,V){if(!d.ka.Hk(H,J,0,P,S,T,e)||!d.ka.Hk(H,J,1,P,S,T,h))return!1;a.qn(h,h,e);a.set(g,0,0,1);H=-M;J=a.hp(g,h);M=0;if(0===J){if(0!==a.hp(g,e)+H)return!1}else if(M=
-(a.hp(e,g)+H)/J,0>M)return!1;a.MM(V,e,h,M);return!0}};function E(H,J,M,P){a.qn(e,M,J);a.qn(h,H,J);a.$L(g,e,h);a.normalize(g,g);P[0]=g[0];P[1]=g[1];P[2]=g[2];P[3]=a.hp(H,g)}function F(H,J,M,P,S,T,V){const ba=V[0],ea=V[1],X=V[2];V=V[3];let na;0<ba?(na=ba*H,H=ba*P):(na=ba*P,H*=ba);0<ea?(na+=ea*J,H+=ea*S):(na+=ea*S,H+=ea*J);0<X?(na+=X*M,H+=X*T):(na+=X*T,H+=X*M);return na>=V||H>V}d.ka.h9=class{constructor(){this.bW=f.create();this.kX=f.create();this.LW=f.create();this.HU=f.create();this.nW=f.create();
this.cV=f.create()}lZ(H,J){d.ka.Hk(0,1,0,H,J,y,p);d.ka.Hk(1,1,0,H,J,y,q);d.ka.Hk(0,0,0,H,J,y,r);d.ka.Hk(1,0,0,H,J,y,x);d.ka.Hk(0,1,1,H,J,y,w);d.ka.Hk(1,1,1,H,J,y,v);d.ka.Hk(0,0,1,H,J,y,t);d.ka.Hk(1,0,1,H,J,y,A);E(r,p,w,this.bW);E(p,q,v,this.kX);E(q,x,A,this.LW);E(x,r,t,this.HU);E(t,w,v,this.cV);E(x,q,p,this.nW)}LZ(H,J,M,P,S,T){return F(H,J,M,P,S,T,this.bW)&&F(H,J,M,P,S,T,this.kX)&&F(H,J,M,P,S,T,this.LW)&&F(H,J,M,P,S,T,this.HU)&&F(H,J,M,P,S,T,this.nW)&&F(H,J,M,P,S,T,this.cV)}}}
{"use strict";const d=self.D,b=self.kn,a=b.vE,f=b.Lu,c=b.Fr,e=c.create(),h=a.jg(0,0,0),g=a.jg(0,0,0),l=a.jg(0,0,0),n=a.jg(0,1,0);f.jg(0,0,0,0);new d.yd;new d.Rect;const p=new d.yd(0,0,1,0,1,1,0,1);d.ka.y6=class{constructor(){this.W=this.Z=0;this.Ega=d.Ba(45);this.fX=Math.tan(this.Ega/2);this.$C=c.create();this.vK=c.create();this.jq=[];this.tD=new Map;this.lL=this.xD=this.yD=null;this.Zx=new Map;this.Ij=null;this.QI=[];this.mW=new Map;this.jt=this.Ws=0;this.Wga=this.Xga=1;this.qK=.5;this.ri=0;this.ot=
!0}y0(q){let r=0,x=q.length,w=0;for(;r<x;)q[r++]=w,q[r++]=w+1,q[r++]=w+2,q[r++]=w,q[r++]=w+2,q[r++]=w+3,w+=4}HR(){this.jt=this.Ws=0;this.lL=this.xD=this.yD=null;this.l$()}Yz(){this.HR();this.Ij=null}Z4(){for(const q of this.jq)q.A();this.HR()}T(){return this.Z}U(){return this.W}HE(q,r,x=.5,w=.5){x=1-x;const v=1*this.fX;r*=v;c.nia(q,(2*x-2)*r,2*x*r,(2*w-2)*v,2*w*v,1,1E4)}kN(q,r,x,w,v=this.AF()){v=200*self.devicePixelRatio*this.fX/v;a.set(l,v,-v,1);a.multiply(h,r,l);a.multiply(g,x,l);c.Tia(q,h,g,w||
n);c.scale(q,q,l)}Ru(q,r,x,w,v,t){a.set(h,q,r,x);a.set(g,w,v,0);this.kN(e,h,g,n,t);return e}K9(q){this.jq.push(q);this.tD.set(q.na,q)}Wda(q){const r=this.jq.indexOf(q);-1!==r&&this.jq.splice(r,1);this.tD.delete(q.na)}l$(){d.H(this.jq);this.tD.clear()}yO(q){return this.tD.get(q)||null}ci(){this.Un(this.yD)}FG(){this.Un(this.lL)}Sea(q){this.Ij=q}AY(q,r,x,w){const v=d.ka.ZG.mP(q,r,x,w);let t=this.Zx.get(v);t||(t=d.F(d.ka.ZG,this,q,r,x,w),this.Zx.set(v,t));t.OY();return t}dQ(q){q.g_();0===q.fd&&(this.Ij===
q&&(this.Ij=null),this.Zx.delete(q.w1()),q.A())}Aba(q){d.H(this.QI);this.mW.clear();for(const r of q){q=r[0];const x=r[1],w=r[2];this.QI.push([x,w]);this.mW.set(q,{vza:x,gxa:w})}}$aa(q){return this.QI[q]}yA(q){this.Ws=q}Rn(q){this.jt=q;this.Ij=null}kA(q,r,x,w,v,t){var A=this.qK;q=q+A-t;r=r+A-v;x=x+A+t;w=w+A+v;A=2*t;const y=2*v;this.sA(q+v,r-t,0,x+v,w-t,0,x-v-A,w+t-y,0,q-v+A,r+t+y,0,p)}jA(q,r,x,w,v,t){const A=this.qK;q=q+A-t;r=r+A-v;x=x+A+t;w=w+A+v;this.sA(q+v,r-t,0,x+v,w-t,0,x-v,w+t,0,q-v,r+t,0,p)}iA(q,
r,x,w,v,t){const A=this.qK;q+=A;r+=A;x+=A;w+=A;this.sA(q+v,r-t,0,x+v,w-t,0,x-v,w+t,0,q-v,r+t,0,p)}c4(q,r,x,w){const v=.5*this.Xga,t=this.Wga;2===t?this.Zba(q,r,x,w,v):1===t?this.Yba(q,r,x,w,v):this.Xba(q,r,x,w,v)}Zba(q,r,x,w,v){this.kA(q,r,x,r,0,v);this.kA(x,r,x,w,v,0);this.kA(x,w,q,w,0,-v);this.kA(q,w,q,r,-v,0)}Yba(q,r,x,w,v){this.jA(q,r,x,r,0,v);this.jA(x,r,x,w,v,0);this.jA(x,w,q,w,0,-v);this.jA(q,w,q,r,-v,0)}Xba(q,r,x,w,v){this.iA(q,r,x,r,0,v);this.iA(x,r,x,w,v,0);this.iA(x,w,q,w,0,-v);this.iA(q,
w,q,r,-v,0)}gP(q){this.c4(q.X,q.S,q.ca,q.ba)}Zu(){this.Rh();this.ri++}N2(){this.ri++}IG(q){this.ot=!!q}gA(){return!1}}}
{"use strict";const d=self.D;d.ka.ZG=class{constructor(b,a,f,c,e){this.Ga=b;this.fd=0;this.tb=null;this.Rx="";this.io=f;this.Db=d.F(d.pb);this.Db.set(c);this.rd=e;"string"===typeof a?this.Rx=a:(this.tb=a,this.Rx=this.tb.na)}A(){if(0<this.fd)throw Error("releasing state group still in use");this.tb=this.Ga=null;this.Rx=""}WY(){const b=this.Ga;b.Un(this.tb);b.Sf(this.io);b.Dk(this.Db);b.Rn(this.rd);b.Sea(this)}w1(){return d.ka.ZG.mP(this.Rx,this.io,this.Db,this.rd)}OY(){++this.fd}g_(){--this.fd}Vl(){this.tb=
null}jG(b){this.tb=b.yO(this.Rx);if(!this.tb)throw Error("failed to restore shader program");}static mP(b,a,f,c){return("string"===typeof b?b:b.na)+","+a+","+f.lb+","+f.Qa+","+f.kb+","+f.fb+","+c}}}
{"use strict";const d=self.D,b=d.F(d.yd);function a(f,c,e){const h=e.jc,g=e.kc;return[h+(e.Pc-h)*f+(e.Jc-h)*c,g+(e.Qc-g)*f+(e.Kc-g)*c]}d.ka.w4=class{constructor(f){this.zK=f;this.Lh=this.Jh=this.rd=this.Y=this.da=0}tj(f,c,e,h){this.da=f;this.Y=c;this.Jh=e;this.Lh=h}O(){return this.da}Vf(f){this.da!==f&&(this.da=f,this.zK.fI())}P(){return this.Y}mf(f){this.Y!==f&&(this.Y=f,this.zK.fI())}qb(){return this.rd}nf(f){this.rd!==f&&(this.rd=Math.max(f,0),this.zK.fI())}QG(f){this.Jh=f}SG(f){this.Lh=f}Nba(f,
c,e){[this.da,this.Y]=a(f.da,f.Y,c);this.rd=f.rd;this.Jh=d.Ec(e.X,e.ca,f.Jh);this.Lh=d.Ec(e.S,e.ba,f.Lh)}Mba(f,c,e){[this.da,this.Y]=a(f.da,f.Y,c);this.rd=f.rd;[this.Jh,this.Lh]=a(f.Jh,f.Lh,e)}Ac(){return{x:this.O(),y:this.P(),z:this.qb(),u:this.Jh,v:this.Lh}}rc(f){this.Vf(f.x);this.mf(f.y);f.hasOwnProperty("z")&&this.nf(f.z);this.QG(f.u);this.SG(f.v)}};d.ka.pP=class{constructor(f,c,e){if(2>f||2>c)throw Error("invalid mesh size");this.Uk=f;this.nl=c;this.oc=e||null;this.Mo=[];this.jW=this.iW=0;this.gW=
this.fW=1;this.SK=!1;e=f-1;const h=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<f;++n){const p=d.F(d.ka.w4,this,n,g),q=n/e,r=g/h;p.tj(q,r,q,r);l.push(p)}this.Mo.push(l)}}A(){d.H(this.Mo)}fI(){this.SK=!0}fB(){if(this.SK){var f=Infinity,c=Infinity,e=-Infinity,h=-Infinity;for(const g of this.Mo)for(const l of g){const n=l.O(),p=l.P();f=Math.min(f,n);c=Math.min(c,p);e=Math.max(e,n);h=Math.max(h,p);l.qb()}this.iW=f;this.jW=c;this.fW=e;this.gW=h;this.SK=!1}}G1(){this.fB();return this.iW}H1(){this.fB();
return this.jW}E1(){this.fB();return this.fW}F1(){this.fB();return this.gW}Yr(f,c){f=Math.floor(f);c=Math.floor(c);return 0>f||f>=this.Uk||0>c||c>=this.nl?null:this.Mo[c][f]}lN(f,c,e){const h=e instanceof d.Rect;if(f.Uk!==this.Uk||f.nl!==this.nl)throw Error("source mesh wrong size");f=f.Mo;const g=this.Mo;for(let l=0,n=g.length;l<n;++l){const p=f[l],q=g[l];for(let r=0,x=q.length;r<x;++r){const w=p[r],v=q[r];h?v.Nba(w,c,e):v.Mba(w,c,e)}}}Fe(f){const c=this.Mo;let e=c[0];for(let h=1,g=c.length;h<g;++h){const l=
c[h];let n=e[0],p=l[0];for(let q=1,r=l.length;q<r;++q){const x=e[q],w=l[q];b.set(n.Jh,n.Lh,x.Jh,x.Lh,w.Jh,w.Lh,p.Jh,p.Lh);f.sA(n.O(),n.P(),n.qb(),x.O(),x.P(),x.qb(),w.O(),w.P(),w.qb(),p.O(),p.P(),p.qb(),b);n=x;p=w}e=l}}p3(f){f=f.Md;const c=[],e=this.Uk-1,h=this.nl-1,g=1/e,l=1/h,n=e-1,p=h-1;let q=f[0],r=f[1],x=d.fa(Math.floor(q*e),0,n),w=d.fa(Math.floor(r*h),0,p),v=0,t=0,A=0;var y=-1;const E=()=>{q=d.fa(d.Ec(q,v,A),0,1);r=d.fa(d.Ec(r,t,A),0,1);c.push(q,r)};for(let F=0,H=f.length;F<H;F+=2)for(q=f[F],
r=f[F+1],c.push(q,r),x=d.fa(Math.floor(q*e),0,n),w=d.fa(Math.floor(r*h),0,p),y=(F+2)%H,v=f[y],t=f[y+1],y=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=x*g,M=w*l,P=(x+1)*g,S=(w+1)*l;if(0!==y&&(A=d.Ly(q,r,v,t,J,M,P,S,-.001),0<=A&&.99999999>=A)){E();y=0;continue}if(0<w&&2!==y&&(A=d.Ly(q,r,v,t,J,M,P,M,.001),0<=A&&.99999999>=A)){E();w--;y=4;continue}if(x<n&&3!==y&&(A=d.Ly(q,r,v,t,P,M,P,S,.001),0<=A&&.99999999>=A)){E();x++;y=1;continue}if(0<x&&1!==y&&(A=d.Ly(q,r,v,t,J,M,J,S,.001),
0<=A&&.99999999>=A)){E();x--;y=3;continue}if(w<p&&4!==y&&(A=d.Ly(q,r,v,t,J,S,P,S,.001),0<=A&&.99999999>=A)){E();w++;y=2;continue}break}return d.F(d.sp,c)}T8(f,c){f=this.Kfa(f);this.Dfa(f);c.oE(f)}Kfa(f){const c=[];f=f.Md;for(let e=0,h=f.length;e<h;e+=2){const [g,l]=this.kR(f[e],f[e+1]);c.push(g,l)}return c}kR(f,c){var e=this.Uk-1,h=this.nl-1;const g=1/e,l=1/h;e=d.fa(Math.floor(f*e),0,e-1);const n=d.fa(Math.floor(c*h),0,h-1);h=e*g;const p=n*l,q=(e+1)*g,r=(n+1)*l,x=this.Yr(e,n),w=this.Yr(e+1,n+1),v=
d.Fia(f,c,h,p,q,p,q,r);e=this.Yr(e+(v?1:0),n+(v?0:1));const [t,A,y]=d.Hja(f,c,h,p,v?h+g:h,v?p:p+l,q,r);return d.Gja(t,A,y,x.O(),x.P(),e.O(),e.P(),w.O(),w.P())}Dfa(f){const c=[];let e=f[0],h=f[1],g=e-f[f.length-2],l=h-f[f.length-1];for(let p=0,q=f.length;p<q;p+=2){var n=(p+2)%q;const r=f[n];n=f[n+1];const x=r-e,w=n-h,v=1E-7>Math.abs(w)&&1E-7>Math.abs(l)&&Math.sign(x)===Math.sign(g);(!(1E-7>Math.abs(x)&&1E-7>Math.abs(g)&&Math.sign(w)===Math.sign(l)||v)&&1E-7<Math.abs(x/g-w/l)||0==x&&0===w)&&c.push(e,
h);e=r;h=n;g=x;l=w}6<=c.length&&c.length<f.length&&d.Qd(f,c)}Ac(){return{cols:this.Uk,rows:this.nl,points:this.Mo.map(f=>f.map(c=>c.Ac()))}}rc(f){const c=this.Uk,e=this.nl;if(f.cols!==c||f.rows!==e)throw Error("mesh data wrong size");f=f.points;for(let h=0;h<e;++h){const g=f[h];for(let l=0;l<c;++l)this.Yr(l,h).rc(g[l])}}}}
{"use strict";const d=self.D,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function e(n,p){let q,r;switch(n){case "rgba8":n=p.RGBA8;r=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;r=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;r=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;r=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;r=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{QM:n,wu:q,format:r,type:p}}const h={Mu:"clamp-to-edge",Nu:"clamp-to-edge",Og:"trilinear",yX:0,AM:"rgba8",gE:!0,Iy:"default",premultiplyAlpha:!0,UX:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.ka.OA=class{constructor(n){this.Ga=n;this.Fb=null;this.W=this.Z=0;this.ti=!0;this.gn=this.fn="clamp-to-edge";this.gd="trilinear";this.EI=0;this.Eh="rgba8";this.Dm=!1;this.Uq=
"default";this.fd=0}I$(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},h,p);if(this.Fb)throw Error("already created texture");this.fn=p.Mu;this.gn=p.Nu;
this.gd=p.Og;this.EI=p.yX;this.Eh=p.AM;this.Dm=!!p.gE&&this.Ga.ot;this.Uq=p.Iy;if(!c.has(this.fn)||!c.has(this.gn))throw Error("invalid wrap mode");if(!a.has(this.gd))throw Error("invalid sampling");if(!b.has(this.Eh))throw Error("invalid pixel format");if(!f.has(this.Uq))throw Error("invalid mipmap quality");this.ti=!0;if(n instanceof ArrayBuffer||null===n||p.UX){if(this.Z=p.width,this.W=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.Z*this.W*4)throw Error("ArrayBuffer wrong size");}else this.Z=
n.width,this.W=n.height;if(0>=this.Z||0>=this.W)throw Error("invalid texture data size");if(p.UX){var q=d.Qg(this.Z,this.W);q.getContext("2d").drawImage(n,0,0,this.Z,this.W);n=q}var r=d.yl(this.Z)&&d.yl(this.W);q=this.Ga.aD;if(this.Z>q||this.W>q)throw Error("texture data exceeds maximum texture size");q=this.Ga.ja;var x=this.Ga.ae;this.Fb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.Fb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=e(this.Eh,q);if(this.Ga.Wp()||r||!this.IH())2<=x?(q.texStorage2D(q.TEXTURE_2D,this.Dm?Math.floor(Math.log2(Math.max(this.Z,this.W))+1):1,p.QM,this.Z,this.W),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.Z,this.W,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.wu,this.Z,this.W,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.wu,this.Z,this.W,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.wu,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.Z,this.W));n instanceof ImageData&&(r=d.Qg(this.Z,this.W),r.getContext("2d").putImageData(n,0,0),n=r);r=d.Qg(d.vM(this.Z),d.vM(this.W));x=r.getContext("2d");x.imageSmoothingEnabled="nearest"!==this.gd;x.drawImage(n,0,0,this.Z,this.W,0,0,r.width,r.height);
q.texImage2D(q.TEXTURE_2D,0,p.wu,p.format,p.type,r)}null!==n&&this.eU(q);q.bindTexture(q.TEXTURE_2D,null);this.Ga.XH();this.fd=1;l.add(this)}r$(n,p,q){q=Object.assign({},h,q);if(this.Fb)throw Error("already created texture");this.fn=q.Mu;this.gn=q.Nu;this.gd=q.Og;this.Eh=q.AM;this.Dm=!!q.gE&&this.Ga.ot;this.Uq=q.Iy;if(!c.has(this.fn)||!c.has(this.gn))throw Error("invalid wrap mode");if(!a.has(this.gd))throw Error("invalid sampling");if(!b.has(this.Eh))throw Error("invalid pixel format");if(!f.has(this.Uq))throw Error("invalid mipmap quality");
this.ti=!1;this.Z=Math.floor(n);this.W=Math.floor(p);n=d.yl(this.Z)&&d.yl(this.W);p=this.Ga.aD;if(0>=this.Z||0>=this.W)throw Error("invalid texture size");if(this.Z>p||this.W>p)throw Error("texture exceeds maximum texture size");if(!this.Ga.Wp()&&this.IH()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.Ga.ja;p=this.Ga.ae;this.Fb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.Fb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=e(this.Eh,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.QM:q.wu,this.Z,this.W,0,q.format,q.type,null);this.eU(n);n.bindTexture(n.TEXTURE_2D,null);this.Ga.XH();this.fd=1;l.add(this)}FH(n){if("default"===this.Uq)return this.ti?n.NICEST:n.FASTEST;if("low"===this.Uq)return n.FASTEST;if("high"===this.Uq)return n.NICEST;throw Error("invalid mipmap quality");}IH(){return"clamp-to-edge"!==this.fn||"clamp-to-edge"!==this.gn}GS(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}eU(n){var p=d.yl(this.Z)&&d.yl(this.W);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.GS(n,this.fn));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.GS(n,this.gn));"nearest"===this.gd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Dm=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.Ga.Wp())&&this.Dm?(n.hint(n.GENERATE_MIPMAP_HINT,
this.FH(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.gd||this.Ga.tV?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Dm=!1));(p=this.Ga.xw)&&0<this.EI&&"nearest"!==this.gd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.EI,this.Ga.xK))}qU(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.Fb||0>=this.fd)throw Error("texture not created");if(this.ti)throw Error("cannot update static texture");p=Object.assign({},g,p);const q=n.width||n.videoWidth,r=n.height||n.videoHeight;var x=this.Ga.ae;
const w=this.Ga.ja;w.bindTexture(w.TEXTURE_2D,this.Fb);w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=e(this.Eh,w);x=2<=x?p.QM:p.wu;try{if(this.Z===q&&this.W===r){const v=d.yl(this.Z)&&d.yl(this.W);w.texSubImage2D(w.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.Ga.Wp())&&this.Dm&&(w.hint(w.GENERATE_MIPMAP_HINT,this.FH(w)),w.generateMipmap(w.TEXTURE_2D))}else{this.Z=q;this.W=r;const v=d.yl(this.Z)&&d.yl(this.W);if(!this.Ga.Wp()&&this.IH()&&
!v)throw Error("non-power-of-two tiled textures not supported");w.texImage2D(w.TEXTURE_2D,0,x,p.format,p.type,n);(v||this.Ga.Wp())&&this.Dm&&(w.hint(w.GENERATE_MIPMAP_HINT,this.FH(w)),w.generateMipmap(w.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}w.bindTexture(w.TEXTURE_2D,null);this.Ga.XH()}tH(){if(0<this.fd)throw Error("texture still has references");if(!this.Fb)throw Error("already deleted texture");l.delete(this);this.Ga.ja.deleteTexture(this.Fb);this.Fb=null}ac(){return this.Ga}M8(){if(0>=
this.fd)throw Error("no more references");this.fd--}T(){return this.Z}U(){return this.W}iF(){let n=this.Z*this.W;switch(this.Eh){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Dm&&(n+=Math.floor(n/3));return n}static Vl(){l.clear()}static Fha(){return l.values()}}}
{"use strict";const d=self.D,b=self.kn.Fr,a=new Set(["nearest","bilinear","trilinear"]),f={Og:"trilinear",alpha:!0,depth:!1,nM:!0,SX:!0,Xia:0},c=new Set;d.ka.dH=class{constructor(e){this.Ga=e;this.Rm=this.Fb=this.Pj=null;this.W=this.Z=0;this.Xw=!0;this.gd="trilinear";this.Vs=!0;this.Jj=!1;this.bx=!0;this.Km=0;this.Ix=b.create()}o$(e,h,g){g=Object.assign({},f,g);const l=this.Ga.ae;if(this.Fb||this.Rm)throw Error("already created render target");this.gd=g.Og;this.Vs=!!g.alpha;this.Jj=!!g.depth;this.bx=
!!g.nM;this.Xw=!!g.SX;this.Km=g.Xia;if(!a.has(this.gd))throw Error("invalid sampling");if(0<this.Km&&(2>l||this.bx))throw Error("invalid use of multisampling");2>l&&(this.bx=!0);this.Z=e;this.W=h;if(0>=this.Z||0>=this.W)throw Error("invalid render target size");this.ER();e=this.Ga.ja;this.Pj=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,this.Pj);this.bx?(this.Fb=this.Ga.xN(this.Z,this.W,{Og:this.gd,AM:this.Vs?"rgba8":"rgb8",gE:!1}),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,
e.TEXTURE_2D,this.Fb.Fb,0)):(this.Rm=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.Rm),h=this.Vs?e.RGBA8:e.RGB8,0<this.Km&&((g=e.getInternalformatParameter(e.RENDERBUFFER,h,e.SAMPLES))&&g[0]?(g=g[0],this.Km>g&&(this.Km=g)):this.Km=0),0===this.Km?e.renderbufferStorage(e.RENDERBUFFER,h,this.Z,this.W):e.renderbufferStorageMultisample(e.RENDERBUFFER,this.Km,h,this.Z,this.W),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,this.Rm),e.bindRenderbuffer(e.RENDERBUFFER,
null));h=this.Ga.vq;this.Jj&&h&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,h);e.bindFramebuffer(e.FRAMEBUFFER,null);c.add(this)}zT(e,h){if(this.Z!==e||this.W!==h)this.Z=e,this.W=h,this.ER(),e=this.Ga.ja,e.bindFramebuffer(e.FRAMEBUFFER,this.Pj),this.Fb?this.Fb.qU(new ImageData(this.Z,this.W)):(e.bindRenderbuffer(e.RENDERBUFFER,this.Rm),e.renderbufferStorage(e.RENDERBUFFER,this.Vs?e.RGBA8:e.RGB8,this.Z,this.W),e.bindRenderbuffer(e.RENDERBUFFER,null)),h=this.Ga.vq,this.Jj&&
h&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,h),e.bindFramebuffer(e.FRAMEBUFFER,null)}tH(){if(!this.Fb&&!this.Rm)throw Error("already deleted render target");c.delete(this);const e=this.Ga.ja;e.bindFramebuffer(e.FRAMEBUFFER,this.Pj);this.Fb?(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),this.Ga.kk(this.Fb),this.Fb=null):this.Rm&&(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,null),e.deleteRenderbuffer(this.Rm),
this.Rm=null);e.bindFramebuffer(e.FRAMEBUFFER,null);2<=this.Ga.ae&&(e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null));e.deleteFramebuffer(this.Pj);this.Pj=this.Ga.Ic.fp=null}ER(){this.Ga.HE(this.Ix,this.Z/this.W)}ac(){return this.Ga}Ud(){return this.Fb}ZF(){return"nearest"!==this.gd}T(){return this.Z}U(){return this.W}y3(e){e=Object.assign({},f,e);return"nearest"!==e.Og!==this.ZF()||!!e.alpha!==this.Vs||!!e.depth!==this.Jj||2<=this.Ga.ae&&!!e.nM!==this.bx?!1:"number"===
typeof e.width||"number"===typeof e.height?!this.Xw&&this.T()===e.width&&this.U()===e.height:this.Xw}iF(){return this.Fb?this.Fb.iF():this.Z*this.W*(this.Vs?4:3)}static async $Z(e,h){e=await e.m6(h);return await d.I2(e)}static Vl(){c.clear()}}}
{"use strict";const d=self.D;d.ka.Vv=class{static async IZ(b,a,f,c){const e=b.ja,h=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(h,a);e.compileShader(h);a=e.createShader(e.VERTEX_SHADER);e.shaderSource(a,f);e.compileShader(a);const g=e.createProgram();e.attachShader(g,h);e.attachShader(g,a);e.bindAttribLocation(g,0,"aPos");e.bindAttribLocation(g,1,"aTex");e.bindAttribLocation(g,2,"aPoints");e.linkProgram(g);const l=b.MK;l?await b.$fa(()=>e.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.cH(5);
if(!e.getShaderParameter(h,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(h),e.deleteShader(h),e.deleteShader(a),e.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!e.getShaderParameter(a,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(a),e.deleteShader(h),e.deleteShader(a),e.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!e.getProgramParameter(g,e.LINK_STATUS))throw c=e.getProgramInfoLog(g),e.deleteShader(h),e.deleteShader(a),e.deleteProgram(g),Error("Error linking shader program: "+
c);(b=d.z0(e.getProgramInfoLog(g)||"").trim())&&!d.fA(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);e.deleteShader(h);e.deleteShader(a);return g}static async ab(b,a,f,c){f=await d.ka.Vv.IZ(b,a.src,f,c);return new d.ka.Vv(b,f,a,c)}constructor(b,a,f,c){const e=b.ja;var h=b.Ic;b.Rh();e.useProgram(a);this.ja=e;this.Ga=b;this.na=c;this.tb=a;this.xC="<default-device-transform>"===c;c=e.getAttribLocation(a,"aPos");const g=e.getAttribLocation(a,"aTex");a=e.getAttribLocation(a,"aPoints");
-1!==c&&(e.bindBuffer(e.ARRAY_BUFFER,b.RD),e.vertexAttribPointer(c,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(c));-1!==g&&(e.bindBuffer(e.ARRAY_BUFFER,b.FD),e.vertexAttribPointer(g,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(g));-1!==a&&(e.bindBuffer(e.ARRAY_BUFFER,b.kD),e.vertexAttribPointer(a,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a));e.bindBuffer(e.ARRAY_BUFFER,null);this.DL=new d.ka.Hc(this,"matP","mat4");this.CL=new d.ka.Hc(this,"matMV","mat4");this.zr=new d.ka.Hc(this,"color","vec4");
this.xha=new d.ka.Hc(this,"samplerFront","sampler");this.GL=new d.ka.Hc(this,"pointTexStart","vec2");this.FL=new d.ka.Hc(this,"pointTexEnd","vec2");this.JL=new d.ka.Hc(this,"zElevation","float");this.HL=new d.ka.Hc(this,"tileSize","vec2");this.IL=new d.ka.Hc(this,"tileSpacing","vec2");this.BL=new d.ka.Hc(this,"color2_","vec4");this.EL=new d.ka.Hc(this,"outlineThickness","float");this.pu=new d.ka.Hc(this,"samplerBack","sampler");this.Zm=new d.ka.Hc(this,"destStart","vec2");this.Ym=new d.ka.Hc(this,
"destEnd","vec2");this.fk=new d.ka.Hc(this,"srcStart","vec2");this.$m=new d.ka.Hc(this,"srcEnd","vec2");this.bn=new d.ka.Hc(this,"srcOriginStart","vec2");this.an=new d.ka.Hc(this,"srcOriginEnd","vec2");this.Kh=new d.ka.Hc(this,"pixelSize","vec2");this.Yo=new d.ka.Hc(this,"seconds","float");this.Vo=new d.ka.Hc(this,"layerScale","float");this.Uo=new d.ka.Hc(this,"layerAngle","float");this.Xo=new d.ka.Hc(this,"layoutStart","vec2");this.Wo=new d.ka.Hc(this,"layoutEnd","vec2");this.qV=!!(this.Kh.ma||this.Yo.ma||
this.pu.ma||this.Zm.ma||this.Ym.ma||this.fk.ma||this.$m.ma||this.bn.ma||this.an.ma||this.Vo.ma||this.Uo.ma||this.Xo.ma||this.Wo.ma);this.$U=f.lxa||0;this.aV=f.mxa||0;this.aJ=!!f.axa;this.bha=!!f.wya;this.Zt=!!f.Jya;this.yB=!!f.Owa;b=f.parameters||[];this.Ar=[];this.ny=this.Zm.ma||this.Ym.ma;this.zha=this.Kh.ma||this.fk.ma||this.$m.ma||this.bn.ma||this.an.ma;this.dha=this.aJ||this.ny||0!==this.$U||0!==this.aV;this.zJ=this.AJ=!1;this.zr.OO();this.BL.OO();this.xha.NO(0);this.pu.NO(1);this.GL.$g(0,0);
this.FL.$g(1,1);this.JL.gs(0);this.HL.$g(0,0);this.IL.$g(0,0);this.Zm.$g(0,0);this.Ym.$g(1,1);this.fk.$g(0,0);this.$m.$g(0,0);this.bn.$g(0,0);this.an.$g(0,0);this.Kh.$g(0,0);this.Vo.gs(1);this.Uo.gs(0);this.Yo.gs(0);this.Xo.$g(0,0);this.Wo.$g(0,0);this.EL.gs(1);for(const l of b)b=l[2],f=new d.ka.Hc(this,l[0],b),"color"===b?f.O2():f.gs(0),this.Ar.push(f);this.xC?this.vU(h.xy):(this.LA(h.xy,!0),this.KA(h.YD,!0));h=h.Ni;e.useProgram(h?h.tb:null)}A(){this.ja.deleteProgram(this.tb);this.tb=null;this.Ga.Wda(this);
this.Ga=this.ja=null}Jn(){return this.bha}Jz(b){return this.Ar[b].La}YY(b){for(let a=0,f=b.length;a<f;++a)if(!this.Ar[a].O3(b[a]))return!1;return!0}g7(b){for(let a=0,f=b.length;a<f;++a)this.Ar[a].Z6(b[a])}ZY(b,a,f,c,e,h,g,l,n){return this.pu.ma||this.Kh.ma&&!this.Kh.Rl(e,h)||this.Zm.ma&&!this.Zm.Rl(b.X,b.S)||this.Ym.ma&&!this.Ym.Rl(b.ca,b.ba)||this.Vo.ma&&!this.Vo.bG(g)||this.Uo.ma&&!this.Uo.bG(l)||this.fk.ma&&!this.fk.Rl(a.X,a.S)||this.$m.ma&&!this.$m.Rl(a.ca,a.ba)||this.bn.ma&&!this.bn.Rl(f.X,f.S)||
this.an.ma&&!this.an.Rl(f.ca,f.ba)||this.Xo.ma&&!this.Xo.Rl(c.X,c.S)||this.Wo.ma&&!this.Wo.Rl(c.S,c.ba)||this.Yo.ma&&!this.Yo.bG(n)?!1:!0}K7(b,a,f,c,e,h,g,l,n){this.pu.ma||(this.Kh.ma&&this.Kh.Zl(e,h),this.Zm.ma&&this.Zm.Zl(b.X,b.S),this.Ym.ma&&this.Ym.Zl(b.ca,b.ba),this.Vo.ma&&this.Vo.CG(g),this.Uo.ma&&this.Uo.CG(l),this.fk.ma&&this.fk.Zl(a.X,a.S),this.$m.ma&&this.$m.Zl(a.ca,a.ba),this.bn.ma&&this.bn.Zl(f.X,f.S),this.an.ma&&this.an.Zl(f.ca,f.ba),this.Xo.ma&&this.Xo.Zl(c.X,c.S),this.Wo.ma&&this.Wo.Zl(c.S,
c.ba),this.Yo.ma&&this.Yo.CG(n))}LA(b,a){this.AJ&&!a||this.xC||(this.DL.ma&&this.DL.MA(b),this.AJ=!0)}J7(){this.AJ=!1}KA(b,a){this.zJ&&!a||this.xC||(this.CL.ma&&this.CL.MA(b),this.zJ=!0)}I7(){this.zJ=!1}vU(b){if(!this.xC)throw Error("not device transform shader");this.DL.MA(b);b=this.Ga;const a=b.T()/2,f=b.U()/2;b=b.Ru(a,f,100*self.devicePixelRatio,a,f);this.CL.MA(b)}b9(b){this.zr.ma&&this.zr.JA(b[0],b[1],b[2],b[3])}static fF(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.D,b=self.kn.Fr,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.ka.Hc=class{constructor(f,c,e){if(!a.has(e))throw Error("invalid uniform type");this.oc=f;this.ja=this.oc.ja;this.na=c;this.La=e;this.PJ="color"===this.La;this.wi=this.ja.getUniformLocation(this.oc.tb,c);this.ma=!!this.wi;f=a.get(e);this.rb=new Float32Array(f);this.Xj=new Float32Array(f)}A(){this.wi=this.ja=this.oc=null}gs(f){this.ma&&(this.rb[0]=
f,this.Xj.set(this.rb),this.ja.uniform1f(this.wi,f))}NO(f){this.ma&&(this.rb[0]=f,this.Xj.set(this.rb),this.ja.uniform1i(this.wi,f))}$g(f,c){this.ma&&(this.rb[0]=f,this.rb[1]=c,this.Xj.set(this.rb),this.ja.uniform2f(this.wi,f,c))}O2(){this.ma&&(this.rb[0]=0,this.rb[1]=0,this.rb[2]=0,this.Xj.set(this.rb),this.ja.uniform3f(this.wi,0,0,0))}OO(){this.ma&&(this.rb[0]=1,this.rb[1]=1,this.rb[2]=1,this.rb[3]=1,this.Xj.set(this.rb),this.ja.uniform4f(this.wi,1,1,1,1))}Is(f){f=Math.fround(f);const c=this.rb;
c[0]!==f&&(c[0]=f,this.ja.uniform1f(this.wi,f))}qf(f,c){f=Math.fround(f);c=Math.fround(c);const e=this.rb;if(e[0]!==f||e[1]!==c)e[0]=f,e[1]=c,this.ja.uniform2f(this.wi,f,c)}Z8(f,c,e){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);const h=this.rb;if(h[0]!==f||h[1]!==c||h[2]!==e)h[0]=f,h[1]=c,h[2]=e,this.ja.uniform3f(this.wi,f,c,e)}JA(f,c,e,h){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);h=Math.fround(h);const g=this.rb;if(g[0]!==f||g[1]!==c||g[2]!==e||g[3]!==h)g[0]=f,g[1]=c,g[2]=e,g[3]=h,
this.ja.uniform4f(this.wi,f,c,e,h)}MA(f){const c=this.rb;b.hk(c,f)||(d.Ija(c,f),this.ja.uniformMatrix4fv(this.wi,!1,f))}O3(f){const c=this.Xj;return this.PJ?c[0]===Math.fround(f.lb)&&c[1]===Math.fround(f.Qa)&&c[2]===Math.fround(f.kb):c[0]===Math.fround(f)}Z6(f){const c=this.Xj;this.PJ?(c[0]=f.lb,c[1]=f.Qa,c[2]=f.kb):c[0]=f}bG(f){return this.Xj[0]===Math.fround(f)}Rl(f,c){const e=this.Xj;return e[0]===Math.fround(f)&&e[1]===Math.fround(c)}CG(f){this.Xj[0]=f}Zl(f,c){const e=this.Xj;e[0]=f;e[1]=c}}}
{"use strict";const d=self.D,b=self.kn,a=b.Lu,f=b.Fr;d.ka.dZ=class{constructor(c){this.If=c;this.YD=f.create();this.xy=f.create();this.fp=null;this.XD=a.jg(1,1,1,1);this.Ni=null;this.CM=new d.Rect;this.clearColor=d.F(d.pb,0,0,0,0)}};d.ka.o9=class{constructor(c){const e=new ArrayBuffer(96);this.La=0;this.Ic=c;this.ja=c.If.ja;this.Am=this.Kg=0;this.Cf=null;this.we=new Float32Array(e,0,16);this.rq=new Float32Array(e,64,4);this.$W=new Float32Array(e,80,4);this.sD=[]}b3(c){this.La=1;this.Kg=c;this.Am=
6}t_(){const c=this.ja;c.drawElements(c.TRIANGLES,this.Am,c.UNSIGNED_SHORT,this.Kg)}k3(c){this.La=2;this.Cf=c}F_(){const c=this.ja,e=this.Cf;c.bindTexture(c.TEXTURE_2D,e?e.Fb:null)}OF(c){this.La=3;c.Ph(this.rq,0)}v_(){const c=this.rq,e=this.Ic;a.Ka(e.XD,c);e.Ni.b9(c)}y_(){const c=this.rq,e=this.Ic.Ni;e.BL.ma&&e.BL.JA(c[0],c[1],c[2],c[3])}d3(c,e){this.La=4;this.Kg=c;this.Am=e}u_(){this.ja.blendFunc(this.Kg,this.Am)}l3(c,e){this.La=5;const h=this.rq;h[0]=0;h[1]=0;h[2]=c;h[3]=e}H_(){const c=this.rq;
this.ja.viewport(c[0],c[1],c[2],c[3])}i3(c){this.La=6;f.Ka(this.we,c)}D_(){const c=this.Ic,e=c.If.jq,h=c.Ni,g=this.we;for(let l=0,n=e.length;l<n;++l){const p=e[l];p===h?p.LA(g,!0):p.J7()}f.Ka(c.xy,g)}f3(c){this.La=7;f.Ka(this.we,c)}z_(){const c=this.Ic,e=c.If.jq,h=c.Ni,g=this.we;for(let l=0,n=e.length;l<n;++l){const p=e[l];p===h?p.KA(g,!0):p.I7()}f.Ka(c.YD,g)}j3(c){this.La=8;this.Cf=c}E_(){const c=this.ja;var e=this.Cf;const h=this.Ic;e?(e=e.Pj,h.fp=e,c.bindFramebuffer(c.FRAMEBUFFER,e)):(h.fp=null,
c.bindFramebuffer(c.FRAMEBUFFER,null))}T2(c){this.La=9;c.Ph(this.we,0)}U2(){this.La=9;const c=this.we;c[0]=0;c[1]=0;c[2]=0;c[3]=0}p_(){const c=this.ja;var e=this.we,h=this.Ic;const g=h.clearColor;(h=h.If.Mq&&d.yu)&&c.disable(c.SCISSOR_TEST);const l=e[0],n=e[1],p=e[2];e=e[3];g.Ay(l,n,p,e)||(c.clearColor(l,n,p,e),g.pp(l,n,p,e));c.clear(c.COLOR_BUFFER_BIT);h&&c.enable(c.SCISSOR_TEST)}S2(c,e,h,g){this.La=10;const l=this.we;l[0]=c;l[1]=e;l[2]=h;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}o_(){const c=this.ja;var e=
this.we,h=this.Ic;const g=h.If;h=h.clearColor;g.Mq||c.enable(c.SCISSOR_TEST);c.scissor(e[0],e[1],e[2],e[3]);const l=e[4],n=e[5],p=e[6];e=e[7];h.Ay(l,n,p,e)||(c.clearColor(l,n,p,e),h.pp(l,n,p,e));c.clear(c.COLOR_BUFFER_BIT);g.Mq?c.scissor(0,0,g.ty,g.ry):c.disable(c.SCISSOR_TEST)}A_(){const c=this.we;this.Ic.CM.set(c[0],c[1],c[2],c[3])}Z2(c,e){this.La=11;this.Kg=c;this.Am=1;this.we[0]=e}s_(){const c=this.ja,e=this.Ic,h=e.If.xD;c.useProgram(h.tb);h.LA(e.xy,!1);h.KA(e.YD,!1);var g=e.CM;h.GL.ma&&h.GL.qf(g.X,
g.S);h.FL.ma&&h.FL.qf(g.ca,g.ba);g=this.we[0];h.JL.ma&&h.JL.Is(g);h.zr.ma&&(g=e.XD,h.zr.JA(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Kg/4,this.Am);c.useProgram(e.Ni.tb)}g3(c){this.La=12;this.Cf=c}B_(){var c=this.ja;const e=this.Ic,h=this.Cf;e.Ni=h;c.useProgram(h.tb);h.LA(e.xy,!1);h.KA(e.YD,!1);h.zr.ma&&(c=e.XD,h.zr.JA(c[0],c[1],c[2],c[3]))}h3(){this.La=13}C_(){const c=this.Ic.Ni;c.qV&&this.oaa(c);c.Ar.length&&this.paa(c)}oaa(c){const e=this.ja,h=this.we,g=this.rq,l=this.$W;if(c.pu.ma){const n=
this.Ic.If,p=this.Cf;n.zo!==p&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,p?p.Fb:null),n.zo=p,e.activeTexture(e.TEXTURE0))}c.Kh.ma&&c.Kh.qf(h[0],h[1]);c.Zm.ma&&c.Zm.qf(h[2],h[3]);c.Ym.ma&&c.Ym.qf(h[4],h[5]);c.Vo.ma&&c.Vo.Is(h[6]);c.Uo.ma&&c.Uo.Is(h[7]);c.fk.ma&&c.fk.qf(h[12],h[13]);c.$m.ma&&c.$m.qf(h[14],h[15]);c.bn.ma&&c.bn.qf(l[0],l[1]);c.an.ma&&c.an.qf(l[2],l[3]);c.Xo.ma&&c.Xo.qf(g[0],g[1]);c.Wo.ma&&c.Wo.qf(g[2],g[3]);c.Yo.ma&&c.Yo.Is(this.Kg)}paa(c){c=c.Ar;const e=this.sD;for(let h=
0,g=c.length;h<g;++h){const l=c[h],n=e[h];l.PJ?l.Z8(n.lb,n.Qa,n.kb):l.Is(n)}}W2(c){this.La=14;this.Cf=c}r_(){const c=this.ja,e=this.Cf,h=this.Ic.fp;e!==h&&c.bindFramebuffer(c.FRAMEBUFFER,e);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);e!==h&&c.bindFramebuffer(c.FRAMEBUFFER,h)}P2(c,e){this.La=17;var h=this.we;const g=this.Ic.If;h[0]=c.T();h[1]=c.U();h[2]=e?e.T():g.T();h[3]=e?e.U():g.U();h[4]=c.ZF()?1:0;h[5]=!0;h=this.sD;d.H(h);h.push(c.Pj);h.push(e?e.Pj:null)}m_(){var c=this.we,e=this.sD;
const h=this.ja;var g=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const r=e[1];h.bindFramebuffer(h.READ_FRAMEBUFFER,e[0]);h.bindFramebuffer(h.DRAW_FRAMEBUFFER,r);c?h.blitFramebuffer(0,0,g,l,0,0,n,p,h.COLOR_BUFFER_BIT,q?h.LINEAR:h.NEAREST):(e=Math.min(g,n),g=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),h.blitFramebuffer(0,n,e,g+n,0,l,e,g+l,h.COLOR_BUFFER_BIT,h.NEAREST))}n3(c){this.La=18;this.Cf=c}I_(){this.Cf.EE();this.Cf=null}V2(c){this.La=19;this.Cf=c}q_(){this.Cf.WE();this.Cf=null}x_(){const c=
this.Ic.Ni,e=this.we;c.Kh.ma&&c.Kh.qf(e[0],e[1]);c.EL.ma&&c.EL.Is(e[2])}G_(){const c=this.Ic.Ni,e=this.we;c.fk.ma&&c.fk.qf(e[0],e[1]);c.Kh.ma&&c.Kh.qf(e[4],e[5]);c.HL.ma&&c.HL.qf(e[6],e[7]);c.IL.ma&&c.IL.qf(e[8],e[9])}R2(){this.La=22}n_(){const c=this.ja;c.clear(c.DEPTH_BUFFER_BIT)}e3(c){this.La=23;this.Kg=c?1:0}w_(){const c=this.ja;0===this.Kg?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}Ca(){switch(this.La){case 1:this.t_();break;case 2:this.F_();break;case 3:this.v_();
break;case 4:this.u_();break;case 5:this.H_();break;case 6:this.D_();break;case 7:this.z_();break;case 8:this.E_();break;case 9:this.p_();break;case 10:this.o_();break;case 11:this.s_();break;case 12:this.B_();break;case 13:this.C_();break;case 14:this.r_();break;case 15:this.A_();break;case 16:this.G_();break;case 17:this.m_();break;case 18:this.I_();break;case 19:this.q_();break;case 20:this.x_();break;case 21:this.y_();break;case 22:this.n_();break;case 23:this.w_()}}}}
{"use strict";const d=self.D,b={timeout:60},a=new d.pb(0,0,0,1),f=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),e=new Set(["word","character"]),h=new Set;d.B0&&d.B0.addEventListener("fontload",p=>{p=p.font.na;for(const q of h)(q.Qe||d.Nh(q.fC,p))&&q.fq()});function g(p,q,r,x,w,v){q?"Gecko"===d.md.Xy?p.strokeText(r,x,w,v):p.strokeText(r,x,w):"Gecko"===d.md.Xy?p.fillText(r,x,w,v):p.fillText(r,x,w)}let l=!1,n=!1;d.ka.eQ=class{constructor(p,q){q=Object.assign({},b,q);this.Ga=
p;this.fC="Arial";this.gC=16;this.eV=1;this.Cc=0;this.Rga=this.Mga=!1;this.ZI="black";this.Qe=!1;this.xM=null;this.DI=new Set;this.ve="left";this.me="top";this.pc="";this.yj=null;this.Gf=d.F(d.Wv);this.Cr="word";this.bK=this.GD=!1;this.Vw=!0;this.vh=-1;this.W=this.Z=this.tm=this.tf=this.uh=0;this.Mi=1;this.XI=!1;this.Ax=this.Jm=this.Be=this.qr=null;this.SV=this.TV=-1;this.RC=this.VV=this.iK="";this.jK=this.kK=1;this.Bx=(r,x)=>this.jw(r,x);this.Fb=null;this.ay=this.cy=0;this.bk=new d.Rect;this.Px=
1;this.DK=!1;this.wL=new d.H2(()=>{this.fh();this.dU(8,8)},q.timeout);this.yM=null;this.uy=!1;h.add(this)}A(){this.xM=null;this.DI.clear();this.Bx=this.Ax=this.Jm=this.Be=this.qr=this.yj=null;this.wL.A();this.yM=null;this.fh();this.Gf.Tc();this.Ga=this.Gf=null;this.uy=!0;h.delete(this)}eq(){this.XI=!0}fq(){this.eq();this.Gf.Tc();this.GD=!0}B7(){this.Vw=!1}ah(){return this.Vw}xQ(p){p=!!p;this.Qe!==p&&(p=(this.Qe=p)?"alphabetic":"top",this.Be&&(this.Be.textBaseline=p),this.Jm&&(this.Jm.textBaseline=
p),this.fq())}q7(){"Arial"!==this.fC&&(this.fC="Arial",this.fq())}r7(){var p=16;.1>p&&(p=.1);this.gC!==p&&(this.gC=p,this.fq())}FA(p){this.Cc!==p&&(this.Cc=p,this.eq())}CA(p){p=Math.floor(p);this.vh!==p&&(this.vh=p,this.eq())}nd(p,q){for(let r=p.length-1;0<=r;--r){const x=p[r];if(x.tag===q)return x}return null}$n(p,q){return!!this.nd(p,q)}uS(p,q){let r=[];(this.Mga||this.$n(q,"b"))&&r.push("bold");(this.Rga||this.$n(q,"i"))&&r.push("italic");var x=this.nd(q,"size");x=(x?parseFloat(x.Pd):this.gC)*
this.eV;p?r.push(x+"pt"):r.push(x*this.Px*this.Mi*self.devicePixelRatio+"pt");p=this.fC;(q=this.nd(q,"font"))&&q.Pd&&(p=q.Pd,this.xM&&!this.DI.has(p)&&(this.xM(p),this.DI.add(p)));p&&r.push('"'+p+'"');return r.join(" ")}Dk(p){p instanceof d.pb&&(p=p.oia());this.ZI!==p&&(this.ZI=p,this.eq())}zQ(p,q,r){a.pE(p,q,r);this.Dk(a)}w7(){if(!f.has("center"))throw Error("invalid horizontal alignment");"center"!==this.ve&&(this.ve="center",this.eq())}o8(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.me&&(this.me="center",this.eq())}aR(p){if(!e.has(p))throw Error("invalid word wrap mode");this.Cr!==p&&(this.Cr=p,this.fq())}Ds(p){this.pc!==p&&(this.pc=p,this.fq())}sc(p,q,r){"undefined"===typeof r&&(r=1);if(!(0>=p||0>=p||this.tf===p&&this.tm===q&&this.Mi===r)){1===this.Mi!==(1===r)&&(this.DK=!0);var x=this.tf,w=this.Mi;this.tf=p;this.tm=q;this.Mi=r;p=self.devicePixelRatio;this.Z=this.tf*this.Mi*p;this.W=this.tm*this.Mi*p;p=Math.max(this.Z,this.W);q=Math.min(this.Ga.aD,2048);r=1;
p>q&&(r=q/p,this.Z=Math.min(this.Z*r,q),this.W=Math.min(this.W*r,q));this.Px=r;0<this.cy&&0<this.ay&&this.Mi===w&&this.bk.set(0,0,this.Z/this.cy,this.W/this.ay);this.tf!==x?this.fq():this.eq()}}T(){return this.Z}U(){return this.W}DO(){this.$p();return this.Gf.jO()}CO(){this.$p();return this.Gf.T1()+this.Gf.dl.length*(this.Cc+4)-this.Cc}Ud(){this.wL.Vc();this.Cca();return this.Fb}Cca(){this.Fb&&!this.XI&&!this.GD||this.bK||0>=this.Z||0>=this.W||(this.XI=!1,this.bK=!0,this.Vw?d.zl(()=>this.ZR()):this.ZR())}ZR(){this.uy||
(this.dU(Math.ceil(this.Z),Math.ceil(this.W)),this.$p(),this.Eaa(),this.Vfa(),this.wL.Vc(),this.bK=!1)}dU(p,q){this.qr||(this.qr=d.Qg(16,16));let r=!1;if(this.TV!==p||this.SV!==q)this.TV=p,this.SV=q,this.qr.width=p,this.qr.height=q,r=!0;this.Be||(this.Be=this.qr.getContext("2d"),r=!0);r?(this.Be.textBaseline=this.Qe?"alphabetic":"top",this.Be.font=this.iK,this.Be.fillStyle=this.RC,this.Be.strokeStyle=this.RC,this.Be.globalAlpha=this.kK,this.Be.lineWidth=this.jK):this.Be.clearRect(0,0,p,q)}aT(){this.Jm||
(this.Jm=d.Qg(16,16).getContext("2d"),this.Ax=d.Qg(16,16).getContext("2d"),this.Jm.textBaseline=this.Qe?"alphabetic":"top",this.Ax.textBaseline="top")}kfa(p){this.VV!==p&&(this.VV=p,this.Jm.font=p,this.Ax.font=p)}nU(){if(!l){l=!0;this.aT();const p=this.Jm.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}$p(){this.GD&&(this.aT(),!this.Qe||this.yj&&this.yj.toString()===this.pc||(this.yj=new d.Al(this.pc,{YX:!0})),this.Gf.Wv(this.Qe?
this.yj.pY():this.pc,this.Bx,this.tf,this.Cr,0),this.GD=!1)}jw(p,q){this.kfa(this.uS(!0,q));q=this.nd(q,"size");q=(q?parseFloat(q.Pd):this.gC)*this.eV;const r=this.Jm.measureText(p);let x=0;this.Qe&&this.nU()&&(x=r.fontBoundingBoxAscent-this.Ax.measureText(p).fontBoundingBoxAscent);return{width:r.width,height:4/3*q,Mg:r.fontBoundingBoxAscent||0,ig:r.fontBoundingBoxDescent||0,kg:x}}Wea(p){this.iK!==p&&(this.iK=p,this.Be.font=p)}eI(p){this.RC!==p&&(this.RC=p,this.Be.fillStyle=p,this.Be.strokeStyle=
p)}Vea(p){this.kK!==p&&(this.kK=p,this.Be.globalAlpha=p)}QT(p){this.jK!==p&&(this.jK=p,this.Be.lineWidth=p)}Eaa(){this.uh=0;const p=this.Px*this.Mi*self.devicePixelRatio,q=(4+this.Cc)*p;var r=0;const x=this.Gf.dl;if(0!==x.length){var w=this.Qe&&this.nU(),v=x[0].height*p;"center"===this.me?(r=x.reduce((t,A)=>t+A.height*p+q,0)-q,r=Math.max(this.W/2-r/2,0),w&&(v=x[0].kg*p)):"bottom"===this.me&&(r=x.reduce((t,A)=>t+A.height*p+q,0)-this.Cc*p,r=this.W-r-(w?x[x.length-1].ig*p:0)-2);for(let t=0,A=x.length;t<
A;++t){w=x[t];const y=w.height*p,E=r;if(this.Qe){if(r+=0===t?v:y,0<t&&r>this.W-4*p)break}else if(0<t&&r>=this.W-y)break;0<=E&&this.Daa(w,r,p);this.Qe||(r+=y);r+=q}}}Daa(p,q,r){let x=0;"center"===this.ve?x=(this.Z-p.width*r)/2:"right"===this.ve&&(x=this.Z-p.width*r);for(const w of p.cM)this.Caa(w,x,q,r,p.height),x+=w.width*r}Caa(p,q,r,x,w){const v=this.Be;var t=w/16;w=p.width*x;var A=p.height*x;const y=p.height/16;var E=(4+this.Cc)*x;const F=p.vd;p=p.text;if(-1!==this.vh){if(this.uh>=this.vh)return;
this.uh+p.length>this.vh&&(p=p.substr(0,this.vh-this.uh),w=this.jw(p,F).width*x);this.uh+=p.length}var H=this.nd(F,"background"),J=this.$n(F,"u"),M=this.$n(F,"s");if((!d.fA(p)||H||J||M)&&!this.$n(F,"hide")){var P=this.nd(F,"offsetx");q+=P?parseFloat(P.Pd)*x:0;P=this.nd(F,"offsety");r+=P?parseFloat(P.Pd)*x:0;H&&(this.eI(H.Pd),v.fillRect(q,r-A,w,A+E));E=this.nd(F,"color");this.eI(E?E.Pd:this.ZI);E=this.nd(F,"opacity");this.Vea(E?parseFloat(E.Pd)/100:1);(E=this.$n(F,"stroke"))&&this.QT(y*this.Px*this.Mi);
J&&(J=q,H=r+x*t,P=w,t*=x,E?v.strokeRect(J,H,P,t):v.fillRect(J,H,P,t));M&&(t=q,A=r-A/4,M=w,x*=y,E?v.strokeRect(t,A,M,x):v.fillRect(t,A,M,x));this.Wea(this.uS(!1,F));g(v,E,p,q,r,w);!E&&(this.QT(y*this.Px*this.Mi),x=this.nd(F,"outline"))&&(this.eI(x.Pd),g(v,!0,p,q,r,w))}}Vfa(){this.Ga.Ip()||(this.cy=Math.ceil(this.Z),this.ay=Math.ceil(this.W),this.bk.set(0,0,this.Z/this.cy,this.W/this.ay),this.DK&&(this.fh(),this.DK=!1),this.Fb||(this.Fb=this.Ga.xN(this.cy,this.ay,{gE:1===this.Mi,Iy:"high"})),this.Ga.f9(this.qr,
this.Fb),this.yM&&this.yM())}Xh(){return this.bk}fh(){this.Fb&&(this.Ga.Ip()||this.Ga.kk(this.Fb),this.Fb=null)}static Vl(){for(const p of h)p.fh()}}}
{"use strict";const d=self.D;class b{constructor(a){this.ja=a.ja;this.ae=a.ae;this.$d=a.$d;this.Ai=null;this.Mw=this.Ub=!1;this.qD=0;this.Ai=1===this.ae?this.$d.createQueryEXT():this.ja.createQuery()}A(){this.QR();this.$d=this.ja=null;this.Mw=!1}QR(){this.Ai&&(1===this.ae?this.$d.deleteQueryEXT(this.Ai):this.ja.deleteQuery(this.Ai),this.Ai=null)}EE(){if(this.Ub)throw Error("query already active");1===this.ae?this.$d.beginQueryEXT(this.$d.TIME_ELAPSED_EXT,this.Ai):this.ja.beginQuery(this.$d.TIME_ELAPSED_EXT,
this.Ai);this.Ub=!0}WE(){if(!this.Ub)throw Error("query not active");1===this.ae?this.$d.endQueryEXT(this.$d.TIME_ELAPSED_EXT):this.ja.endQuery(this.$d.TIME_ELAPSED_EXT);this.Ub=!1}KE(){if(this.Ai&&!this.Mw&&!this.Ub){var a=1===this.ae?this.$d.getQueryObjectEXT(this.Ai,this.$d.QUERY_RESULT_AVAILABLE_EXT):this.ja.getQueryParameter(this.Ai,this.ja.QUERY_RESULT_AVAILABLE);var f=this.ja.getParameter(this.$d.GPU_DISJOINT_EXT);a&&!f&&(this.qD=1===this.ae?this.$d.getQueryObjectEXT(this.Ai,this.$d.QUERY_RESULT_EXT):
this.ja.getQueryParameter(this.Ai,this.ja.QUERY_RESULT),this.qD/=1E9,this.Mw=!0);(a||f)&&this.QR()}}Wz(){return this.Mw}Nz(){if(!this.Mw)throw Error("no result available");return this.qD}}d.ka.q9=class{constructor(a){this.Ga=a;this.ri=a.ri;this.Ub=!1;this.Io=null;this.Lq=!1;this.bu=null;this.dr=[]}A(){for(const a of this.dr)a instanceof b&&a.A();d.H(this.dr);this.Ga=this.bu=this.Io=null}EE(){if(this.Ub)throw Error("query already active");const a=this.Ga.hX;0<a.length?(this.Lq=!0,this.Io=a[a.length-
1],this.Io.bS(),this.Io.dr.push(this)):(this.Lq=!1,this.Io=null);this.Ub=!0;a.push(this);this.lU()}WE(){if(!this.Ub)throw Error("query not active");if(this.Ga.hX.pop()!==this)throw Error("can only end most nested query");this.Ub=!1;this.bS();this.Io&&(this.Io.lU(),this.Io=null)}lU(){this.bu=d.F(b,this.Ga);this.dr.push(this.bu);this.bu.EE()}bS(){this.bu.WE();this.bu=null}KE(){for(const a of this.dr)a.KE()}Wz(){return this.dr.every(a=>a.Wz())}Nz(){return this.dr.reduce((a,f)=>a+f.Nz(),0)}}}
{"use strict";const d=self.D;d.ka.uR=class{constructor(b,a=1E3){this.Ga=b;this.aha=a;this.Ok=[];this.Ga.J9(this)}A(){this.Tc();this.Ga.Vda(this);this.Ga=null}Tc(){for(const b of this.Ok)b.A();d.H(this.Ok)}bN(){const b=new d.ka.q9(this.Ga);this.Ok.push(b);this.Ok.length>this.aha&&this.Ok.shift().A();return b}sZ(b){for(const a of this.Ok){if(a.ri>=b)break;if(a.Lq)break;a.KE()}}eO(b,a){if(a<=b)return NaN;let f=0;for(const c of this.Ok){if(c.ri>=a)break;if(!(c.ri<b))if(c.Wz())f+=c.Nz();else return NaN}return f}CN(b){for(let a=
0,f=this.Ok.length;a<f;++a){const c=this.Ok[a];if(c.ri<b)c.A();else{0<a&&this.Ok.splice(0,a);break}}}}}
{"use strict";const d=self.D,b=self.kn,a=b.Lu,f=b.Fr,c={powerPreference:"default",NX:!0,alpha:!1,oM:!1,depth:!1,pM:2},e=new Set(["default","low-power","high-performance"]),h=new d.yd(0,0,1,0,1,1,0,1),g=f.create(),l=f.create(),n=new d.yd,p=new d.Rect;let q=null;d.yu&&(self.dxa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.exa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const r=new Set;let x=-1;function w(){x=-1;for(const t of r)t.Qha()&&
(t.resolve(),r.delete(t));0<r.size&&(x=self.requestAnimationFrame(w))}function v(t,A,y){if(2<=y&&(y=t.getContext("webgl2",A)))return{cE:y,version:2};y=t.getContext("webgl",A);return{cE:y,version:1}}d.ka.p9=class extends d.ka.y6{constructor(t,A){super();A=Object.assign({},c,A);if(!e.has(A.powerPreference))throw Error("invalid power preference");let y=!1;const E={alpha:!!A.alpha,depth:!1,antialias:!1,powerPreference:A.powerPreference,failIfMajorPerformanceCaveat:!0};A.oM&&(E.desynchronized=!0,E.preserveDrawingBuffer=
!0);let F=v(t,E,A.pM);F.cE||(y=!0,E.failIfMajorPerformanceCaveat=!1,F=v(t,E,A.pM));if(!F.cE)throw Error("failed to initialise WebGL context");this.ja=t=F.cE;this.EU=t.getContextAttributes();A.oM&&!this.EU.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");t.getParameter(t.VERSION);this.ae=F.version;this.de=a.create();this.KI=f.create();this.QJ=this.Zo=!!A.depth;this.vq=null;this.OJ=!0;this.NU=this.OU=0;this.kD=this.CV=this.FD=this.RD=null;this.qy=
new Float32Array(24E3);this.DV=new Uint16Array(12E3);this.nr=new Float32Array(16E3);this.RK=new Float32Array(32E3);this.XV=this.br=this.We=this.Li=0;this.Po=this.Qq=null;this.Xs=[];this.Dc=this.nm=0;this.Wd=null;this.fK=0;this.Ic=d.F(d.ka.dZ,this);this.rx=d.F(d.pb,1,1,1,1);this.zo=this.Gm=null;this.dK=this.hK=0;this.Mq=!1;this.ry=this.ty=-1;this.Uga=new d.Rect;this.aD=-1;this.yK=0;this.ky="(unavailable)";this.tV=y;this.TJ=!1;this.xw=this.MK=null;this.xK=0;this.Qga=!!A.NX;this.$d=null;this.xB=new Set;
this.hX=[];this.y0(this.DV)}gA(){return!0}async Yz(){super.Yz();var t=this.ja;this.rx.pp(1,1,1,1);this.zo=this.Gm=null;this.br=this.Li=0;this.XV=23988;d.H(this.Xs);this.Dc=this.nm=0;this.Wd=this.Qq=null;this.Uga.set(0,0,1,1);this.fK=0;var A=this.Ic;A.Ni=null;A.fp=null;a.set(A.XD,1,1,1,1);A.clearColor.pp(0,0,0,0);A.CM.set(0,0,1,1);t.clearColor(0,0,0,0);t.clear(t.COLOR_BUFFER_BIT);t.enable(t.BLEND);t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);this.hK=t.ONE;this.dK=t.ONE_MINUS_SRC_ALPHA;this.Bba(t);t.disable(t.CULL_FACE);
t.disable(t.STENCIL_TEST);t.disable(t.DITHER);this.Zo?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1));this.QJ=this.Zo;this.kD=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.kD);t.bufferData(t.ARRAY_BUFFER,this.RK.byteLength,t.DYNAMIC_DRAW);this.RD=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.RD);t.bufferData(t.ARRAY_BUFFER,this.qy.byteLength,t.DYNAMIC_DRAW);this.FD=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.FD);t.bufferData(t.ARRAY_BUFFER,
this.nr.byteLength,t.DYNAMIC_DRAW);this.CV=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.CV);t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.DV,t.STATIC_DRAW);t.activeTexture(t.TEXTURE0);t.bindTexture(t.TEXTURE_2D,null);this.aD=t.getParameter(t.MAX_TEXTURE_SIZE);this.yK=t.getParameter(t.ALIASED_POINT_SIZE_RANGE)[1];2048<this.yK&&(this.yK=2048);if(A=t.getExtension("WEBGL_debug_renderer_info"))t.getParameter(A.UNMASKED_VENDOR_WEBGL),this.ky=t.getParameter(A.UNMASKED_RENDERER_WEBGL);this.MK=t.getExtension("KHR_parallel_shader_compile");
d.yu&&(q=t.getExtension("WEBGL_lose_context"));if(this.Qga)if(1===this.ae){if("Chromium"!==d.md.Xy||81<=d.md.GE||"undefined"!==typeof document)this.$d=t.getExtension("EXT_disjoint_timer_query")}else this.$d=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query");this.xK=(this.xw=t.getExtension("EXT_texture_filter_anisotropic"))?t.getParameter(this.xw.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;t=d.ka.Vv;A=t.fF(!1);t=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
A,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",A,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",A,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
A,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",A,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
A,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
A,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
A,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",A,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
t.fF(!0),"<tilemap>"]].map(y=>this.zN({src:y[0]},y[1],y[2])));this.yD=t[0];this.Po=t[1];this.xD=t[2];this.lL=t[3];this.ci()}async zN(t,A,y){t=await d.ka.Vv.ab(this,t,A,y);this.K9(t);return t}E6(){this.Qq=null}sc(t,A,y){if(this.Z!==t||this.W!==A||y){this.Rh();y=this.ja;var E=this.Ic;this.Z=t;this.W=A;t=this.tO();A=this.AF();this.iU(t,A);this.HE(this.KI,t/A);this.IA(this.KI);this.Po&&(y.useProgram(this.Po.tb),this.Po.vU(this.$C),this.Qq=this.Po,this.Ic.Ni=this.Po);y.bindTexture(y.TEXTURE_2D,null);y.activeTexture(y.TEXTURE1);
y.bindTexture(y.TEXTURE_2D,null);y.activeTexture(y.TEXTURE0);this.zo=this.Gm=null;this.Zo&&this.OJ&&this.dI(this.Z,this.W);this.Wd&&this.Wd.zT(this.Z,this.W);y.bindFramebuffer(y.FRAMEBUFFER,null);this.Wd=null;E.fp=null}}dI(t,A){const y=this.ja;if(this.vq){if(this.OU===t&&this.NU===A)return;y.deleteRenderbuffer(this.vq)}this.vq=y.createRenderbuffer();y.bindRenderbuffer(y.RENDERBUFFER,this.vq);y.renderbufferStorage(y.RENDERBUFFER,2<=this.ae?y.DEPTH_COMPONENT24:y.DEPTH_COMPONENT16,t,A);y.bindRenderbuffer(y.RENDERBUFFER,
null);this.OU=t;this.NU=A}p7(t,A){this.Zo&&(this.OJ=!1,this.dI(t,A))}Y6(){this.Zo&&(this.OJ=!0,this.dI(this.Z,this.W))}tO(){return this.Mq?this.ty:this.T()}AF(){return this.Mq?this.ry:this.U()}iU(t,A){const y=this.de;if(0!==y[0]||0!==y[1]||y[2]!==t||y[3]!==A)this.xd().l3(t,A),a.set(y,0,0,t,A),this.Dc=0}IA(t){f.hk(this.$C,t)||(this.xd().i3(t),f.Ka(this.$C,t),this.Dc=0)}DQ(){let t,A;var y=this.Wd;null===y||y.Xw&&this.Mq?(t=this.KI,A=this.tO(),y=this.AF()):(t=y.Ix,A=y.T(),y=y.U());this.IA(t);this.iU(A,
y)}zs(t){f.hk(this.vK,t)||(this.xd().f3(t),f.Ka(this.vK,t),this.Dc=0)}xd(){const t=this.Xs;this.nm===t.length&&t.push(new d.ka.o9(this.Ic));return t[this.nm++]}Rh(){0===this.nm||this.Ip()||(this.ega(),this.Haa(),this.Dc=this.br=this.We=this.Li=this.nm=0)}ega(){const t=this.ja;0<this.br&&(t.bindBuffer(t.ARRAY_BUFFER,this.kD),t.bufferSubData(t.ARRAY_BUFFER,0,this.RK.subarray(0,this.br)));0<this.Li&&(t.bindBuffer(t.ARRAY_BUFFER,this.RD),t.bufferSubData(t.ARRAY_BUFFER,0,this.qy.subarray(0,this.Li)),t.bindBuffer(t.ARRAY_BUFFER,
this.FD),t.bufferSubData(t.ARRAY_BUFFER,0,this.nr.subarray(0,this.We)))}Haa(){const t=this.Xs;for(let A=0,y=this.nm;A<y;++A)t[A].Ca()}Rd(){return this.rx.fb}Tf(t,A,y,E){const F=this.rx;F.Ay(t,A,y,E)||(F.pp(t,A,y,E),this.xd().OF(F),this.Dc=0,this.Ij=null)}kf(t){const A=this.rx;A.fb!==t&&(A.Oh(t),this.xd().OF(A),this.Dc=0,this.Ij=null)}Dk(t){const A=this.rx;A.jd(t)||(A.set(t),this.xd().OF(A),this.Dc=0,this.Ij=null)}ss(){this.Tf(1,1,1,1)}wg(t){t!==this.Gm&&(this.xd().k3(t),this.Gm=t,this.Dc=0)}XH(){this.Gm=
null}Sf(t){t=this.$aa(t);this.cI(t[0],t[1])}cI(t,A){if(t!==this.hK||A!==this.dK)this.xd().d3(t,A),this.hK=t,this.dK=A,this.Dc=0,this.Ij=null}BG(){this.cI(this.ja.ONE,this.ja.ONE_MINUS_SRC_ALPHA)}BQ(){this.cI(this.ja.ONE,this.ja.ZERO)}Rect(t){this.bQ(t.X,t.S,t.ca,t.ba)}bQ(t,A,y,E){this.h6(t,A,y,A,y,E,t,E)}bw(){let t=this.Li;t>=this.XV&&(this.Rh(),t=0);1===this.Dc?this.Xs[this.nm-1].Am+=6:(this.xd().b3(t),this.Dc=1)}qI(t){t.Rja(this.qy,this.Li,this.Ws+this.jt);this.Li+=12}yd(t){this.bw();this.qI(t);
h.Ph(this.nr,this.We);this.We+=8}h6(t,A,y,E,F,H,J,M){this.bw();const P=this.qy;let S=this.Li;const T=this.Ws+this.jt;P[S++]=t;P[S++]=A;P[S++]=T;P[S++]=y;P[S++]=E;P[S++]=T;P[S++]=F;P[S++]=H;P[S++]=T;P[S++]=J;P[S++]=M;P[S++]=T;this.Li=S;h.Ph(this.nr,this.We);this.We+=8}Ln(t,A){this.bw();this.qI(t);A.Qja(this.nr,this.We);this.We+=8}i6(t,A){this.bw();this.qI(t);A.Ph(this.nr,this.We);this.We+=8}sA(t,A,y,E,F,H,J,M,P,S,T,V,ba){this.bw();const ea=this.qy;let X=this.Li;const na=this.Ws+this.jt;ea[X++]=t;ea[X++]=
A;ea[X++]=na+y;ea[X++]=E;ea[X++]=F;ea[X++]=na+H;ea[X++]=J;ea[X++]=M;ea[X++]=na+P;ea[X++]=S;ea[X++]=T;ea[X++]=na+V;this.Li=X;ba.Ph(this.nr,this.We);this.We+=8}D0(t,A){f.Ka(g,this.$C);f.Ka(l,this.vK);this.DQ();if(this.Mq){t=this.Ru(0,0,100*self.devicePixelRatio,0,0);this.zs(t);t=this.ty/2;var y=this.ry/2;p.set(-t,y,-t+this.ty,y-this.ry);n.op(p);p.set(0,0,this.ty/this.Z,this.ry/this.W);this.Ln(n,p)}else{const [H,J]=this.O1(this.Wd);y=this.Ru(0,0,100*self.devicePixelRatio,0,0,J);this.zs(y);if("crop"===
t&&this.Wd&&A){t=this.Z/2;y=this.W/2;const M=A.T();A=A.U();var E=this.Wd.T(),F=this.Wd.U();E=Math.min(E,M);const P=Math.min(F,A),S=Math.max(A-F,0);F=Math.max(F-A,0);p.set(-t,y-F,-t+E,y-P-F);n.op(p);p.set(0,S,E,P+S);p.wl(M,A);this.Ln(n,p)}else t=H/2,y=J/2,this.bQ(-t,y,t,-y)}this.IA(g);this.zs(l)}U5(t,A,y,E){7996<=this.br&&this.Rh();let F=this.br;var H=this.Ws+this.jt;2===this.Dc&&this.fK===H?this.Xs[this.nm-1].Am++:(this.xd().Z2(F,H),this.Dc=2,this.fK=H);H=this.RK;H[F++]=t;H[F++]=A;H[F++]=y;H[F++]=
E;this.br=F}Un(t){this.Qq!==t&&(this.xd().g3(t),this.Qq=t,this.Dc=0,this.Ij=null)}i7(){this.Un(this.Po)}Cs(t,A,y,E,F,H,J,M,P,S,T){const V=this.Qq;var ba=V.qV;const ea=!!T.length;if(ba&&!V.ZY(A,y,E,F,H,J,M,P,S)||ea&&!V.YY(T)){var X=this.xd();X.h3();ba&&(V.K7(A,y,E,F,H,J,M,P,S),ba=X.we,ba[0]=H,ba[1]=J,A.Ph(ba,2),ba[6]=M,ba[7]=P,y.Ph(ba,12),A=X.rq,F.Ph(A,0),F=A[1],A[1]=A[3],A[3]=F,E.Ph(X.$W,0),X.Kg=S,X.Cf=V.pu.ma?t?t.Ud():null:null);ea&&(V.g7(T),d.Qd(X.sD,T));this.Dc=0}}bz(){this.xd().U2();this.Dc=0}Tc(t){this.xd().T2(t);
this.Dc=0}LE(t){this.yZ(t.X,t.S,t.width(),t.height())}yZ(t,A,y,E){0>y||0>E||(this.xd().S2(t,A,y,E),this.Dc=0)}Wn(){}Zu(){super.Zu();this.ja.flush()}uZ(){this.Zo&&this.Wd&&this.Wd.Jj&&(this.xd().R2(),this.Dc=0)}BA(t){t=!!t;this.QJ!==t&&this.Zo&&(this.QJ=t,this.xd().e3(t),this.Dc=0)}rZ(){for(const t of this.xB)t.sZ(this.ri)}Ip(){return!this.ja||this.ja.isContextLost()||this.TJ}Vl(){super.Z4();d.ka.OA.Vl();d.ka.dH.Vl();d.ka.eQ.Vl();for(const t of this.xB)t.Tc();this.xw=this.MK=this.$d=null;this.xK=0;
this.ky="(unavailable)";this.vq=this.Po=this.Qq=null;for(const t of this.Zx.values())t.Vl()}async jG(){this.TJ=!0;await this.Yz();this.TJ=!1;for(const t of this.Zx.values())t.jG(this);this.sc(this.Z,this.W,!0)}ez(t,A){if(this.Ip())throw Error("context lost");this.Rh();const y=d.F(d.ka.OA,this);y.I$(t,A);return y}fz(t,A){if(this.Ip())return Promise.reject("context lost");A=Object.assign({},A);const y=A.Mu&&"clamp-to-edge"!==A.Mu||A.Nu&&"clamp-to-edge"!==A.Nu;if(!d.dc.ImageBitmapOptions||!this.Wp()&&
y)return d.dc.ImageBitmap?createImageBitmap(t).then(E=>d.zl(()=>this.ez(E,A))):t instanceof Blob?d.eN(t,!0).then(E=>this.fz(E,A)):"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement&&"function"===typeof t.decode?t.decode().then(()=>d.zl(()=>this.ez(t,A))):d.zl(()=>this.ez(t,A));A.premultiplyAlpha=!1;return createImageBitmap(t,{premultiplyAlpha:"premultiply"}).then(E=>d.zl(()=>this.ez(E,A)))}xN(t,A,y){this.Rh();const E=d.F(d.ka.OA,this);E.r$(t,A,y);return E}f9(t,A){this.Rh();A.qU(t,
void 0)}kk(t){t&&(t.M8(),0<t.fd||(this.Rh(),t===this.Gm&&(this.ja.bindTexture(this.ja.TEXTURE_2D,null),this.Gm=null),t===this.zo&&(this.ja.activeTexture(this.ja.TEXTURE1),this.ja.bindTexture(this.ja.TEXTURE_2D,null),this.ja.activeTexture(this.ja.TEXTURE0),this.zo=null),t.tH()))}WZ(t){let A=this.Z,y=this.W,E=!0;t&&("number"===typeof t.width&&(A=t.width,E=!1),"number"===typeof t.height&&(y=t.height,E=!1));if(0>=A||0>=y)throw Error("invalid size");this.Rh();const F=d.F(d.ka.dH,this);F.o$(A,y,Object.assign({SX:E},
t));this.Wd=null;this.Ic.fp=null;return F}lf(t){t!==this.Wd&&(t&&t.Xw&&t.zT(this.Z,this.W),this.xd().j3(t),this.Wd=t,this.Dc=0,this.DQ())}Mz(){return this.Wd}O1(t){return t?[t.T(),t.U()]:[this.Z,this.W]}NE(t){2>this.ae||this.Wd&&0<this.Wd.Km?(this.BQ(),this.ss(),this.Uu(t,"stretch")):(this.xd().P2(t,this.Wd),this.Dc=0)}Uu(t,A="stretch"){t=t.Ud();if(!t)throw Error("not a texture-backed render target");this.wg(t);this.D0(A,t)}Gp(t){2>this.ae||(this.xd().W2(t.Pj),this.Dc=0)}k_(t){this.lf(null);this.Rh();
const A=t.Ud();A===this.Gm&&(this.ja.bindTexture(this.ja.TEXTURE_2D,null),this.Gm=null);A===this.zo&&(this.ja.activeTexture(this.ja.TEXTURE1),this.ja.bindTexture(this.ja.TEXTURE_2D,null),this.ja.activeTexture(this.ja.TEXTURE0),this.zo=null);t.tH()}async m6(t){this.Rh();const A=this.Wd;if(t){var y=t.T();var E=t.U();t=t.Pj}else y=this.T(),E=this.U(),t=null;const F=this.ja;F.bindFramebuffer(F.FRAMEBUFFER,t);t=new ImageData(y,E);F.readPixels(0,0,y,E,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array(t.data.buffer));
(()=>{F.bindFramebuffer(F.FRAMEBUFFER,null);this.Wd=null;this.Ic.fp=null;this.lf(A)})();return t}eR(t){this.oj()&&(this.xd().n3(t),this.Dc=0)}JN(t){this.oj()&&(this.xd().V2(t),this.Dc=0)}$fa(t){const A=new Promise(y=>r.add({resolve:y,Qha:t}));-1===x&&(x=self.requestAnimationFrame(w));return A}B3(){return!!this.EU.desynchronized}X0(){let t=0;for(const A of d.ka.OA.Fha())t+=A.iF();return t}Wp(){return 2<=this.ae}oj(){return!!this.$d}J9(t){this.xB.add(t)}Vda(t){this.xB.delete(t)}Bba(t){this.Aba([["normal",
t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}}}
{"use strict";let d=null;const b=new Set;let a=!1;self.A2=class{constructor(f){d=f;Object.defineProperties(this,{ria:{value:{},writable:!1},storage:{value:new self.E2(d),writable:!1},Wxa:{value:d.Se,writable:!1}});d.Ce.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});d.Ce.addEventListener("keyup",c=>b.delete(c.key));d.Kb().addEventListener("window-blur",()=>b.clear());d.Se&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}Eba(f){Object.defineProperties(this.ria,f)}addEventListener(f,c){d.Ce.addEventListener(f,c)}removeEventListener(f,c){d.Ce.removeEventListener(f,c)}get LX(){return d.Uh()}get Dxa(){return d.Wg()}random(){return d.Xl()}get Ng(){return d.Wb().Pw}get keyboard(){const f=d.ct.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get sM(){const f=d.ct.sM;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get UM(){const f=d.ct.UM;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return d.Op("runtime","alert",{message:f+(d.Se?" [via Web Worker]":"")})}}}"use strict";self.r2=class{constructor(){}};{"use strict";const d=self.Pg;self.E2=class{constructor(b){this.Lg=b.BS()}getItem(b){d.jf(b);return this.Lg.getItem(b)}setItem(b,a){d.jf(b);return this.Lg.setItem(b,a)}removeItem(b){d.jf(b);return this.Lg.removeItem(b)}clear(){return this.Lg.clear()}keys(){return this.Lg.keys()}}}
{"use strict";const d=self.Pg,b=new WeakMap;self.vv=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.na,writable:!1}});a.K().ZS(this,a)}addEventListener(a,f){d.jf(a);d.Bk(f);b.get(this).Ce.addEventListener(a,f)}removeEventListener(a,f){d.jf(a);d.Bk(f);b.get(this).Ce.removeEventListener(a,f)}*RX(){for(const a of b.get(this).ua())yield a.Vh()}ZL(a){d.ug(void 0);d.ug(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var f=
b.get(this),c=f.K();a=c.Wb().qa(a);if(!a)throw Error("invalid layer");f=c.PE(f,a,void 0,void 0,void 0);c=c.xa();c.Ze(!0);f.qB();c.Ze(!1);return f.Vh()}}}
{"use strict";const d=self.Pg,b=new WeakMap;self.w2=class{constructor(a){b.set(this,a);const f=[],c=a.$a,e=c.Tg().length;for(let h=0;h<e;++h)f.push(new self.NF(c,h));Object.defineProperties(this,{name:{value:a.na,writable:!1},index:{value:a.Na(),writable:!1},MX:{value:f,writable:!1}})}addEventListener(a,f){d.jf(a);d.Bk(f);b.get(this).Ce.addEventListener(a,f)}removeEventListener(a,f){d.jf(a);d.Bk(f);b.get(this).Ce.removeEventListener(a,f)}get width(){return b.get(this).T()}set width(a){b.get(this).Je(a)}get height(){return b.get(this).U()}set height(a){b.get(this).Uf(a)}set scale(a){d.gh(a);
b.get(this).Vn(a)}get scale(){return b.get(this).hc}set angle(a){d.gh(a);b.get(this).lc(a)}get angle(){return b.get(this).pa()}set scrollX(a){d.ug(a);b.get(this).lj(a)}get scrollX(){return b.get(this).og()}set scrollY(a){d.ug(a);b.get(this).mj(a)}get scrollY(){return b.get(this).pg()}scrollTo(a,f){d.ug(a);d.ug(f);const c=b.get(this);c.lj(a);c.mj(f)}}}
{"use strict";const d=self.D,b=self.Pg,a=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const f=d.F(d.pb);self.v2=class{constructor(c){a.set(this,c);const e=[],h=c.$a,g=h.Tg().length;for(let l=0;l<g;++l)e.push(new self.NF(h,l));Object.defineProperties(this,{name:{value:c.na,writable:!1},index:{value:c.Na(),
writable:!1},Ng:{value:c.Hd().Pw,writable:!1},MX:{value:e,writable:!1}})}get isVisible(){return a.get(this).Vd()}set isVisible(c){a.get(this).he(c)}get opacity(){return a.get(this).Rd()}set opacity(c){c=d.fa(+c,0,1);isNaN(c)||a.get(this).kf(c)}set scale(c){b.gh(c);a.get(this).SQ(c)}get scale(){return a.get(this).hc}set angle(c){b.gh(c);a.get(this).lc(c)}get angle(){return a.get(this).Ne}set Ty(c){b.gh(c);a.get(this).nf(c)}get Ty(){return a.get(this).qb()}set backgroundColor(c){b.vG(c);if(3>c.length)throw Error("expected 3 elements");
f.pE(c[0],c[1],c[2]);c=a.get(this);const e=c.mm;e.ip(f)||(e.hn(f),c.K().aa())}get backgroundColor(){const c=a.get(this).mm;return[c.lb,c.Qa,c.kb]}set scrollX(c){b.ug(c);const e=a.get(this);e.Lv(!0);e.lj(c)}get scrollX(){return a.get(this).og()}set scrollY(c){b.ug(c);const e=a.get(this);e.Lv(!0);e.mj(c)}get scrollY(){return a.get(this).pg()}scrollTo(c,e){b.ug(c);b.ug(e);const h=a.get(this);h.Lv(!0);h.lj(c);h.mj(e)}}}
{"use strict";const d=self.D,b=self.Pg,a=new WeakMap,f=new WeakMap;function c(h){let g=f.get(h);if(g)return g;g=d.F(d.Event.Kb);f.set(h,g);return g}let e=null;self.es=class{constructor(){a.set(this,e);const h={Rc:{value:e.K().Tj,writable:!1},wM:{value:e.L().Qw,writable:!1},uid:{value:e.Gb,writable:!1}};e.gba(h);e.Zaa(h);Object.defineProperties(this,h);e.K().ZS(this,e)}static tj(h){e=h}static em(){return e}ow(){const h=f.get(this);h&&(h.A(),f.delete(this));a.delete(this)}addEventListener(h,g,l){b.jf(h);
b.Bk(g);c(this).addEventListener(h,g,l)}removeEventListener(h,g,l){b.jf(h);b.Bk(g);c(this).removeEventListener(h,g,l)}dispatchEvent(h){c(this).dispatchEvent(h)}}}
{"use strict";const d=self.D,b=self.Pg,a=self.es,f=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.F(d.pb);self.wv=class c extends a{constructor(){super();var e=a.em();f.set(this,e);const h=[];var g=e.C();if(e=g.Pe){g=g.L().$a.Tg().length;for(let l=0;l<g;++l)h.push(new self.NF(e,l))}Object.defineProperties(this,
{MX:{value:h,writable:!1}})}get Ng(){return f.get(this).C().Hd().Pw}get oe(){return f.get(this).C().qa().Gga}get x(){return f.get(this).C().O()}set x(e){e=+e;const h=f.get(this).C();isNaN(e)||h.O()===e||(h.Vf(e),h.Aa())}get y(){return f.get(this).C().P()}set y(e){e=+e;const h=f.get(this).C();isNaN(e)||h.P()===e||(h.mf(e),h.Aa())}get Ty(){return f.get(this).C().qb()}set Ty(e){e=+e;const h=f.get(this),g=h.C();isNaN(e)||g.qb()===e||(g.nf(e),h.K().aa())}get width(){return f.get(this).C().T()}set width(e){e=
+e;const h=f.get(this).C();isNaN(e)||h.T()===e||(h.Je(e),h.Aa())}get height(){return f.get(this).C().U()}set height(e){e=+e;const h=f.get(this).C();isNaN(e)||h.U()===e||(h.Uf(e),h.Aa())}get angle(){return f.get(this).C().pa()}set angle(e){e=d.td(+e);const h=f.get(this).C();isNaN(e)||h.pa()===e||(h.lc(e),h.Aa())}hM(){f.get(this).C().Uc().Bja()}get isVisible(){return f.get(this).C().Vd()}set isVisible(e){e=!!e;const h=f.get(this),g=h.C();g.Vd()!==e&&(g.he(e),h.K().aa())}get opacity(){return f.get(this).C().Rd()}set opacity(e){e=
d.fa(+e,0,1);const h=f.get(this),g=h.C();isNaN(e)||g.Rd()===e||(g.kf(e),h.K().aa())}get zIndex(){return f.get(this).C().Zh()}gg(e,h){b.ug(e);b.ug(h);return f.get(this).C().Qr(+e,+h)}getParent(){const e=f.get(this).Ma();return e?e.Vh():null}*Jy(){for(const e of f.get(this).Jy())yield e.Vh()}*children(){for(const e of f.get(this).children())yield e.Vh()}*cp(){for(const e of f.get(this).cp())yield e.Vh()}removeChild(e){b.wG(e,c);const h=f.get(this);e=f.get(e);h.Ak(e)}}}
{"use strict";const d=new WeakMap;self.xoa=class extends self.wv{constructor(){super();d.set(this,self.es.em())}focus(){d.get(this).ra.PN()}blur(){d.get(this).ra.gN()}}}
{"use strict";const d=self.D,b=self.Pg,a=new WeakMap,f=new WeakMap;function c(h){let g=f.get(h);if(g)return g;g=d.F(d.Event.Kb);f.set(h,g);return g}let e=null;self.Xz=class{constructor(){a.set(this,e);const h={Rc:{value:e.K().Tj,writable:!1},behavior:{value:e.bf().n1(),writable:!1}};Object.defineProperties(this,h)}static tj(h){e=h}static em(){return e}get instance(){return a.get(this).I.Vh()}ow(){const h=f.get(this);h&&(h.A(),f.delete(this));a.delete(this)}addEventListener(h,g,l){b.jf(h);b.Bk(g);
c(this).addEventListener(h,g,l)}removeEventListener(h,g,l){b.jf(h);b.Bk(g);c(this).removeEventListener(h,g,l)}dispatchEvent(h){c(this).dispatchEvent(h)}}}{"use strict";const d=new WeakMap;self.LO=class{constructor(b){d.set(this,b);Object.defineProperties(this,{Rc:{value:b.K().Tj,writable:!1}})}}}
{"use strict";const d=self.D,b=self.Pg,a=new WeakMap;self.NF=class{constructor(f,c){a.set(this,f);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Tg()[this.index].na}getParameter(f){b.gh(f);f=Math.floor(+f);const c=a.get(this).Ug(this.index);if(0>f||f>=c.length)throw new RangeError("invalid effect parameter index");f=c[f];return f instanceof d.pb?[f.lb,f.Qa,f.kb]:f}}}
{"use strict";const d=self.D,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.cZ=class extends d.ta{constructor(f,c){super();var e=c.exportType;this.j=f;this.XC=new Map;this.Rt=new Map;this.Zga=new Map;this.wC="cordova"===e;this.cK=!!c.isiOSCordova;this.Yw=!!c.isFileProtocol;this.uha=c.supportedAudioFormats||{};this.JI=
new Map;this.yW=!1;this.xV=this.fV=this.hW="";this.TB="html5"===e||"scirra-arcade"===e||"instant-games"===e?"remote":"local";this.zI=[];this.II=new Map;this.OL=[];this.VC=[];this.rV=!1;this.QC=this.HI=this.hy=0;this.BJ=!1;this.Yga=d.F(d.l6,()=>this.gS(),50);this.YK=new d.oG(Math.max(d.hardwareConcurrency,8));if(f=c.previewImageBlobs){(e=c.previewProjectFileBlobs)&&Object.assign(f,e);(e=c.projectData)&&(f["data.json"]=e);for(const [h,g]of Object.entries(f))this.XC.set(h.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [h,
g]of Object.entries(c))this.Zga.set(h,g);new self.r2(this)}A(){this.XC.clear();for(const f of this.Rt.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.Rt.clear();for(const f of this.zI)f.A();d.H(this.zI);this.II.clear();d.H(this.VC);this.j=null}K(){return this.j}lfa(f){this.hW=f}Xea(f){this.fV=f}cfa(f){this.xV=f}cB(f){return this.XC.has(f.toLowerCase())}$A(f){return this.XC.get(f.toLowerCase())||null}sF(f){if(!this.cB(f))return f;f=f.toLowerCase();var c=this.Rt.get(f);c||(c=this.$A(f),
c=URL.createObjectURL(c),this.Rt.set(f,c));return c}Dl(f,c){c=c||this.TB;const e=this.$A(f);if(e)return Promise.resolve(e);if(d.aG(f)){const h=f.toLowerCase();return this.wC&&this.Yw?this.wN(h):"local"===c?this.YK.wc(()=>d.Dl(h)):d.Dl(h)}return d.Dl(f)}Xu(f){const c=this.$A(f);if(c)return d.hZ(c);if(d.aG(f)){const e=f.toLowerCase();return this.wC&&this.Yw?this.vN(e):"local"===this.TB?this.YK.wc(()=>d.Xu(e)):d.Xu(e)}return d.Xu(f)}Yu(f){const c=this.$A(f);if(c)return d.fN(c);if(d.aG(f)){const e=f.toLowerCase();
return this.wC&&this.Yw?this.PZ(e):"local"===this.TB?this.YK.wc(()=>d.Yu(e)):d.Yu(e)}return d.Yu(f)}async NN(f){f=await this.Yu(f);return JSON.parse(f)}kH(f,c){return this.j.Op("runtime","cordova-fetch-local-file",{filename:f,as:c})}PZ(f){return this.kH(f,"text")}async wN(f){const c=await this.kH(f,"buffer");f?(f=f.split("."),f=2>f.length?"":a.get(f[f.length-1].toLowerCase())||""):f="";return new Blob([c],{type:f})}async OZ(f){f=f.toLowerCase();var c=this.Rt.get(f);if(c)return c;c=await this.wN(f);
c=URL.createObjectURL(c);this.Rt.set(f,c);return c}vN(f){return this.kH(f,"buffer")}kO(f){return this.cB(f)?this.sF(f):this.hW+f.toLowerCase()}Kz(f,c=""){if(d.RF(f)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.cB(f)?Promise.resolve(this.sF(f)):this.wC&&this.Yw?this.OZ(c+f):Promise.resolve(c+f.toLowerCase())}mA(f){if(f.Gy&&!b.has(f.Gy))throw Error("invalid load policy");let c=this.II.get(f.url);if(c)return c;c=d.F(d.MO,this,{url:f.url,size:f.size||
0,Gy:f.Gy||this.TB});this.zI.push(c);this.II.set(c.Ki,c);this.rV||(this.hy+=c.zn(),this.VC.push(c.iP().then(()=>this.zR(c.zn()))));return c}async sR(){try{await Promise.all(this.VC),this.QC=1}catch(f){console.error("Error loading: ",f),this.BJ=!0,this.gS()}}x7(){this.rV=!0}zR(f){this.HI+=f;this.Yga.mZ()}gS(){const f=d.F(d.Event,"loadingprogress");this.QC=d.fa(this.HI/this.hy,0,1);f.progress=this.QC;this.j.Kb().dispatchEvent(f)}xfa(f){d.Qd(this.OL,f);this.OL.length&&this.VC.push(this.uca())}uca(){if("undefined"===
typeof FontFace)return Promise.resolve();const f=[];for(const [c,e,h]of this.OL)this.hy+=h,f.push(this.tca(c,e).then(()=>this.zR(h)));return Promise.all(f)}async tca(f,c){try{const e=await this.Kz(c,this.fV),h=new FontFace(f,`url('${e}')`);this.j.Se?self.fonts.add(h):document.fonts.add(h);await h.load()}catch(e){console.warn(`[C3 runtime] Failed to load web font '${f}': `,e)}}PO(f){return!!this.uha[f]}Mea(f,c){this.yW=!!c;for(const [e,h,g]of f)this.JI.set(e,{fileName:e,jia:h.map(l=>({type:l[0],nxa:l[1],
OX:e+l[1],fileSize:l[2]})),Dia:g})}pO(f){f=this.JI.get(f.toLowerCase());if(!f)return null;let c=null;for(const e of f.jia)if(c||"audio/webm; codecs=opus"!==e.type||(c=e),this.PO(e.type))return e;return c}Xg(f){return(f=this.pO(f))?{url:this.kO(f.OX),type:f.type}:null}K0(){if(this.yW){const f=[];for(const c of this.JI.values()){if(c.Dia)continue;const e=this.pO(c.fileName);e&&f.push({bja:c.fileName,url:this.kO(e.OX),type:e.type,fileSize:e.fileSize})}return f}return[]}async lP(f){f=await this.Kz(f);
return await this.j.Op("runtime","add-stylesheet",{url:f})}}}
{"use strict";const d=self.D;d.bZ=class extends d.ta{constructor(b,a){super();this.Ab=b;this.j=b.K();this.Ki=a.url;this.ir=a.size;this.rK=a.Gy;this.Bw=null;this.WJ=!1;this.Co=null}A(){this.Bw=this.j=this.Ab=this.Co=null}zn(){return this.ir}iP(){return"local"===this.rK||this.Bw?(this.WJ=!0,Promise.resolve()):this.Co?this.Co:this.Co=this.Ab.Dl(this.Ki,this.rK).then(b=>{this.WJ=!0;this.Co=null;return this.Bw=b}).catch(b=>console.error("Error loading resource: ",b))}cA(){return this.WJ}TN(){return this.Bw?
Promise.resolve(this.Bw):this.Co?this.Co:this.Ab.Dl(this.Ki,this.rK)}}}
{"use strict";const d=self.D,b=new d.oG,a=new Set;d.MO=class extends d.bZ{constructor(f,c){super(f,c);this.pl=this.rr=null;this.fd=0;this.zV=this.BV=-1;a.add(this)}A(){this.fh();if(0!==this.fd)throw Error("released image asset which still has texture references");this.rr=null;a.delete(this);super.A()}static ps(){for(const f of a)f.rr=null,f.pl=null,f.fd=0}In(f,c){c=c||{};this.fd++;if(this.pl)return Promise.resolve(this.pl);if(this.rr)return this.rr;c.yX=this.j.ea.gX;return this.rr=this.TN().then(e=>
b.wc(()=>f.fz(e,c).then(h=>{this.rr=null;if(0===this.fd)return f.kk(h),null;this.pl=h;this.BV=h.T();this.zV=h.U();return this.pl}))).catch(e=>{console.error("Failed to load texture: ",e);throw e;})}fh(){if(0>=this.fd)throw Error("texture released too many times");this.fd--;0===this.fd&&this.pl&&(this.pl.ac().kk(this.pl),this.pl=null)}Ud(){return this.pl}T(){return this.BV}U(){return this.zV}async m4(){const f=await this.TN();return d.dc.ImageBitmapOptions?await createImageBitmap(f,{premultiplyAlpha:"none"}):
d.dc.ImageBitmap?await createImageBitmap(f):await d.eN(f)}}}
{"use strict";const d=self.D;function b(a,f){return a.C().ul-f.C().ul}d.w6=class extends d.ta{constructor(a,f,c){super();this.da=f;this.Y=c;this.J=[];this.gx=!0;this.Zj=new Set;this.Uw=!1}A(){d.H(this.J);this.Zj.clear()}Vc(){d.H(this.J);this.gx=!0;this.Zj.clear();this.Uw=!1}b7(){this.gx=!1}Kp(){if(!this.J.length)return!0;if(this.J.length>this.Zj.size)return!1;this.DH();return!0}PF(a){this.Zj.has(a)?(this.Zj.delete(a),0===this.Zj.size&&(this.Uw=!1)):(this.J.push(a),this.gx=1===this.J.length)}ai(a){this.Zj.add(a);
this.Uw=!0;50<=this.Zj.size&&this.DH()}DH(){this.Uw&&(this.J.length===this.Zj.size?this.Vc():(d.Mh(this.J,this.Zj),this.Zj.clear(),this.Uw=!1))}Gaa(){this.gx||(this.J.sort(b),this.gx=!0)}UE(a){this.DH();this.Gaa();this.J.length&&a.push(this.J)}}}
{"use strict";const d=self.D;d.x6=class extends d.ta{constructor(b,a){super();this.WI=b;this.VI=a;this.Cj=d.F(d.Av)}A(){this.Cj.A();this.Cj=null}un(b,a,f){let c=this.Cj.ia(b,a);return c?c:f?(c=d.F(d.w6,this,b,a),this.Cj.Set(b,a,c),c):null}pj(b){return Math.floor(b/this.WI)}qj(b){return Math.floor(b/this.VI)}am(b,a,f){if(a)for(let c=a.X,e=a.ca;c<=e;++c)for(let h=a.S,g=a.ba;h<=g;++h){if(f&&f.gg(c,h))continue;const l=this.un(c,h,!1);l&&(l.ai(b),l.Kp()&&this.Cj.tp(c,h))}if(f)for(let c=f.X,e=f.ca;c<=e;++c)for(let h=
f.S,g=f.ba;h<=g;++h)a&&a.gg(c,h)||this.un(c,h,!0).PF(b)}tA(b,a){let f=this.pj(b.X);const c=this.qj(b.S),e=this.pj(b.ca);for(b=this.qj(b.ba);f<=e;++f)for(let h=c;h<=b;++h){const g=this.un(f,h,!1);g&&g.UE(a)}}s4(b){let a=b.X;const f=b.S,c=b.ca;for(b=b.ba;a<=c;++a)for(let e=f;e<=b;++e){const h=this.un(a,e,!1);h&&h.b7()}}}}
{"use strict";const d=self.D,b=new d.Rect,a=new d.yd,f=[],c=new d.Rect,e=new d.Rect,h=self.kn,g=h.vE,l=h.Lu,n=h.Fr;n.create();const p=g.create(),q=l.create(),r=g.create(),x=g.create(),w=g.create(),v=d.F(d.Uv);function t(y,E){return y.C().ul-E.C().ul}function A(y,E){return y.C().qb()-E.C().qb()}d.dG=class extends d.ta{constructor(y,E,F){super();this.Hm=y;this.j=y.K();this.na=F[0];this.eb=E;this.gb=F[2];this.NC=!!F[3];this.mm=d.F(d.pb);this.mm.np(F[4].map(H=>H/255));this.xo=!!F[5];this.zf=F[6];this.Af=
F[7];this.Db=d.F(d.pb,1,1,1,F[8]);this.lD=d.F(d.pb);this.RJ=F[9];this.JW=F[17];this.Br=F[10];this.ck=F[11];this.io=F[12];this.no=null;this.hc=1;this.rd=F[16];this.Fi=this.Ei=this.Ne=0;this.ym=!1;this.de=d.F(d.Rect);this.tX=d.F(d.Rect);this.Ix=n.create();this.$J=!0;this.lW=n.create();this.XJ=!0;this.sX=d.F(d.ka.h9);this.MC=!0;this.bX=[];this.Wk=[];this.RB=[];this.EV=new Map;this.J=[];this.mq=this.SL=!1;this.$a=d.F(d.Bl,this,F[15]);this.cu=null;this.gK=[];this.FC=!1;this.Vga=d.F(d.Rect,0,0,-1,-1);this.vga=
d.F(d.Rect,0,0,-1,-1);this.Gga=new self.v2(this);this.xU();this.Br&&(this.cu=d.F(d.x6,this.j.Dh,this.j.Ch));for(const H of F[14])y=this.j.Nf(H[1]),this.Hm.xR(y),y.kt||y.CQ(H),this.Wk.push(H),this.EV.set(H[2],H);d.Qd(this.bX,this.Wk)}static ab(y,E,F){return d.F(d.dG,y,E,F)}A(){this.j=this.Hm=null}q1(y){return this.EV.get(y)}TZ(y){const E=this.Hm.Kq;let F=0;const H=this.Wk;for(let M=0,P=H.length;M<P;++M){var J=H[M];const S=this.j.Nf(J[1]);let T=!0;if(!S.JF()||E)J=this.j.Wi(J,this,!0),y.push(J),S.dh()&&
(T=!1,this.RB.push(J.Gb));T&&(H[F]=H[M],++F)}d.Ee(H,F);this.j.pe();this.kh()}ei(y,E){const F=y.C();if(F.qa()!==this)throw Error("instance added to wrong layer");this.J.push(y);0!==F.qb()&&(this.mq=!0);E&&this.Br&&y.C().Aa();this.kh()}yca(y){this.J.includes(y)||(this.J.push(y),0!==y.C().qb()&&(this.mq=!0),this.kh())}zda(y){const E=y.C();if(E.qa()!==this)throw Error("instance added to wrong layer");this.J.unshift(y);0!==E.qb()&&(this.mq=!0);this.kh()}bo(y,E){const F=this.J.indexOf(y);0>F||(E&&this.Br&&
y.C().wT(),this.J.splice(F,1),this.kh(),this.dT())}NT(){this.mq=!0}dT(){0===this.J.length&&(this.mq=!1)}jI(y){if(y){y=new Set;for(var E of this.J){var F=E.C().ul;0<=F&&y.add(F)}E=-1;for(const H of this.J)if(F=H.C(),!(0<=F.ul)){for(++E;y.has(E);)++E;F.oB(E)}}this.J.sort(t)}Faa(){for(const y of this.J)y.L().dh()||this.j.tn(y);this.j.pe();d.H(this.J);this.mq=!1;this.kh()}Ev(y,E,F,H,J){const M=this.j.xa(),P=this.j.od,S=y.hb,T=[];for(const ea of this.Wk){var V=ea[0];if(E.gg(V[0],V[1])){V=P[ea[1]];if(V!==
y)if(S){if(!y.MN(V))continue}else continue;V=this;var ba=this.j.Xa();this.Hd()!==ba&&((V=ba.iO(this.na))||(V=ba.nv(this.Na())));ba=this.j.Wi(ea,V,!1,void 0,void 0,!1,J);V.VG(ba);V=ba.C();V.Ul(F,H);V.Aa();M.Ze(!0);ba.qB();M.Ze(!1);T.push(ba)}}return T}Hd(){return this.Hm}Na(){return this.eb}K(){return this.j}Gl(){return this.j.Gl()}Q7(){this.FC=!1}Vd(){return this.NC}he(y){y=!!y;this.NC!==y&&(this.NC=y,this.j.aa())}Lv(y){y=!!y;if(this.ym!==y){if(this.ym=y)y=this.Hd(),this.Ei=y.og(),this.Fi=y.pg();
this.Kk();this.j.aa()}}lj(y){var E=this.Hd();const F=E.vO();E=E.wO();y>E&&(y=E);y<F&&(y=F);this.Ei!==y&&(this.Ei=y,this.ym&&(this.Kk(),this.j.aa()))}mj(y){var E=this.Hd();const F=E.xO();E=E.uO();y>E&&(y=E);y<F&&(y=F);this.Fi!==y&&(this.Fi=y,this.ym&&(this.Kk(),this.j.aa()))}og(){return this.ym?this.Ei:this.Hd().og()}pg(){return this.ym?this.Fi:this.Hd().pg()}HH(){if(this.JW){const y=this.Hd();return[y.qu,y.ru]}return[.5,.5]}HO(y,E){var F=this.tX;if(0===y)E.Ka(F);else{let P=F.Pi(),S=F.Qi();var H=this.E0(y);
const T=F.width()/H;F=F.height()/H;const [V,ba]=this.HH();if(.5!==V||.5!==ba){const ea=this.vz();var J=this.j,M=100/ea;H=(V-.5)*J.eg/M;J=(ba-.5)*J.dg/M;M=this.pa();0!==M&&(v.set(H,J),v.rotate(M),H=v.da,J=v.Y);y=d.uE(ea,0,y);P+=d.Ec(H,0,y);S+=d.Ec(J,0,y)}E.set(P-T/2,S-F/2,P+T/2,S+F/2)}}Rd(){return this.Db.fb}kf(y){y=d.fa(y,0,1);this.Db.fb!==y&&(this.Db.Oh(y),this.xU(),this.j.aa())}xU(){this.lD.Ka(this.Db);this.lD.kE()}wF(){return this.lD}An(){return this.Db.Ay(1,1,1,1)}R7(y){this.ck!==y&&(this.ck=
y,this.Kk(),this.j.aa())}M7(y,E){if(this.zf!==y||this.Af!==E)if(this.zf=y,this.Af=E,this.Kk(),this.j.aa(),1!==this.zf||1!==this.Af)for(const F of this.J)F.L().bI(!0)}nf(y){this.rd!==y&&(this.rd=y,this.j.aa())}qb(){return this.rd}lc(y){y=d.td(y);this.Ne!==y&&(this.Ne=y,this.Kk(),this.j.aa())}pa(){return d.td(this.Hm.pa()+this.Ne)}k2(){return 0<this.J.length}g8(y){y=!!y;this.xo!==y&&(this.xo=y,this.j.aa())}s7(y){y=!!y;this.RJ!==y&&(this.RJ=y,this.j.aa())}Sf(y){this.io!==y&&(this.io=y,this.j.aa())}Zi(){return this.io}U3(y){return this===
y||this.zf===y.zf&&this.Af===y.Af&&this.hc===y.hc&&this.ck===y.ck&&this.Ne===y.Ne&&this.og()===y.og()&&this.pg()===y.pg()}Nda(y){0!==y.size&&0<d.Mh(this.J,y)&&(this.dT(),this.kh())}kh(){this.FC=this.SL=!1}sB(){if(!this.SL){this.J.sort(A);if(this.Br)for(let y=0,E=this.J.length;y<E;++y){const F=this.J[y].C();F.oB(y);this.cu.s4(F.Mx)}else for(let y=0,E=this.J.length;y<E;++y)this.J[y].C().oB(y);this.SL=!0}}y4(y,E,F){var H=y.C();E=E.C();if(H.qa()!==this||E.qa()!==this)throw Error("can't arrange Z order unless both objects on this layer");
H=H.Zh();E=E.Zh();if(H===E+(F?1:-1))return!1;d.Mha(this.J,H);H<E&&E--;F&&E++;E===this.J.length?this.J.push(y):this.J.splice(E,0,y);this.kh();return!0}Gca(y,E){const F=[];let H=0,J=0,M=y.length,P=E.length;for(;H<M&&J<P;){const S=y[H],T=E[J];S.C().ul<T.C().ul?(F.push(S),++H):(F.push(T),++J)}for(;H<M;++H)F.push(y[H]);for(;J<P;++J)F.push(E[J]);return F}Fca(y){const E=[],F=y.length;for(let H=0;H<F-1;H+=2)E.push(this.Gca(y[H],y[H+1]));1===F%2&&E.push(y[F-1]);return E}Eca(y){for(;1<y.length;)y=this.Fca(y);
return y[0]}pba(){this.sB();d.H(f);this.cu.tA(this.de,f);return f.length?1===f.length?f[0]:this.Eca(f):[]}Tba(){return!this.NA()&&!this.xo}bR(){return this.Vd()&&0<this.Rd()&&(this.k2()||!this.xo)}NA(){return this.RJ||!this.An()||0!==this.Zi()||this.$a.tv()}Mz(){return this.no}g$(y){if(0===y.length)return!0;if(2<=y.length)return!1;y=y[0].tb;return!y.Jn()&&!y.ny&&!y.aJ&&this.An()}E0(y){const E=this.vz();return E/(E-y)}vz(){return 100/this.mk()}Kk(){this.MC=this.XJ=!0}aB(y){this.XJ&&(this.e$(y,this.lW),
this.XJ=!1);return this.lW}e$(y,E){const F=this.j,H=F.xn();var J=F.KK,M=F.LK;J=(this.og()-J)*this.zf+J;var P=(this.pg()-M)*this.Af+M;this.j.$k&&(J=Math.round(J),P=Math.round(P));M=(J+0)*H;J=(P+0)*H;P=this.vz();const S=this.pa(),[T,V]=this.HH();if(.5!==T||.5!==V){var ba=100/P;let ea=(T-.5)*F.eg*H/ba;ba=(V-.5)*F.dg*H/ba;0!==S&&(v.set(ea,ba),v.rotate(S),ea=v.da,ba=v.Y);M+=ea;J+=ba}g.set(r,M,J,P);g.set(x,M,J,P-100);0===S?g.set(w,0,1,0):g.set(w,Math.sin(S),Math.cos(S),0);y.kN(E,r,x,w,F.ea.Th());1!==H&&
(g.set(p,H,H,1),n.scale(E,E,p))}pfa(){this.MC=this.$J=!0}bB(y){this.$J&&(this.f$(y),this.$J=!1);return this.Ix}f$(y){var E=this.j.ea;const F=E.aj();E=E.Th();const [H,J]=this.HH();y.HE(this.Ix,F/E,H,J)}fU(y){y.IA(this.bB(y));let E;E=this.aB(y);y.zs(E)}Fe(y,E,F){const H=this.j.ea,J=this.NA();var M=null;let P=null;if(this.j.YO()&&y.gA()){const S=H.B1(this);S&&(P=S.bN(),y.eR(P))}J?(M={Og:this.j.gd},"low"===H.Rj&&(M.width=H.aj(),M.height=H.Th()),M=this.j.bv(M),y.lf(M),this.xo?y.bz():y.Tc(this.mm)):(y.lf(E),
this.xo||F||y.Tc(this.mm));this.no=M||E;this.fU(y);y.yA(this.qb());y.BA(this.K().cn&&this.JW);this.mk()>Number.EPSILON&&(this.sB(),this.Br&&0===this.qb()&&!this.mq?this.vaa(y):this.$R(y,this.J));y.yA(0);y.Rn(0);J&&(y.BA(!1),this.waa(y,M,E,F));P&&y.JN(P);this.no=null}$R(y,E){const F=this.de,H=this.no,J=this.Hd().KO();let M=null;for(let P=0,S=E.length;P<S;++P){const T=E[P];if(T===M)continue;M=T;const V=T.C();V.Vd()&&V.$O(F,J)&&(V.tv()?this.taa(T,V,y,H):this.raa(T,V,y))}}vaa(y){var E=this.cu;const F=
this.vga,H=this.Vga,J=this.de;F.set(E.pj(J.X),E.qj(J.S),E.pj(J.ca),E.qj(J.ba));this.FC&&F.jd(H)?E=this.gK:(E=this.pba(),this.FC=!0,H.Ka(F));this.$R(y,E);E!==this.gK&&d.Qd(this.gK,E)}raa(y,E,F){E=E.mr;F.Ij!==E&&E.WY();y.Fe(F)}taa(y,E,F,H){this.saa(y,E,F,H)&&this.fU(F)}saa(y,E,F,H){const J=E.Pe.vj;if(1===J.length){const M=J[0],P=M.tb;if(!P.dha&&E.An()&&!y.Jn())return this.uaa(y,E,M,P,F),!1}y=d.tG(F,this.j,y,H,J,null);F.yA(this.qb());return y}uaa(y,E,F,H,J){J.Un(H);J.Sf(E.Zi());H.yB&&this.j.aa();let M=
0,P=0;if(H.zha){const [S,T]=y.zz();M=1/S;P=1/T;(H=y.Az())?e.Ka(H):e.set(0,0,0,0)}F=E.Pe.Ug(F.Na());J.Rn(E.qb());J.Cs(null,c,e,e,E.Uc(),M,P,this.hc,this.pa(),this.j.Wg(),F);y.Fe(J)}waa(y,E,F,H){const J=this.$a.vj,M=this.j;if(this.g$(J)){y.lf(F);if(1===J.length){var P=J[0];F=P.tb;y.Un(F);e.set(0,0,1,1);P=this.$a.Ug(P.Na());y.Cs(null,c,e,e,this.de,1/M.aj(),1/M.Th(),this.mk(),this.pa(),M.Wg(),P);F.yB&&M.aa()}else y.ci();H&&0===this.io&&this.An()&&0===J.length?y.NE(E):(y.Sf(this.io),y.Dk(this.lD),y.Uu(E));
y.Gp(E);M.Mn(E)}else d.tG(y,M,this,F,J)}SQ(y){this.hc!==y&&(this.hc=y,this.Hm.Wy(),this.Kk(),this.j.aa())}xn(){return this.mk()*this.j.xn()}Hl(){return this.mk()*this.j.Hl()}mk(){return(this.hc*this.Hm.hc-1)*this.ck+1}bH(){var y=this.j.KK,E=this.j.LK,F=(this.og()-y)*this.zf+y,H=(this.pg()-E)*this.Af+E;y=this.mk();E=this.j.eg/y;y=this.j.dg/y;F-=E/2;let J=H-y/2;this.j.$k&&(F=Math.round(F),J=Math.round(J));H=this.tX;H.set(F,J,F+E,J+y);E=this.pa();0!==E&&(b.Ka(H),b.offset(-H.Pi(),-H.Qi()),a.OM(b,E),a.hM(b),
b.offset(H.Pi(),H.Qi()),H.Ka(b));this.HO(this.rd,this.de)}Ti(y,E,F=0){return this.j$(y,E,F,this.Hl())}j$(y,E,F,H){const J=this.j;var M=J.ac();const P=this.mk();l.set(q,0,0,J.eg/P,J.dg/P);y/=H;E=q[3]-E/H;H=this.bB(M);M=this.aB(M);return d.ka.Y8(y,E,F,M,H,q,p)?[p[0],p[1]]:[NaN,NaN]}oN(y,E){const F=this.hc,H=this.ck,J=this.zf,M=this.Af,P=this.Ne;this.Af=this.zf=this.ck=this.hc=1;this.Ne=0;this.Kk();y=this.Ti(y,E);this.hc=F;this.ck=H;this.zf=J;this.Af=M;this.Ne=P;this.Kk();return y}Mp(y,E){return this.VS(y,
E,0,this.Hl())}Hn(y,E,F=0){return this.VS(y,E,F,this.xn()*this.Gl())}VS(y,E,F,H){var J=this.j,M=J.ac();const P=this.mk();l.set(q,0,0,J.eg/P,J.dg/P);J=this.bB(M);M=this.aB(M);return d.ka.a6(y,E,F,M,J,q,p)?[p[0]*H,(q[3]-p[1])*H]:[NaN,NaN]}uba(){this.MC&&(this.Zfa(),this.MC=!1);return this.sX}Zfa(){var y=this.j.ac();const E=this.bB(y);y=this.aB(y);this.sX.lZ(y,E)}ya(){return{s:this.hc,a:this.Ne,vl:this.de.X,vt:this.de.S,vr:this.de.ca,vb:this.de.ba,v:this.Vd(),bc:this.mm.toJSON(),t:this.xo,sx:this.Ei,
sy:this.Fi,hosp:this.ym,px:this.zf,py:this.Af,c:this.Db.toJSON(),sr:this.ck,fx:this.$a.Ac(),cg:this.RB}}Fa(y){this.hc=y.s;this.Ne=y.a;this.de.set(y.vl,y.vt,y.vr,y.vb);this.NC=!!y.v;this.mm.np(y.bc);this.xo=!!y.t;y.hasOwnProperty("sx")&&(this.Ei=y.sx);y.hasOwnProperty("sy")&&(this.Fi=y.sy);y.hasOwnProperty("hosp")&&(this.ym=!!y.hosp);this.zf=y.px;this.Af=y.py;this.Db.np(y.c);this.ck=y.sr;d.Qd(this.RB,y.cg);d.Qd(this.Wk,this.bX);const E=new Set(this.RB);let F=0;for(let H=0,J=this.Wk.length;H<J;++H)E.has(this.Wk[H][2])||
(this.Wk[F]=this.Wk[H],++F);d.Ee(this.Wk,F);this.$a.rc(y.fx);this.jI(!1);this.kh()}VG(y){y.C();if(!this.J.includes(y))if(y.Qf()){const E=[...y.cp()];E.push(y);E.sort((F,H)=>{F=F.C().eL;H=H.C().eL;return F-H});for(const F of E)this.ei(F,!0)}else this.ei(y,!0)}}}
{"use strict";const d=self.D,b=self.mg,a=d.F(d.Rect),f=d.F(d.Rect),c=d.F(d.Rect),e=d.F(d.pb);d.fP=class extends d.ta{constructor(h,g,l){super();this.ib=h;this.j=h.K();this.na=l[0];this.lha=l[1];this.kha=l[2];this.Z=l[1];this.W=l[2];this.LC=!!l[3];this.qu=l[4];this.ru=l[5];this.ZU=l[6];this.qd=null;this.gb=l[7];this.eb=g;this.Fi=this.Ei=0;this.hc=1;this.Ne=0;this.Et=new Set;this.Ih=new Set;this.by=new Set;this.ft=[];this.GJ=[];this.nc=[];this.$V=new Map;this.aW=new Map;this.$a=d.F(d.Bl,this,l[10]);
this.no=null;this.$q={};this.Kq=!0;this.Pw=new self.w2(this);this.Ce=d.F(d.Event.Kb);for(const n of l[8])h=d.dG.ab(this,this.nc.length,n),this.nc.push(h),this.$V.set(h.na.toLowerCase(),h),this.aW.set(h.gb,h);for(const n of l[9]){l=this.j.Nf(n[1]);if(!l)throw Error("missing nonworld object class");l.kt||l.CQ(n);this.GJ.push(n);this.xR(l)}}A(){for(const h of this.nc)h.A();d.H(this.nc);this.by.clear();this.j=this.ib=this.qd=null}K(){return this.j}Na(){return this.eb}lO(){let h=this.nc[0].mk();for(let g=
1,l=this.nc.length;g<l;++g){const n=this.nc[g];if(0!==n.zf||0!==n.Af)h=Math.min(h,n.mk())}return h}ES(){return.5*this.j.eg/this.lO()}FS(){return.5*this.j.dg/this.lO()}vO(){return this.LC?-Infinity:this.ES()}wO(){return this.LC?Infinity:this.T()-this.ES()}xO(){return this.LC?-Infinity:this.FS()}uO(){return this.LC?Infinity:this.U()-this.FS()}lj(h){const g=this.vO(),l=this.wO();h>l&&(h=l);h<g&&(h=g);this.Ei!==h&&(this.Ei=h,this.co(),this.j.aa())}og(){return this.Ei}mj(h){const g=this.xO(),l=this.uO();
h>l&&(h=l);h<g&&(h=g);this.Fi!==h&&(this.Fi=h,this.co(),this.j.aa())}pg(){return this.Fi}Wy(){this.lj(this.og());this.mj(this.pg());for(const h of this.nc)h.ym&&(h.lj(h.og()),h.mj(h.pg()))}j8(h,g){if(this.qu!==h||this.ru!==g)this.qu=h,this.ru=g,this.lB(),this.co(),this.j.aa()}KO(){const h=this.qu,g=this.ru;return 0>h||1<h||0>g||1<g}Vn(h){this.hc!==h&&(this.hc=h,this.co(),this.Wy(),this.j.aa())}lc(h){h=d.td(h);this.Ne!==h&&(this.Ne=h,this.co(),this.j.aa())}pa(){return this.Ne}T(){return this.Z}Je(h){!isFinite(h)||
1>h||(this.Z=h)}U(){return this.W}Uf(h){!isFinite(h)||1>h||(this.W=h)}qa(h){return"number"===typeof h?this.nv(h):this.iO(h.toString())}nv(h){h=d.fa(Math.floor(h),0,this.nc.length-1);return this.nc[h]}iO(h){return this.$V.get(h.toLowerCase())||null}Hz(h){return this.aW.get(h)||null}lB(){for(const h of this.nc)h.pfa()}co(){for(const h of this.nc)h.Kk()}C1(){for(const h of this.nc)if(h.bR()&&h.Tba())return e.hn(h.mm),e.Oh(1),e;e.pp(0,0,0,0);return e}xS(){return[...this.Et]}xR(h){if(h.Gc())for(const g of h.Fj.Nm)this.Et.add(g);
else this.Et.add(h)}sba(){return[...this.Ih]}JH(h,g){if(h===this||!g)return Promise.resolve();h&&(d.NZ(this.Ih,h.Ih),h.Ih.clear());h=[];for(const l of this.Et)this.Ih.has(l)||(h.push(l.Np(g)),this.Ih.add(l));return Promise.all(h)}async nP(h){if(h.hb)throw Error("cannot load textures for family");var g=this.j.ac();!g||g.Ip()||this.Ih.has(h)||(this.Ih.add(h),g=h.Np(g),this.I9(g),await g,h.oA(),this.j.aa())}I9(h){this.by.add(h);h.then(()=>this.by.delete(h)).catch(()=>this.by.delete(h))}k9(){return Promise.all([...this.by])}v4(h){if(h.hb||
0<h.J.length)throw Error("cannot unload textures");this.j.ac()&&this.Ih.has(h)&&(this.Ih.delete(h),h.Nn())}Ofa(h,g){if(h!==this&&g)for(const l of this.Ih)l.dh()||h.Et.has(l)||(l.Nn(),this.Ih.delete(l))}mw(){this.Ih.clear()}async mU(h){const g=this.j,l=this.ib,n=g.xa();this.ZU&&(this.qd=n.aO(this.ZU),this.qd.pI());l.aU(this);this.Z=this.lha;this.W=this.kha;this.Ei=g.Dh/2;this.Fi=g.Ch/2;this.Wy();this.Ica(h);this.y$();this.Kq||this.B$();this.JR(this.ft);this.z$();l.xZ();g.pe();const p=this.j.fga;await Promise.all(p);
d.H(p);if(!g.Zk){for(const q of this.ft)q.r8();for(const q of this.ft)q.oU()}d.H(this.ft);await Promise.all([...this.Et].map(q=>q.nG(this.j.ac())));h&&(g.Kb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await g.up(new d.Event("beforeprojectstart")));await this.up(new d.Event("beforelayoutstart"));g.Zk||await g.jb(d.m.Da.G.JP,null,null);await this.up(new d.Event("afterlayoutstart"));h&&(g.Kb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await g.up(new d.Event("afterprojectstart")));
n.lea(l);await this.k9();this.lB();this.co();this.Kq=!1}Ica(h){for(const l of this.j.od)if(!l.hb&&l.Xf)for(const n of l.ua()){const p=n.C();var g=p.qa();g=d.fa(g.Na(),0,this.nc.length-1);g=this.nc[g];p.qw(g);g.yca(n)}if(!h)for(const l of this.nc)l.jI(!1)}y$(){for(const h of this.nc)h.TZ(this.ft),h.bH()}B$(){let h=!1;for(const [l,n]of Object.entries(this.$q)){const p=this.j.Iz(parseInt(l,10));if(p&&!p.hb&&p.JF()){for(const q of n){var g=null;if(p.Xf&&(g=this.Hz(q.w.l),!g))continue;g=this.j.Wi(p,g,
!1,0,0,!0);g.rc(q);h=!0;this.ft.push(g)}d.H(n)}}for(const l of this.nc)l.jI(!0),l.kh();h&&(this.j.pe(),this.j.qT())}JR(h){for(const l of h){if(!l.Gc())continue;const n=l.C(),p=l.xp();for(const q of l.L().Fj.Nm)if(q!==l.L()){var g=q.ua();g.length>p?l.Ls(g[p]):(g=n?this.j.Wi(q,n.qa(),!0,n.O(),n.P(),!0):this.j.Wi(q,null,!0,0,0,!0),this.j.pe(),q.rB(),l.Ls(g),h.push(g))}}}z$(){for(const h of this.GJ)this.j.Nf(h[1]).Gc()||this.j.Wi(h,null,!0)}w$(){const h=[],g=this.GJ;let l=0;for(let n=0,p=g.length;n<p;++n){const q=
g[n],r=this.j.Nf(q[1]);r.dh()?r.Gc()&&r.Fj.g2()||h.push(this.j.Wi(q,null,!0)):(g[l]=q,++l)}d.Ee(g,l);this.j.pe();this.JR(h)}Ev(h,g,l,n,p,q){if(l)return l.Ev(h,g,n,p,q);l=[];for(const r of this.nc)l.push(r.Ev(h,g,n,p,q));return l.flat()}async Gfa(){const h=this.ib;this.j.Zk||await this.j.jb(d.m.Da.G.r5,null,null);h.NQ(!0);this.j.xa().Zy();this.Kq||this.vea();for(const g of this.nc)g.Faa();for(const g of this.j.od)if(!(g.dh()||g.Xf||g.Tb().vo||g.hb)){for(const l of g.ua())this.j.tn(l);this.j.pe()}h.NQ(!1);
h.Wb()===this&&h.aU(null)}tea(h){const g=h.L().gb.toString();this.$q.hasOwnProperty(g)||(this.$q[g]=[]);this.$q[g].push(h.Ac())}vea(){for(const h of this.nc){h.sB();for(const g of h.J){const l=g.L();!l.dh()&&l.JF()&&this.tea(g)}}}F6(){this.$q={};this.Kq=!0}Mz(){return this.no}NA(){return"low"===this.j.ea.Rj||this.j.KL||"low-latency"===this.j.et||this.$a.tv()||this.j.ac().gA()&&this.j.cn}h$(h){return 0===h.length?!0:2<=h.length?!1:!h[0].tb.Jn()}Fe(h){var g=this.j.ea;const l=this.NA();var n=null;l?
("low-latency"!==this.j.et&&(h.lf(null),h.bz()),n={Og:this.j.gd,nM:this.j.KL||this.$a.tv()},"low"===g.Rj&&(n.width=g.aj(),n.height=g.Th()),n=this.j.bv(n),h.lf(n)):h.lf(null);h.Tc(this.C1());this.j.cn&&h.uZ();this.no=n;g=!0;for(const p of this.nc)p.bH(),p.bR()&&(p.Fe(h,n,g),g=!1);l&&(h.BA(!1),this.xaa(h,n));this.no=null}xaa(h,g){const l=this.$a.vj,n=this.j;if(this.h$(l)){h.lf(null);if(1===l.length){var p=l[0];const q=p.tb;h.Un(q);f.set(0,0,1,1);c.set(0,0,n.eg,n.dg);p=this.$a.Ug(p.Na());h.Cs(null,a,
f,f,c,1/n.aj(),1/n.Th(),this.hc,this.pa(),n.Wg(),p);q.yB&&n.aa()}else h.ci();0===l.length?h.NE(g):(h.BG(),h.ss(),h.Uu(g));h.Gp(g);n.Mn(g)}else d.tG(h,n,this,null,l)}ya(){const h={sx:this.og(),sy:this.pg(),s:this.hc,a:this.pa(),w:this.T(),h:this.U(),vpX:this.qu,vpY:this.ru,fv:this.Kq,persist:this.$q,fx:this.$a.Ac(),layers:{}};for(const g of this.nc)h.layers[g.gb.toString()]=g.ya();return h}Fa(h){this.Ei=h.sx;this.Fi=h.sy;this.hc=h.s;this.Ne=h.a;this.Z=h.w;this.W=h.h;h.hasOwnProperty("vpX")&&(this.qu=
h.vpX);h.hasOwnProperty("vpY")&&(this.ru=h.vpY);this.Kq=!!h.fv;this.$q=h.persist;this.$a.rc(h.fx);for(const [g,l]of Object.entries(h.layers))(h=this.Hz(parseInt(g,10)))&&h.Fa(l);this.lB();this.co()}Qh(h){h.Ng=this.Pw;var g=this.j;(g=g.Bb&&!g.xa().aA())&&b.YG();this.Ce.dispatchEvent(h);g&&b.CE()}up(h){h.Ng=this.Pw;return this.Ce.bM(h)}}}
{"use strict";const d=self.D;d.b4=class extends d.ta{constructor(b){super();this.j=b;this.xj=[];this.oK=new Map;this.pK=new Map;this.zx=null;this.bL=[];this.eC=null;this.zC=0;this.Fx=null}A(){this.Fx=this.eC=this.zx=this.j=null;d.H(this.xj);this.oK.clear();this.pK.clear();d.H(this.bL)}ab(b){b=d.F(d.fP,this,this.xj.length,b);this.xj.push(b);this.oK.set(b.na.toLowerCase(),b);this.pK.set(b.gb,b)}K(){return this.j}o7(b){this.eC=b}i1(){if(this.eC)return this.eC;if(this.xj.length)return this.xj[0];throw Error("no first layout");
}Wr(b){return this.oK.get(b.toLowerCase())||null}rF(b){return this.pK.get(b)||null}D1(b){b=d.fa(Math.floor(b),0,this.xj.length-1);return this.xj[b]}Hd(b){return"number"===typeof b?this.D1(b):this.Wr(b.toString())}aU(b){this.zx=b}Wb(){return this.zx}*Oy(){this.zx&&(yield this.zx);this.bL.length&&(yield*this.bL)}NQ(b){if(b)this.zC++;else{if(0>=this.zC)throw Error("already unset");this.zC--}}WO(){return 0<this.zC}Yy(b){this.Fx=b}xZ(){this.Fx=null}js(){return!!this.Fx}Tp(){const b=this.Wb();b&&b.lB()}Sp(){const b=
this.Wb();b&&b.co()}}}
{"use strict";const d=self.D;class b{constructor(){this.Rc=this.If=null;this.Fu=this.Gu=this.Oi=this.jn=0;this.Cu=new d.Rect;this.ln=new d.Rect;this.mp=new d.Rect;this.My=new d.Rect;this.Du=new d.Rect;this.clearRect=new d.Rect;this.sE=new d.Rect;this.PX=[null,null];this.jp=0;this.Gr=1;this.Au=this.Bu=this.uu=this.tu=0;this.mn=this.lg=this.ne=this.oe=this.Ng=null;this.ZD=this.DM=this.jE=!1;this.hE=null}Tc(){this.hE=this.mn=this.lg=this.ne=this.oe=this.Ng=this.Rc=this.If=null}t8(g){g=g.tb;if(g.Jn())return!0;
if(this.ne)return g.ny&&(0!==this.lg.pa()||0>this.lg.T()||0>this.lg.U())||0!==this.tu||0!==this.uu||!this.lg.An()||this.ne.Jn();if(this.oe)return!this.oe.An()}s8(g){g=g.tb;return g.ny||g.aJ||this.Ng&&"low"===this.Rc.ea.Rj}Vr(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.PX;if(!l[g]){var n=this.Rc;const p=n.ea;n={Og:n.gd};"low"===p.Rj&&(n.width=p.aj(),n.height=p.Th());l[g]=p.bv(n)}return l[g]}o6(){const g=this.PX,l=this.Rc.ea;g[0]&&(l.Mn(g[0]),g[0]=null);g[1]&&(l.Mn(g[1]),g[1]=
null)}}const a=[];let f=0;const c=new d.yd;let e=!1;async function h(g,l,n){l=await d.ka.dH.$Z(l,n);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(n?"":" [to display]")+": ",l)}d.tG=function(g,l,n,p,q,r){f===a.length&&a.push(new b);var x=a[f++];x.If=g;x.Rc=l;if(n instanceof d.Instance)x.ne=n,x.lg=x.ne.C();else if(n instanceof d.dG)x.oe=n;else if(n instanceof d.fP)x.Ng=n;else throw Error("invalid effects object");n=l.ea;x.mn=p;x.jn=n.aj();x.Oi=n.Th();x.Gu=x.jn;x.Fu=x.Oi;x.jp=0;x.Gr=1;x.tu=0;x.uu=
0;x.Du.set(0,0,x.jn,x.Oi);x.clearRect.set(0,0,x.jn,x.Oi);x.ZD=!1;x.hE=r;x.ne?(p=x.lg,x.Bu=p.qa().xn(),x.Au=p.qa().pa(),x.Cu.Ka(p.Uc())):x.oe?(p=x.oe,x.Bu=p.xn(),x.Au=p.pa(),x.Cu.Ka(p.de)):(p=x.Ng,x.Bu=p.hc,x.Au=p.pa(),x.Cu.set(0,0,x.jn,x.Oi));if(x.ne){{for(let J=0,M=q.length;J<M;++J)p=q[J].tb,x.tu+=p.$U,x.uu+=p.aV;var w=x.lg;p=w.qa();n=p.pa();r=w.Uc();var v=w.Yh();w=w.Jj;let [y,E]=p.Hn(r.X,r.S,v),[F,H]=p.Hn(r.ca,r.ba,v);if(0!==n||0<w){const [J,M]=p.Hn(r.ca,r.S,v),[P,S]=p.Hn(r.X,r.ba,v);if(0<w){n=
v+w;const [T,V]=p.Hn(r.X,r.S,n),[ba,ea]=p.Hn(r.ca,r.S,n),[X,na]=p.Hn(r.ca,r.ba,n),[ja,xa]=p.Hn(r.X,r.ba,n);p=Math.min(y,F,J,P,T,ba,X,ja);F=Math.max(y,F,J,P,T,ba,X,ja);y=p;p=Math.min(E,H,M,S,V,ea,na,xa);H=Math.max(E,H,M,S,V,ea,na,xa);E=p}else p=Math.min(y,F,J,P),F=Math.max(y,F,J,P),y=p,p=Math.min(E,H,M,S),H=Math.max(E,H,M,S),E=p}p=x.Du;r=x.My;n=x.mp;v=x.clearRect;w=x.ln;p.set(y,E,F,H);p.PM(x.Oi);r.Ka(p);r.wl(x.Gu,x.Fu);r.Jr();p.dE(x.tu,x.uu);n.Ka(p);n.wl(x.Gu,x.Fu);n.Jr();v.Ka(p);v.pja();v.dE(x.tu+
1,x.uu+1);p.fa(0,0,x.jn,x.Oi);v.fa(0,0,x.jn,x.Oi);w.Ka(p);w.wl(x.Gu,x.Fu);w.Jr()}}else x.ln.set(0,0,x.jn/x.Gu,x.Oi/x.Fu),x.mp.Ka(x.ln),x.My.Ka(x.ln),x.ln.Jr(),x.mp.Jr(),x.My.Jr();g.BG();g.ss();g.yA(0);g.Rn(0);x.jE=x.t8(q[0]);x.jE&&(p=x.If,p.ci(),r=x.Vr(x.jp),p.lf(r),(n=x.hE)&&n.EM&&n.EM(),p.LE(x.clearRect),x.ne?(p.Dk(x.lg.wF()),p.Rn(x.lg.Yh()),x.ne.Fe(p),p.Rn(0)):(n=(x.oe||x.Ng).Mz(),x.oe?p.Dk(x.oe.wF()):p.ss(),p.Uu(n),p.Gp(n),x.Rc.ea.Mn(n)),x.mp.FX(),x.jp=1,x.Gr=0,e&&h("Pre-draw",p,r));g.ss();p=
q.length-1;x.DM=x.s8(q[p]);for(let y=0,E=q.length;y<E;++y){n=q[y];r=n.tb;g.Un(r);r.yB&&l.aa();if(0!==y||x.jE){g.BQ();var t=void 0,A=void 0;r=x;t=n;A=y===p&&!x.DM;n=y;v=r.If;w=r.Rc;0===n&&r.jE&&r.ne&&r.Du.PM(r.Oi);A?(r.ne?v.Sf(r.lg.Zi()):r.oe&&v.Sf(r.oe.Zi()),A=r.mn,v.lf(A)):(A=r.Vr(r.jp),v.lf(A),v.LE(r.clearRect));t=r.ne?r.lg.Pe.Ug(t.Na()):(r.oe||r.Ng).$a.Ug(t.Na());v.Cs(r.mn,r.mp,r.ln,r.My,r.Cu,1/r.Gu,1/r.Fu,r.Bu,r.Au,w.Wg(),t);t=r.Vr(r.Gr);v.wg(t.Ud());w.ea.EQ(v);r.ZD=!0;c.op(r.Du);v.Ln(c,r.ln);
r.ne||v.Gp(t);e&&h("Bounce "+n,v,A)}else{r=x;A=n;n=r.If;v=r.Rc;w=r.Vr(r.jp);n.lf(w);(t=r.hE)&&t.EM&&t.EM();n.LE(r.clearRect);if(r.ne){const [F,H]=r.ne.zz();(t=r.ne.Az())?r.sE.Ka(t):r.sE.set(0,0,0,0);A=r.lg.Pe.Ug(A.Na());n.Cs(r.mn,r.mp,r.sE,r.sE,r.Cu,1/F,1/H,r.Bu,r.Au,v.Wg(),A);n.Rn(r.lg.Yh());r.ne.Fe(n);n.Rn(0);r.mp.FX();r.Du.PM(r.Oi)}else A=(r.oe||r.Ng).$a.Ug(A.Na()),n.Cs(r.mn,r.mp,r.ln,r.My,r.Cu,1/r.jn,1/r.Oi,r.Bu,r.Au,v.Wg(),A),r=(r.oe||r.Ng).Mz(),e&&h("Layer target",n,r),n.Uu(r),n.Gp(r),v.ea.Mn(r);
e&&h("First bounce",n,w)}0===x.jp?(x.jp=1,x.Gr=0):(x.jp=0,x.Gr=1)}x.DM&&(g=x.If,x.Ng?(g.ci(),g.lf(x.mn),l=x.Vr(x.Gr),g.NE(l),g.Gp(l)):(l=x.Rc.ea,"low"===l.Rj?(g.ci(),l.EQ(g,l.aj(),l.Th()),x.ZD=!0):g.i7(),x.ne?g.Sf(x.lg.Zi()):x.oe&&g.Sf(x.oe.Zi()),g.lf(x.mn),l=x.Vr(x.Gr),g.wg(l.Ud()),c.op(x.Du),g.Ln(c,x.ln),x.ne||g.Gp(l),e&&h("Post-draw",g,x.mn)));g=x.ZD;x.o6();x.Tc();f--;e=!1;return g}}
{"use strict";const d=self.D;d.P8=class extends d.ta{constructor(b){super();this.j=b;this.fy=d.F(d.nh);this.mha=null;this.So=[];this.gy=new Map;this.Mm=new Map;this.To=new Map;this.Fh=[];this.Hg=[];this.ix=this.bt=this.Dq=!1;this.Xm=()=>this.nda();this.ku=()=>this.SH();this.LI=()=>this.gB();this.nK=()=>this.Kca();this.KJ=a=>this.jT(a.instance);this.yI=()=>this.aq();this.Hw=[]}A(){this.t6();this.yI=this.KJ=this.nK=this.LI=this.ku=this.Xm=null;for(const b of this.So)b.mh(),b.A();d.H(this.So);this.So=
null;this.fy.A();this.fy=null;d.H(this.Fh);this.Fh=null;d.H(this.Hg);this.Hg=null;this.gy.clear();this.gy=null;this.Mm.clear();this.Mm=null;this.To.clear();this.To=null;d.H(this.Hw);this.j=this.Hw=null}PY(){const b=this.j.Kb();b.addEventListener("pretick",this.Xm);b.addEventListener("tick2",this.ku);b.addEventListener("beforelayoutchange",this.LI);b.addEventListener("layoutchange",this.nK);b.addEventListener("instancedestroy",this.KJ);b.addEventListener("afterload",this.yI)}t6(){const b=this.j.Kb();
b.removeEventListener("pretick",this.Xm);b.removeEventListener("tick2",this.ku);b.removeEventListener("beforelayoutchange",this.LI);b.removeEventListener("layoutchange",this.nK);b.removeEventListener("instancedestroy",this.KJ);b.removeEventListener("afterload",this.yI)}ab(b){this.fy.wc(b);b=d.se.SZ(b,this);this.wc(b);this.X7(b);this.To.set(b.na,0)}OE(b){b=b.Xe.na;var a=this.fy.ia(b);a=d.se.OE(`${b}:${this.To.get(b)}`,a,this);this.OS(b);this.wc(a);return a}OS(b){this.To.set(b,this.To.get(b)+1)}Rea(){for(const b of this.So)b.Gt||
this.OS(b.Xe.na)}m$(){for(const b of this.To.keys())this.To.set(b,0)}wc(b){this.So.push(b);this.gy.set(b.na.toLowerCase(),b)}ai(b){b.Gt||(d.Er(this.So,b),d.Er(this.Fh,b),d.Er(this.Hg,b),this.gy.delete(b.na.toLowerCase()),this.u6(b),b.Ci||b.A())}la(b){this.j.la(b,this.mha,null)}K(){return this.j}YQ(b,a){this.Mm.has(b)||this.Mm.set(b,new Set);this.Mm.get(b).add(a)}X7(b){for(const a of b.vF())this.YQ(a,b)}u6(b){for(const [a,f]of this.Mm.entries())f.has(b)&&(f.delete(b),0===f.size&&this.Mm.delete(a))}S1(b){if(this.Mm.has(b))return this.Mm.get(b)}Pz(b){return this.gy.get(b.toLowerCase())||
null}s6(b){d.Er(this.Hg,b);this.hw()}tQ(b){this.Hg.includes(b)?(b.Nv(!0),b.Pv(!1),b.HG(!1)):(b.Nv(!1),b.Pv(!0),b.HG(!1),this.Fh.includes(b)||this.Fh.push(b));this.bT()}hz(b){b.Nv(!1);b.Pv(!1);b.xG();d.Er(this.Fh,b);this.hw()}dz(b){b.Nv(!1);b.Pv(!1);b.HG(!0)}JZ(b){this.dz(b);b.xG()}nda(){if(!this.K().Zk&&this.Dq&&!this.bt){var b=!1;for(this.ix=!0;this.Fh.length;){var a=this.Fh.pop();a.Jd();this.Hg.push(a)}a=this.j.Uh();var f=this.j.Nd;for(const c of this.Hg){if(c.Tt)continue;const e=c.Ad(a,f);!b&&
e&&(b=!0)}this.ix=!1;b&&this.K().aa()}}SH(){if(!this.K().Zk&&this.Dq&&!this.bt){var b;for(const a of this.Hg)a.Tt&&(b||(b=new Set),this.cT(a),b.add(a));b&&d.Mh(this.Hg,b);this.hw()}}cT(b){b.Ci||b.JO()&&b.Ag&&b.to&&b.ON()}bT(){this.Dq||(this.Dq=!0)}hw(){this.Hg.length||this.Fh.length||this.ix||(this.Dq=!1)}gB(){for(this.bt=!0;this.Fh.length;)this.hz(this.Fh.pop());const b=new Set;for(const a of this.Hg)a.gB()&&b.add(a);d.Mh(this.Hg,b);this.hw();for(const a of this.So)a.jk()}Kca(){this.bt=!1}jT(b){var a=
b.L();if(a=this.S1(a))if(this.j.Zk)this.Hw.push(b);else for(const f of a)f.Gt||(f.Ci?this.ai(f):f.JO()||(this.cT(f),this.ai(f)))}aq(){for(const b of this.Hw)this.jT(b);d.H(this.Hw)}ya(){return{timelinesJson:this.Aea(),scheduledTimelinesJson:this.yea(),playingTimelinesJson:this.wea(),hasRuntimeListeners:this.Dq,changingLayout:this.bt,isTickingTimelines:this.ix}}Fa(b){b&&(this.m$(),this.qca(b.timelinesJson),this.nca(b.scheduledTimelinesJson),this.lca(b.playingTimelinesJson),this.Dq=!b.hasRuntimeListeners,
this.bt=!!b.changingLayout,this.ix=!!b.isTickingTimelines,this.Rea(),this.bT(),this.hw())}Aea(){return this.So.map(b=>b.ya())}qca(b){for(const a of b){b=this.Pz(a.name);if(!b){b=this.rba(a);if(!b)continue;b=this.Pz(b);b=this.OE(b)}b.Fa(a);b.p2()||this.ai(b)}}rba(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}yea(){return this.JT(this.Fh)}nca(b){this.YS(b,this.Fh)}wea(){return this.JT(this.Hg)}lca(b){this.YS(b,this.Hg)}Wba(b,a){for(const f of a)if(f===b.na)return!0;return!1}JT(b){return b.map(a=>
a.na)}YS(b,a){var f=new Set;for(const c of a)this.Wba(c,b)||f.add(c);d.Mh(a,f);f=c=>e=>e.na===c;for(const c of b)(b=this.Pz(c))&&(a.find(f(c))||a.push(b))}}}
{"use strict";const d=self.D;d.se=class extends d.ta{constructor(b,a,f){super();this.j=f.K();this.Rb=f;this.Xe=a;this.na=b;this.Zb=[];for(const c of this.Xe.Rz().Cja())this.Zb.push(d.jR.ab(this,c));this.jD=this.Gx=null;this.Jo=d.F(d.ms);this.Jo.Set(0);this.Om=1;this.ak=0;this.Hj=1;this.to=this.Em=this.DC=!1;this.Ag=!0;this.Tt=this.Ci=!1;this.dt=-1;this.ro=this.zq=this.Gt=this.pC=!1;this.UV=NaN;this.Hh=[""];this.dX="";this.vL=!1}static SZ(b,a){const f=a.fy.ia(b[0]);b=d.F(d.se,b[0],f,a);b.C7();return b}static OE(b,
a,f){return d.F(d.se,b,a,f)}static get i9(){return 1}static get Sl(){return d.vM(1)}A(){if(!this.Ci){this.Rb.hz(this);this.Rb.JZ(this);for(const b of this.Zb)b.A();d.H(this.Zb);this.Zb=null;this.Jo.A();this.Xe=this.Rb=this.j=this.Jo=null;this.Ci=!0;this.jD=this.Gx=null}}K(){return this.j}BF(b,a,f){const c=[];for(const e of this.Zb){if(b!==e.Oa())continue;const h=e.Ml(f);h&&a.constructor===h.Id().constructor&&c.push(h)}return c}p2(){return!!this.Zb.length}HA(b){this.na=b}ge(){return this.Xe.ge()}ov(){return this.Xe.ov()}bj(){return this.Xe.bj()}fj(){return this.Xe.fj()}Ek(b){for(const a of this.Zb)a.Ek(b)}Xr(){return this.Xe.Xr()}Zr(){return this.Xe.Zr()}yn(){return this.Xe.yn()}Mv(b){return this.Om=
b}$h(){return this.IsPlaying()?0<this.Om:!0}nO(){this.Gx||(this.Gx=new Promise(b=>{this.jD=b}))}xG(){this.Gx&&(this.jD(),this.jD=this.Gx=null)}XQ(b){this.Hh=d.se.qba(b);this.vL=!0}PP(){d.m.Xc.G.Vp(this);this.Rb.la(d.m.Xc.G.Gqa);this.Rb.la(d.m.Xc.G.Hqa);this.Rb.la(d.m.Xc.G.Iqa);this.Rb.la(d.m.Xc.G.xqa);d.m.Xc.G.Vp(null)}zP(){this.dt=this.j.jl}ON(){this.zq||(this.zq=!0,d.m.Xc.G.Vp(this),this.Rb.la(d.m.Xc.G.Dqa),this.Rb.la(d.m.Xc.G.Eqa),this.Rb.la(d.m.Xc.G.Fqa),this.Rb.la(d.m.Xc.G.wqa),d.m.Xc.G.Vp(null))}Nv(b){this.DC=
b}TO(){return this.dt===this.j.jl}IsPlaying(b=!1){return this.TO()||this.Em&&!b?!0:this.DC}Qs(){return this.IsPlaying(!0)}Pv(b){this.Em=b}AQ(b){this.Ag=b;b=this.Pa();if(0>=b||b>=this.ge())this.Ag=!0}HG(b){this.Tt=b}GG(b){this.pC=b}C7(){this.Gt=!0}Pa(){return this.Jo.ia()}Es(b){const a=this.Pa();this.Me(b);this.AQ(!1);this.Ag||this.GG(!0);if(this.Qs()||this.Em||!this.to)this.Qs()||this.Em||this.to?this.Qs()?this.mh():this.Em&&(this.Rb.hz(this),this.MQ()):this.MQ();this.dB(b,!1,!0,!0,a)&&this.K().aa();
this.mT()}Me(b){0>b?this.Jo.Set(0):b>=this.ge()?this.Jo.Set(this.ge()):this.Jo.Set(b)}mT(){d.m.Xc&&this.constructor===d.se&&(d.m.Xc.G.Vp(this),this.Rb.la(d.m.Xc.G.Aqa),this.Rb.la(d.m.Xc.G.Bqa),this.Rb.la(d.m.Xc.G.Cqa),d.m.Xc.G.Vp(null))}Play(b=!1){return this.Ci||this.Em?!1:this.Qs()&&this.TO()?this.Eea():this.Qs()||!this.Ag&&!b&&!this.pC?!1:this.Fea()}Eea(){this.GG(!1);this.Rb.s6(this);this.Rb.tQ(this);this.nO();return!0}Fea(){this.GG(!1);this.Rb.tQ(this);this.nO();return!0}mh(b=!1){this.Ci||(this.AQ(b),
this.Rb.dz(this),this.Ag&&this.xG())}Vc(b=!0,a=!1){if(!this.Ci)if(!this.Qs()&&this.Em)this.Rb.hz(this);else if(!this.Ag){this.mh(!0);this.$h()?this.Me(0):this.Me(this.ge());var f=this.Pa();a=a?this.Lba(f):this.dB(f,!1,!1,!0);b&&this.mT();a&&b&&this.K().aa()}}nQ(){this.Vc(!1,!0)}Lba(b){this.dB(b,!1,!1,!0,NaN,!1,!0)}gB(){if(this.Ci)return!0;if(this.q2())return!1;this.Rb.dz(this);this.nQ();return!0}MQ(){this.Jd(!0)}Jd(b){if(!this.Tt)if(b){this.ro=this.to=!0;for(const a of this.Zb)a.Jd()}else if(this.Nv(!0),
this.Pv(!1),this.PP(),this.Ag){this.dt=-1;this.ak=0;this.Hj=1;this.zq=this.Ag=!1;this.ro=this.to=!0;this.$h()?this.Me(0):this.Me(this.ge());for(const a of this.Zb)a.Jd()}else{this.ro=!0;for(const a of this.Zb)a.vg()}}Ad(b,a){if(0!==b||0!==this.UV){this.UV=b;var f=this.Pa();this.Me(f+b*a*this.Om);var c;this.Xr()||this.Zr()?this.Xr()&&!this.Zr()?c=this.vca():!this.Xr()&&this.Zr()?c=this.xda():this.Xr()&&this.Zr()&&(c=this.wca()):c=this.Cfa();if(c){for(const e of this.Zb)e.m7();this.mh(!0);this.zP();
return!0}return this.dB(this.Pa(),!0,!1,!1,f,!0)}}dB(b,a=!1,f=!1,c=!1,e=NaN,h=!1,g=!1){let l=!1;for(var n of this.Zb)n.Pu();for(const p of this.Zb){n=b;if("number"===typeof e){const q=this.Pa()-p.qg(),r=e-p.qg();0>q&&0<r&&(n=p.qg(),this.Me(n))}n=p.zb(n,a,f,c,this.ro,g);!l&&n&&(l=!0)}for(const p of this.Zb)p.Ou();this.ro&&h&&(this.ro=!1);return l}Cfa(){if(this.$h()){if(this.Pa()>=this.ge())if(this.Hj<this.yn())this.Hj++,this.Me(0);else return this.Me(this.ge()),!0}else if(0>=this.Pa())if(this.Hj<this.yn())this.Hj++,
this.Me(this.ge());else return this.Me(0),!0;return!1}vca(){this.$h()?this.Pa()>=this.ge()&&this.Me(0):0>=this.Pa()&&this.Me(this.ge());return!1}xda(){if(this.$h()){if(this.Pa()>=this.ge())if(this.Me(this.ge()),this.Mv(-1*this.Om),1===this.ak)if(this.Hj<this.yn())this.Hj++,this.ak=0;else return!0;else 0===this.ak&&(this.ak=1)}else if(0>=this.Pa())if(this.Me(0),this.Mv(-1*this.Om),1===this.ak)if(this.Hj<this.yn())this.Hj++,this.ak=0;else return!0;else 0===this.ak&&(this.ak=1);return!1}wca(){this.$h()?
this.Pa()>=this.ge()&&(this.Me(this.ge()),this.Mv(-1*this.Om)):0>=this.Pa()&&(this.Me(0),this.Mv(-1*this.Om));return!1}jk(){for(const b of this.Zb)b.jk()}zZ(){for(const b of this.Zb)b.wZ()}Z7(b,a){if(a)for(const f of this.Zb){if(b){if(f.lk()!==b)continue}else if(f.j2())continue;f.y7(a);this.Rb.YQ(a.L(),this);break}}EO(b){for(const a of this.Zb)if(b===a.Oa())return a;return null}JO(){return this.Zb.some(b=>b.IE())}q2(){return this.Zb.some(b=>b.IE()?(b=b.L())?b.dh():!1:!1)}Ml(b){for(const a of this.Zb)for(const f of a.Oc)if(f.Ra.Xd===
b)return f}vF(){const b=[];for(const a of this.Zb)b.push(a.L());return b.filter(a=>a)}ya(){return{tracksJson:this.Cea(),name:this.na,playheadTime:this.Pa(),playbackRate:this.Om,pingPongState:this.ak,currentRepeatCount:this.Hj,isPlaying:this.DC,isScheduled:this.Em,initialStateSet:this.to,finishedTriggers:this.zq,complete:this.Ag,released:this.Ci,markedForRemoval:this.Tt,completedTick:this.dt,implicitPause:this.pC,isTemplate:this.Gt,tags:this.Hh.join(" "),stringTags:this.dX,tagsChanged:this.vL,firstTick:this.ro}}Fa(b){b&&
(this.rca(b.tracksJson),this.na=b.name,this.Jo.Set(b.playheadTime),this.Om=b.playbackRate,this.ak=b.pingPongState,this.Hj=b.currentRepeatCount,this.DC=!!b.isPlaying,this.Em=!!b.isScheduled,this.to=!!b.initialStateSet,this.zq=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.Ag=!!b.complete,this.Ci=!!b.released,this.Tt=!!b.markedForRemoval,this.dt=b.completedTick,this.pC=!!b.implicitPause,this.Gt=!!b.isTemplate,this.Hh=b.tags.split(" "),this.dX=b.stringTags,this.vL=!!b.tagsChanged,
this.ro=!!b.firstTick)}Cea(){return this.Zb.map(b=>b.ya())}rca(b){b.forEach((a,f)=>{this.Zb[f].Fa(a)});this.Zb.filter(a=>a.IE())}static qba(b){if(d.Hp(b))return b.slice(0);if(d.hj(b))return b.split(" ")}}}
{"use strict";const d=self.D;d.jR=class extends d.ta{constructor(b,a){super();this.Ro=b;this.uc=a;this.Df=a.Rz();this.Lm=this.Bm=NaN;this.wb=this.yh=null;this.Lq=0<a.qg();this.wq=this.Ft=!1;this.Pq=null;this.dd=this.uc.dj().dd;this.Oc=[];for(const f of this.uc.gf().jja())this.Oc.push(d.nb.ab(this,f))}static ab(b,a){return d.F(d.jR,b,a)}A(){this.dd=null;for(const b of this.Oc)b.A();d.H(this.Oc);this.Pq=this.uc=this.wb=this.yh=this.Ro=this.Oc=null}jk(){for(const b of this.Oc)b.jk();this.wb=this.yh=
null}yc(){return this.Ro}K(){return this.Ro.K()}A1(){return this.dd?this.dd:this.dd=this.uc.dj().dd}Ml(b){for(const a of this.Oc)if(a.Ra.Xd===b)return a}ns(){this.yh||this.Oa()}Ql(){return this.yh?!this.yh.UF():!1}IE(){const b=this.K().ef(this.kv());return b?!b.UF():!1}L(){const b=this.uF();if(-1!==b)return this.K().Nf(b)}wZ(){this.yh=null;this.Bm=-1;this.wb=null;this.Lm=-1}j2(){return!!this.yh}Oa(){return this.yh&&this.Ql()?this.yh:this.yh=this.K().ef(this.kv())}y7(b){if(this.yh!==b){this.jk();this.yh=
b;this.Lm=b.L().Na();this.Bm=b.Gb;this.wb=b.C();for(const h of this.kja()){const g=h.wja;switch(h.ija.fe()){case "instance-variable":var a=b.L(),f=a.t1(h.name),c=a.gO(f);a=a.lv(f);c===h.name&&a===h.type&&g.d9(f);break;case "behavior":var e=h.VL;f=this.L();c=b.L();a=g.Sh(c);e&&a&&(e=e.na,f.dv(e),c.dv(e),g.a9(a.gb))}}}}*kja(){for(const f of this.Oc){var b=f.Id(),a=this.L();const c={ija:f,wja:b};switch(f.fe()){case "world-instance":c.Mya=f.Ra.Xd;break;case "instance-variable":b=b.Ur();c.name=a.gO(b);
c.type=a.lv(b);break;case "effect":a=b.hF(a.$a);c.ixa=a;break;case "behavior":a=b.Sh(a);c.VL=a;break;case "plugin":c.Hya=a.Tb()}yield c}}C(){if(this.wb&&this.Ql())return this.wb;const b=this.Oa();b&&(this.wb=b.C());return this.wb}kv(){return this.Bm?this.Bm:this.uc.kv()}bj(){return this.uc.bj()}fj(){return this.uc.fj()}lk(){return this.uc.lk()}qg(){return this.uc.qg()}Ll(){return this.uc.Ll()}Ek(b){for(const a of this.A1())a.Ek(b);for(const a of this.Oc)a.Ek(b)}Jl(){return this.uc.Jl()}$l(b){this.uc.$l(b)}uF(){return isNaN(this.Lm)?
this.uc.uF():this.Lm}rk(){const b=this.Oa();return b&&b.ra.Fn()?b.ra.rk():this.uc.rk()}qk(){const b=this.Oa();return b&&b.ra.Fn()?b.ra.qk():this.uc.qk()}Jd(){this.ns();if(this.Ql()){for(var b of this.Oc)b.Jd();b=this.yc().$h()?0:this.Ll();this.Pq=this.qF(b);this.wq=this.Ft=!1;this.zb(b)}}vg(){this.ns();if(this.Ql()){this.Ro.$h();var b=this.Ro.Pa()-this.qg();this.Pq=this.qF(b);for(const a of this.Oc)a.vg()}}m7(){if(!this.yc().Ag&&(this.ns(),this.Ql()&&!this.Lq)){const b=this.Ro.Pa();b>=this.qg()+this.Ll()?
this.zb(this.Ll(),!0,!1,!0):0>=b&&this.zb(0,!0,!1,!0)}}Pu(){for(const b of this.Oc)b.Pu()}zb(b,a=!1,f=!1,c=!1,e=!1,h=!1){this.ns();if(!this.Ql()||h&&this.L().dh())return!1;b-=this.qg();if(0>b)return!1;this.u4(b,a);this.oP(b,a,e);e=h=!1;for(const g of this.Oc){const l=g.zb(b,f,!1,c);h||0===(l&d.se.i9)||(h=!0);e||0===(l&d.se.Sl)||(e=!0)}this.t4(b,a);h&&(b=this.C())&&b.Aa();return e}Ou(){for(const b of this.Oc)b.Ou()}u4(b,a){if(a&&this.Lq&&!this.Ft){if(this.yc().$h()){if(0>b)return;for(const f of this.Oc)f.zb(0,
!1,!1,!0)}else{if(b>this.Ll())return;for(const f of this.Oc)f.zb(this.Ll(),!1,!1,!0)}for(const f of this.Oc)f.Jd();this.Ft=!0}}t4(b,a){if(a&&this.Lq&&!this.wq)if(this.yc().$h()){if(b>=this.Ll()){for(const f of this.Oc)f.zb(this.Ll(),!1,!1,!0);this.wq=!0}}else if(0>=b){for(const f of this.Oc)f.zb(0,!1,!1,!0);this.wq=!0}}oP(b,a,f){!f&&a&&(b=this.qF(b),b!==this.Pq&&this.IP(b),this.Pq=b)}qF(b){const a=this.yc();let f=this.Df.x1(b,this.uc);return f?f:a.$h()?this.Df.h1(b,this.uc):this.Df.g1(b,this.uc)}IP(b){if(d.m.Xc&&
this.yc().constructor===d.se){var a=this.yc();d.m.Xc.G.Vp(a);d.m.Xc.G.h8(b);b=a.Rb;b.la(d.m.Xc.G.vqa);b.la(d.m.Xc.G.IP);d.m.Xc.G.Vp(null);d.m.Xc.G.h8(null)}}KY(){return this.uc.dj().EY()}i_(b){this.uc.dj().h_(b)}SE(b){for(const a of this.Oc)a.SE(b)}Rp(){for(const b of this.Oc)b.Rp()}Ui(){this.ns();if(this.Ql())for(const b of this.Oc)b.Ui()}Vi(){this.ns();if(this.Ql()){var b=!1;for(const a of this.Oc){const f=a.Vi();!b&&f&&(b=!0)}b&&(b=this.KY(),b.Es(this.yc().Pa()),b.Ek("noease"),b.$l(!0),b.XQ(""))}}ya(){var b=
this.Oa();b=b?b.Gb:this.kv();return{propertyTracksJson:this.xea(),lastKeyframeDataItemJson:this.uea(),initialStateOfNestedSet:this.Ft,endStateOfNestedSet:this.wq,instanceUid:b}}Fa(b){b&&(this.mca(b.propertyTracksJson),this.kca(b.lastKeyframeDataItemJson),this.hca(b.instanceUid),this.Ft=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Ft=b.initialStateOfNestedSet),this.wq=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.wq=b.endStateOfNestedSet))}uea(){return this.uc.dj().z1(this.Pq)}xea(){return this.Oc.map(b=>
b.ya())}mca(b){b.forEach((a,f)=>{this.Oc[f].Fa(a)})}hca(b){if(d.Bn(b)&&(b=this.K().ef(b))){var a=this.yc();a.zZ();a.Z7(this.uc.lk(),b)}}kca(b){this.Pq=this.uc.dj().y1(b)}}}
{"use strict";const d=self.D;d.nb=class extends d.ta{constructor(b,a){super();this.Fd=b;this.Ra=a;this.Ld=a.gf();this.dk=this.Id();this.ed=this.Ra.ej().ed}static ab(b,a){return d.F(d.nb,b,a)}A(){this.Fd=null;this.dk&&(this.dk.A(),this.dk=null);this.Ld=this.Ra=this.ed=null}gf(){return this.Ld}yc(){return this.Fd.yc()}K(){return this.Fd.K()}Oa(){return this.Fd.Oa()}Id(){if(this.dk)return this.dk;let b;switch(this.Ra.fe()){case "behavior":b=new d.nb.fZ(this);break;case "effect":b=new d.nb.m0(this);break;
case "instance-variable":b=new d.nb.r3(this);break;case "plugin":b=new d.nb.T5(this);break;case "world-instance":b=new d.nb.u9(this);break;case "value":b=new d.nb.g9(this)}return this.dk=b}fe(){return this.Ra.fe()}yF(){return this.gf().Dz(this.Ra).La}Jl(){return this.Ra.Jl()}$l(b){this.Ra.$l(b)}bj(){return this.Ra.bj()}fj(){return this.Ra.fj()}Ek(b){for(const a of this.qO())a.Ek(b)}qO(){return this.ed?this.ed:this.ed=this.Ra.ej().ed}jk(){this.Id().jk()}cf(){return this.Id().cf()}Jd(){this.Id().Jd()}vg(){this.Id().vg()}Pu(){this.Id().Pu()}zb(b,
a=!1,f=!1,c=!1){var e=this.Ra;let h=this.Ld.xF(b,e);h?e=this.Ld.dO(b,e):(h=this.Ld.lF(b,e),e=this.Ld.kF(b,e));return this.Id().zb(b,h,e,a,f,c)}Ou(){this.Id().Ou()}static BO(b,a){const f=a.Ra;a=a.Ld;let c=a.xF(b,f);c||(c=a.lF(b,f));return c}static W0(b,a){const f=a.Ra;a=a.Ld;return a.xF(b,f)?a.dO(b,f):a.kF(b,f)}MY(){return this.Ra.ej().FY()}SE(b){this.Ra.ej().j_(b)}Rp(){this.Id().Rp()}Ui(){if(this.Id().Ui()){const b=this.Ld.Dz(this.Ra),a=this.Id().cf();b.wQ(a)}}Vi(){const b=this.Id().Vi();b&&this.NY();
this.Id().cz();return b}NY(){const b=this.yc().Pa(),a=this.Id(),f=d.nb.BO(b,this),c=this.MY();c.ZQ(f.La);c.Es(b);c.Ek(f.vn());c.$l(!0);c.jh(a.Uz());c.wQ(a.cf())}ya(){return{sourceAdapterJson:this.Id().ya()}}Fa(b){b&&this.Id().Fa(b.sourceAdapterJson)}}}
{"use strict";const d=self.D.nb;d.ij=class{constructor(b){this.za=b;this.Pm=null}A(){this.Pm&&(this.Pm.A(),this.Pm=null);this.za=null}Ml(){return this.za}jk(){this.Pm&&this.Pm.jk()}Yg(){return this.Pm?this.Pm:this.Pm=this.E$()}Ur(){}Na(){return this.Ur()}qv(){}Jd(){this.Yg().Jd()}vg(){this.Yg().vg()}Pu(){this.Yg().Nr()}zb(b,a,f,c,e,h){const g=d.ij.hO(this.za)(b,a,f,this.za);return e?g:this.Yg().rp(b,g,a,f,c,h)}Ou(){this.Yg().Mr()}Rp(){var b=this.Yg();b.Di=b.cf()}cz(){this.Yg().cz()}cf(){return this.Yg().cf()}Ui(){return this.Yg().Ui()}Vi(){return this.Yg().Vi()}Uz(){return d.ij.Uz(this.za)}E$(){const b=
this.za.Ra.La;switch(this.za.yF()){case "combo":case "boolean":case "text":case "string":return new d.tg.qP(this);case "numeric":case "number":case "angle":return"combo"===b?new d.tg.qP(this):new d.tg.E4(this);case "color":case "offsetColor":return new d.tg.DZ(this)}}ya(){return{propertyAdapterJson:this.Yg().ya()}}Fa(b){b&&this.Yg().Fa(b.propertyAdapterJson)}static Uz(b){const a=b.Fd.yc().Pa(),f=d.BO(a,b),c=d.W0(a,b);return d.ij.hO(b)(a,f,c,b)}static wa(){let b=(void 0).fj();"combo"===(void 0).Ra.La&&
(b="absolute");switch(b){case "relative":return NaN}}static hO(b){switch(b.yF()){case "numeric":return d.gG.zb;case "angle":return d.cN.zb;case "boolean":return d.hN.zb;case "color":return d.sN.zb;case "text":return d.hR.zb}}static W1(b){switch(b.yF()){case "numeric":return d.gG.cm;case "angle":return d.cN.cm;case "boolean":return d.hN.cm;case "color":return d.sN.cm;case "text":return d.hR.cm}}}}{"use strict";const d=self.D;class b extends d.nb.ij{constructor(a){super(a)}}d.nb.u9=b}
{"use strict";const d=self.D;class b extends d.nb.ij{constructor(a){super(a);this.my=NaN}Ur(){return this.za.Ra.Gh[0]}Na(){return this.my?this.my:super.Na()}qv(){return this.za.Fd.Oa()}d9(a){this.za.Ra.Gh[0]!==a&&(this.my=a)}zb(a,f,c,e,h,g){if(this.Yg().nN(f.wa()))return super.zb(a,f,c,e,h,g)}ya(){return Object.assign(super.ya(),{index:this.my})}Fa(a){a&&(super.Fa(a),this.my=a.index)}}d.nb.r3=b}
{"use strict";const d=self.D;class b extends d.nb.ij{constructor(a){super(a);this.gb=NaN}Ur(){return this.za.Ra.Gh[1]}qv(){var a=this.za.Ra,f=this.gb?this.gb:a.Gh[0];a=this.za.Fd.Oa();f=a.SN(f);return a.Yc[f].ra}Sh(a){return a.sz(this.za.Ra.Gh[2])}a9(a){this.za.Ra.Gh[0]!==a&&(this.gb=a)}zb(a,f,c,e,h,g){const l=this.za.Fd.Oa();if(this.Sh(l.L()))return super.zb(a,f,c,e,h,g)}ya(){return Object.assign(super.ya(),{sid:this.gb})}Fa(a){a&&(super.Fa(a),this.gb=a.sid)}}d.nb.fZ=b}
{"use strict";const d=self.D;class b extends d.nb.ij{constructor(a){super(a)}Ur(){return this.za.Ra.Gh[1]}qv(){const a=this.za.Fd.C().Pe,f=this.hF(a.$a).Na();return a.yv(f)?a.Ug(f):null}hF(a){return a.Il(this.za.Ra.Gh[0])}zb(a,f,c,e,h,g){if(this.Pba())return super.zb(a,f,c,e,h,g)}Pba(){const a=this.za.Fd.C().Pe,f=this.hF(a.$a);if(f)return a.yv(f.Na())}}d.nb.m0=b}
{"use strict";const d=self.D;class b extends d.nb.ij{constructor(a){super(a)}Ur(){return this.za.Ra.Gh[0]}qv(){return this.za.Fd.Oa().ra}zb(a,f,c,e,h,g){var l=this.za.Fd;const n=l.L().Tb();l=l.Oa().L().Tb();if(n===l)return super.zb(a,f,c,e,h,g)}}d.nb.T5=b}
{"use strict";const d=self.D;class b extends d.nb.ij{constructor(a){super(a);this.Od=0;this.qC=!1}Jd(){const a=this.za.gf();let f=this.za.Ra;f=a.Dz(f);this.Od=f.zc()}vg(){}wa(){this.qC||this.za.zb(0);return this.Od}zb(a,f,c){const e=d.nb.gG.zb;this.Od=e(a,f,c,this.za);this.qC=!0}Rp(){}cz(){}cf(){return this.Od}Ui(){return!1}Vi(){return!1}ya(){return{value:this.Od,init:this.qC}}Fa(a){a&&(this.Od=a.value,this.qC=a.hasOwnProperty("init")?a.init:!0)}}d.nb.g9=b}"use strict";
function Rb(d,b,a){return d.za.yc().$h()?b():a()}function Sb(d,b,a){return"relative"===d.za.fj()?b():a()}function Tb(d,b,a){d.tt?(d.tt=!1,b()):a()}function Ub(d){if(d.iu)return d.iu;d.iu=d.dk.qv();return d.iu}function Vb(d,b,a,f,c,e){switch(d.za.fe()){case "behavior":return b();case "effect":return a();case "instance-variable":return f();case "plugin":return c();case "world-instance":return e()}}
function Wb(d,b=!1){const a=[];for(const f of d){d=f.Fd.qg();for(const c of f.qO())b&&0===c.Pa()?a.push({time:d+c.Pa(),value:c.hi}):b||a.push({time:d+c.Pa(),value:c.hi})}return a.sort((f,c)=>f.time-c.time)}function Xb(d,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=d)return b[a];return null}
self.D.nb.tg=class{constructor(d){this.dk=d;this.za=d.Ml();this.wb=this.za.Fd.C();this.Xd=this.za.Ra.Xd;this.tt=!1;this.iu=this.Di=null}A(){this.iu=this.Di=this.wb=this.za=this.dk=null}jk(){this.iu=this.Di=this.wb=null}Ml(){return this.za}C(){return this.wb?this.wb:this.wb=this.za.Fd.C()}Jd(){}vg(){}cz(){this.Di=null}cf(){}Ui(){}Vi(){}nN(d){return typeof this.fm()===typeof d}Nr(){}rp(){}Mr(){}Yp(){return Rb(this,()=>{const d=this.za.Ra;return this.za.gf().Dz(d)},()=>{const d=this.za.Ra;return this.za.gf().yp(d)}).hi}SA(){const d=
this.za.yc().Pa()-this.za.Fd.qg();return Rb(this,()=>{const b=this.za.Ra;return this.za.gf().lF(d,b)},()=>{const b=this.za.Ra,a=this.za.gf(),f=a.kF(d,b);return f?f:a.yp(b)}).hi}WA(){}fi(){return this.dk.Na()}ya(){return{firstAbsoluteUpdate:this.tt,saveState:this.Di}}Fa(d){d&&(this.tt=d.firstAbsoluteUpdate,this.Di=d.saveState)}};
{"use strict";const d=self.D,b=new Map,a=[0,0,0];class f extends d.nb.tg{constructor(c){super(c)}Jd(){}vg(){}cf(){const c=this.za.fe(),e=Ub(this),h=this.fi();switch(c){case "behavior":return this.pB(e.$b(h));case "effect":return this.pB(e[h]);case "plugin":return this.pB(e.$b(h));case "world-instance":return this.pB(this.fm())}}Ui(){const c=this.Yp();return!this.IR(c,this.fm())}Vi(){return d.Ge(this.Di)?!1:!this.IR(this.Di,this.fm())}IR(c,e){return c.ip(e)}Yp(){const c=super.Yp();return this.XA(c)}SA(){const c=
super.SA();return this.XA(c)}WA(){}pB(c){return d.Cn(c,d.pb)?c.toArray().slice(0,3):c.slice(0,3)}XA(c){return d.Cn(c,d.pb)?c:new d.pb(c[0],c[1],c[2],1)}nN(){return!0}Nr(){var c=this.za.Oa();b.has(c)||b.set(c,new Map);c=b.get(c);const e=this.za.fe();c.has(e)||c.set(e,new Map);c=c.get(e);c.has(this.Xd)||c.set(this.Xd,{Ry:!1,color:new d.pb(0,0,0,1)})}IS(c,e,h){c=b.get(c).get(e).get(h);c.Ry=!0;return c.color}rp(c,e){var h=this.za.yc(),g=this.za.Fd;c=this.za.Oa();var l=this.za.Id();const n=this.za.fe();
l=h.BF(c,l,this.Xd);if(1<l.length){if(l=Wb(l,!0),h=h.Pa(),h=Xb(h,l))if(l=h.time-g.qg(),0===l)this.IS(c,n,this.Xd).vX(e[0],e[1],e[2]);else{if(0>l)return;h=e[0];g=e[1];e=e[2];l=this.za.zb(l,!1,!0);h=d.pb.TE(h,l[0]);g=d.pb.TE(g,l[1]);e=d.pb.TE(e,l[2]);this.IS(c,n,this.Xd).vX(h,g,e)}}else this.Mk(e[0],e[1],e[2]);return d.se.Sl}Mr(){const c=this.za.Oa();if(b.has(c)){var e=b.get(c),h=this.za.fe();if(e.has(h)){var g=e.get(h);if(g.has(this.Xd)){var l=g.get(this.Xd),n=l.color;l.Ry&&this.Mk(n.lb,n.Qa,n.kb);
0===g.size&&e.delete(h);0===e.size&&b.delete(c)}}}}fm(){const c=this.za.fe(),e=Ub(this),h=this.fi();switch(c){case "behavior":return this.XA(e.$b(h));case "effect":return e[h].clone();case "plugin":return this.XA(e.$b(h));case "world-instance":return this.C().Db.clone()}}Mk(c,e,h){const g=this.za.fe(),l=Ub(this),n=this.fi();switch(g){case "behavior":a[0]=c;a[1]=e;a[2]=h;l.Ie(n,a);break;case "effect":l[n].pE(c,e,h);break;case "plugin":a[0]=c;a[1]=e;a[2]=h;l.Ie(n,a);break;case "world-instance":this.C().i8(c,
e,h)}}ya(){}Fa(){}}d.nb.tg.DZ=f}
{"use strict";const d=self.D;class b extends d.nb.tg{constructor(a){super(a)}Jd(){}vg(){}cf(){return this.fm()}Ui(){return this.Yp()!==this.cf()}Vi(){return d.Ge(this.Di)?!1:this.Di!==this.cf()}rp(a,f){const c=d.nb.ij.W1(this.za);var e=this.za;const h=e.Fd,g=e.fe();var l=e.yc();const n=h.Oa();e=e.Id();l=l.BF(n,e,this.Xd);1<l.length&&(l=Wb(l),a=Xb(a+h.qg(),l))&&(f=a.value);if(c(this.fi(),Ub(this),f,g))switch(this.Mk(f),g){case "plugin":return d.se.Sl}}fm(){const a=this.za.fe(),f=Ub(this),c=this.fi();
switch(a){case "behavior":return f.$b(c);case "effect":return f[c];case "instance-variable":return f.ff(c);case "plugin":return f.$b(c)}}Mk(a){const f=this.za.fe(),c=Ub(this),e=this.fi();switch(f){case "behavior":c.Ie(e,a);break;case "effect":c[e]=a;break;case "instance-variable":c.Sn(e,a);break;case "plugin":c.Ie(e,a)}}}d.nb.tg.qP=b}
{"use strict";const d=self.D,b=new Map,a=(c,e,h,g,l)=>b.set(c,{uja:e,Cha:h,qia:g,round:l});a("offsetX",(c,e)=>c.L4(e),(c,e)=>c.Vf(e),c=>c.O(),!0);a("offsetY",(c,e)=>c.M4(e),(c,e)=>c.mf(e),c=>c.P(),!0);a("offsetWidth",(c,e)=>c.sP(e),(c,e)=>c.Je(e),c=>c.T(),!0);a("offsetHeight",(c,e)=>c.rP(e),(c,e)=>c.Uf(e),c=>c.U(),!0);a("offsetAngle",(c,e)=>c.H4(e),(c,e)=>c.lc(e),c=>c.pa(),!1);a("offsetOpacity",(c,e,h,g)=>{h=c.Rd()+e;0===g.cd?(1<h?g.cd+=h-1:0>h&&(g.cd+=h),c.I4(e)):(c=c.Rd()+e,0<e&&0<g.cd?1<c&&(g.cd+=
c-1):0<e&&0>g.cd?(g.cd+=e,0<g.cd&&(g.cd=0)):0>e&&0<g.cd?(g.cd+=e,0>g.cd&&(g.cd=0)):0>e&&0>g.cd&&0>c&&(g.cd+=c))},(c,e)=>{c.kf(e)},c=>c.Rd(),!1);a("offsetOriginX",(c,e)=>c.J4(e),(c,e)=>c.As(e),c=>c.nk(),!1);a("offsetOriginY",(c,e)=>c.K4(e),(c,e)=>c.Bs(e),c=>c.pk(),!1);a("offsetZElevation",(c,e)=>c.N4(e),(c,e)=>c.nf(e),c=>c.qb(),!0);a("offsetScaleX",(c,e,h)=>{const g=0>c.T()?-1:1;c.sP(h.rk()*g*e)},(c,e,h)=>{c.Je(h.rk()*e)},(c,e)=>{const h=0>c.T()?-1:1;if(c.Bp()){var g=c.Ma(),l=e.yc().EO(g.Oa());l?g=
g.T()/l.rk():(l=g.Oa().ra,g=l.Fn()?g.T()/l.rk():1);return c.T()*h/(e.rk()*g)}return c.T()*h/e.rk()},!1);a("offsetScaleY",(c,e,h)=>{const g=0>c.U()?-1:1;c.rP(h.qk()*g*e)},(c,e,h)=>{c.Uf(h.qk()*e)},(c,e)=>{const h=0>c.U()?-1:1;if(c.Ap()){var g=c.Ma(),l=e.yc().EO(g.Oa());l?g=g.U()/l.qk():(l=g.Oa().ra,g=l.Fn()?g.U()/l.qk():1);return c.U()*h/(e.qk()*g)}return c.U()*h/e.qk()},!1);class f extends d.nb.tg{constructor(c){super(c);this.cd=this.rb=0;this.LJ=this.NJ=this.MJ=null;this.NW=!1;this.yr=d.Cn(this.za.yc(),
d.W8)?new d.nb.tg.G4(this):new d.nb.tg.F4(this);c=this.za.Ra.Xd;"world-instance"===this.za.fe()&&(c=b.get(c),this.MJ=c.qia,this.NJ=c.uja,this.LJ=c.Cha,this.NW=c.round)}A(){this.LJ=this.NJ=this.MJ=this.yr=null;super.A()}PQ(c){this.rb=c}Jd(){const c=this.yr.Jd();"number"===typeof c&&(this.rb=c);this.cd=0}vg(){const c=this.yr.vg();"number"===typeof c&&(this.rb=c)}cf(){return this.fm()}Ui(){return this.Yp()!==this.cf()}Vi(){return d.Ge(this.Di)?!1:this.Di!==this.cf()}Nr(){this.yr.Nr()}rp(c,e,h,g,l,n,
p){return this.yr.rp(c,e,h,g,l,n,p)}Mr(){this.yr.Mr()}fm(){const c=Ub(this),e=this.fi(),h=this.za.Fd,g=this.C();return Vb(this,()=>c.$b(e),()=>c[e],()=>c.ff(e),()=>c.$b(e),()=>this.MJ(g,h))}Mk(c){const e=Ub(this),h=this.fi(),g=this.za.Fd,l=this.C();Vb(this,()=>e.iG(h,c),()=>e[h]+=c,()=>e.A7(h,c),()=>e.iG(h,c),()=>this.NJ(l,c,g,this))}jU(c){const e=Ub(this),h=this.fi(),g=this.za.Fd,l=this.C();Vb(this,()=>e.Ie(h,c),()=>e[h]=c,()=>e.Sn(h,c),()=>e.Ie(h,c),()=>this.LJ(l,c,g))}Rs(c,e,h,g,l,n){this.yr.Rs(c,
e,h,g,l,n)}dm(c,e,h){c=(c.toString().split(".")[1]||"").length;const g=this.fm();this.Mk((0===c?this.NW?Math.round(g):g:d.toFixed(g,c))-g,e,h)}ya(){return Object.assign(super.ya(),{v:this.rb,a:this.cd})}Fa(c){c&&(super.Fa(c),this.rb=c.v,this.cd=c.a)}}d.nb.tg.E4=f}
{"use strict";const d=self.D,b=new Map;class a{constructor(f){this.Te=f}A(){this.Te=null}Jd(){const f=this.Te,c=this.Te.Ml();return Sb(f,()=>Rb(f,()=>0,()=>d.nb.ij.Uz(c)),()=>{})}vg(){}Nr(){const f=this.Te,c=this.Te.Ml(),e=c.Ra.Xd;Sb(f,()=>{},()=>{var h=c.Oa();b.has(h)||b.set(h,new Map);h=b.get(h);const g=c.fe();h.has(g)||h.set(g,new Map);h=h.get(g);h.has(e)||h.set(e,{Ry:!1,value:0})})}HS(f,c,e){f=b.get(f).get(c).get(e);f.Ry=!0;return f}rp(f,c,e,h,g,l){const n=this.Te,p=this.Te.Ml(),q=p.Ra.Xd;Sb(n,
()=>{const r=n.rb;n.Mk(c-r,e,h);l&&this.Rs(f,e,h,g,r,c);n.PQ(c)},()=>{var r=p.yc(),x=p.Fd;const w=p.Oa();var v=p.Id();const t=p.fe();v=r.BF(w,v,q);if(1<v.length){if(v=Wb(v,!0),r=r.Pa(),r=Xb(r,v))x=r.time-x.qg(),0===x?this.HS(w,t,q).value+=c:0>x||(x=p.zb(x,!1,!0),this.HS(w,t,q).value+=c-x)}else n.jU(c)});return Vb(n,()=>{},()=>d.se.Sl,()=>{},()=>d.se.Sl,()=>d.se.Sl)}Mr(){const f=this.Te,c=this.Te.Ml(),e=c.Ra.Xd;Sb(f,()=>{},()=>{const h=c.Oa();if(b.has(h)){var g=b.get(h),l=c.fe();if(g.has(l)){var n=
g.get(l);if(n.has(e)){var p=n.get(e),q=p.value;p.Ry&&f.jU(q);n.delete(e);0===n.size&&g.delete(l);0===g.size&&b.delete(h)}}}})}Rs(f,c,e,h,g,l){const n=this.Te;h||(c&&f===c.Pa()?n.dm(c.zc(),c,e):e&&f===e.Pa()?n.dm(e.zc(),c,e):0===l-g&&n.dm(c.zc(),c,e))}}d.nb.tg.F4=a}
{"use strict";const d=self.D;class b{constructor(a){this.Te=a}A(){this.Te=null}Jd(){const a=this.Te;a.tt=!0;return this.WA(a.Yp())}vg(){const a=this.Te;if(a.Yp()!==a.SA())return a.tt=!0,this.WA(a.SA())}Nr(){}rp(a,f,c,e,h,g){const l=this.Te,n=l.rb;Sb(l,()=>{l.Mk(f-n,c,e);g&&this.Rs(a,c,e,h,n,f)},()=>{Tb(l,()=>{l.Mk(n,c,e)},()=>{l.Mk(f-n,c,e);g&&this.Rs(a,c,e,h,n,f)})});l.PQ(f);return Vb(l,()=>{},()=>d.se.Sl,()=>{},()=>d.se.Sl,()=>d.se.Sl)}Mr(){}WA(a){return a-this.Te.cf()}Rs(a,f,c,e,h,g){const l=this.Te;
e?f&&a===f.Pa()?l.dm(f.zc(),f,c):c&&a===c.Pa()?l.dm(c.zc(),f,c):c||l.dm(f.zc(),f,c):f&&a===f.Pa()?l.dm(f.zc(),f,c):c&&a===c.Pa()?l.dm(c.zc(),f,c):0===g-h&&l.dm(f.zc(),f,c)}}d.nb.tg.G4=b}
{"use strict";const d=self.D,b=self.Vu;d.nb.gG=class{constructor(){}static cm(a,f,c,e){let h;switch(e){case "behavior":h=f.$b(a);break;case "effect":h=f[a];break;case "instance-variable":h=f.ff(a);break;case "plugin":h=f.$b(a)}return h===c?!1:!0}static zb(a,f,c,e){if(!c)return c=e.Ra,c=e.gf().yp(c),c.zc();var h=e.bj();"default"===h&&(h="continuous");"combo"===e.Ra.La&&(h="discrete");if("discrete"===h)return f.zc();if("continuous"===h||"step"===h){"step"===h&&(h=e.yc().ov(),0!==h&&(h=1/h,a=Math.floor(a*
h)/h));var g=f.Pa();const l=c.Pa();h=f.zc();const n=c.zc();if(h===n)return h;a=d.normalize(a,g,l);const p=f.vn();f=f.ZE("cubic-bezier");c=c.ZE("cubic-bezier");f&&f.Yx&&c&&c.ZB?(g=l-g,g=b.zp(p)(g*a,0,1,g),g=b.zp("cubicbezier")(g,h,h+f.pL,n+c.kJ,n)):g=b.zp(p)((l-g)*a,h,n-h,l-g);return"integer"===e.Ra.La?Math.floor(g):g}}}}
{"use strict";const d=self.D;d.nb.cN=class{constructor(){}static cm(b,a,f,c){let e;switch(c){case "behavior":e=a.$b(b);break;case "effect":e=a[b];break;case "instance-variable":e=a.ff(b);break;case "plugin":e=a.$b(b)}return e===f?!1:!0}static zb(b,a,f,c){if(!f)return a=c.Ra,a=c.gf().yp(a),a.zc();var e=c.bj();"default"===e&&(e="continuous");"combo"===c.Ra.La&&(e="discrete");if("discrete"===e)return a.zc();if("continuous"===e||"step"===e){"step"===e&&(c=c.yc().ov(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const h=a.Pa(),g=f.Pa();c=a.zc();f=f.zc();if(e=a.ZE("angle")){const l=e.aL;if(c===f&&0===l)return c;b=d.normalize(b,h,g);a=self.Vu.zp(a.vn())(b,0,1,1);switch(e.cJ){case "closest":return d.TL(c,f,a,l);case "clockwise":return d.Jha(c,f,a,l);case "anti-clockwise":return d.Iha(c,f,a,l)}}else{if(c===f)return c;b=d.normalize(b,h,g);a=self.Vu.zp(a.vn());return d.TL(c,f,a(b,0,1,1))}}}}}"use strict";
self.D.nb.hN=class{constructor(){}static cm(d,b,a,f){let c;switch(f){case "behavior":c=b.$b(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.ff(d);break;case "plugin":c=b.$b(d)}return!!c===!!a?!1:!0}static zb(d,b,a,f){return a?b.zc()?1:0:(d=f.Ra,d=f.gf().yp(d),d.zc()?1:0)}};
{"use strict";const d=self.D,b=[0,0,0],a=[0,0,0],f=[0,0,0];d.nb.sN=class{constructor(){}static cm(c,e,h,g){let l;switch(g){case "behavior":l=e.$b(c);break;case "effect":l=e[c];break;case "instance-variable":l=e.ff(c);break;case "plugin":l=e.$b(c)}Array.isArray(h)?(b[0]=h[0],b[1]=h[1],b[2]=h[2]):(f.iE(h),b[0]=Math.floor(255*f.lb),b[1]=Math.floor(255*f.Qa),b[2]=Math.floor(255*f.kb));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(f.iE(l),a[0]=Math.floor(255*f.lb),a[1]=Math.floor(255*f.Qa),a[2]=Math.floor(255*
f.kb));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static zb(c,e,h,g){if(!h)return e=g.Ra,e=g.gf().yp(e),e=e.zc(),b[0]=e[0],b[1]=e[1],b[2]=e[2],b;var l=g.bj();"default"===l&&(l="continuous");if("discrete"===l)return e=e.zc(),b[0]=e[0],b[1]=e[1],b[2]=e[2],b;if("continuous"===l||"step"===l){"step"===l&&(g=g.yc().ov(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=e.Pa();l=h.Pa();var n=e.zc(),p=h.zc();const q=d.normalize(c,g,l);c=n[0];h=n[1];n=n[2];const r=p[0],x=p[1];p=p[2];e=self.Vu.zp(e.vn());g=l-g;
l=g*q;b[0]=c===r?c:e(l,c,r-c,g);b[1]=h===x?h:e(l,h,x-h,g);b[2]=n===p?n:e(l,n,p-n,g);return b}}}}"use strict";self.D.nb.hR=class{constructor(){}static cm(d,b,a,f){let c;switch(f){case "behavior":c=b.$b(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.ff(d);break;case "plugin":c=b.$b(d)}return c===a?!1:!0}static zb(d,b,a,f){return a?b.zc():(d=f.Ra,d=f.gf().yp(d),d.zc())}};
{"use strict";const d=self.D;d.nh=class{constructor(){this.ey=new Map}A(){for(const b of this.ey.values())b.A();this.ey.clear();this.ey=null}wc(b){b=new d.O8(b);this.ey.set(b.na,b)}ia(b){return this.ey.get(b)}static Yv(b,a,f,c){if(a)for(const e of a)d.nh.LR("create",e,b,f,c)}static gw(b,a,f,c){b.length?a.forEach((e,h)=>{b[h].Fa(e)}):a.forEach(e=>{d.nh.LR("load",e,b,f,c)})}static LR(b,a,f,c,e){let h;if("function"===typeof c)switch(b){case "load":h=new c(null,e);break;case "create":h=new c(a,e)}else if("object"===
typeof c)switch(c=c.map.get(a[c.fY]),b){case "load":h=new c(null,e);break;case "create":h=new c(a,e)}switch(b){case "load":h.Fa(a);f.push(h);break;case "create":"function"!==typeof h.Jl||h.Jl()?f.push(h):h.A()}}}}
{"use strict";const d=self.D;d.O8=class{constructor(b){this.na="";this.ID=NaN;this.DD=0;this.Ig=this.Eg="default";this.iD=this.YC=!1;this.du=1;this.Df=null;b&&(this.na=b[0],this.ID=b[1],this.DD=b[2],this.Eg=b[3],this.Ig=b[4],this.YC=!!b[6],this.iD=!!b[7],this.du=b[8],this.Df=new d.iR(b[5],this))}A(){this.Df.A();this.Df=null}Rz(){this.Df||(this.Df=new d.iR(null,this));return this.Df}HA(b){this.na=b}ge(){return this.ID}ov(){return this.DD}bj(){return this.Eg}fj(){return this.Ig}Xr(){return this.YC}Zr(){return this.iD}yn(){return this.du}ya(){return{trackDataJson:this.Df.ya(),
name:this.na,totalTime:this.ID,step:this.DD,interpolationMode:this.Eg,resultMode:this.Ig,loop:this.YC,pingPong:this.iD,repeatCount:this.du}}Fa(b){b&&(this.Rz().Fa(b.trackDataJson),this.na=b.name,this.ID=b.totalTime,this.DD=b.step,this.Eg=b.interpolationMode,this.Ig=b.resultMode,this.YC=b.loop,this.iD=b.pingPong,this.du=b.repeatCount)}}}
{"use strict";const d=self.D;class b{constructor(a,f){this.Df=f;this.hq=this.tC=null;this.Lm=this.Bm=NaN;this.Ig=this.Eg="default";this.wh=!1;this.Ld=this.Wj=null;this.vf="";this.Vt=null;this.qL=0;this.WC=this.Df.Xe.ge();a&&(this.tC=a[0],this.Bm=a[0][2],this.Lm=a[0][1],this.Eg=a[1],this.Ig=a[2],this.wh=!!a[3],a[6]&&(this.vf=a[6]),a[7]&&(this.Vt=a[7],this.qL=a[7][0],this.WC=a[7][1]),a[8]&&(this.hq=a[8]),this.Wj=new d.eP(a[4],this),this.Ld=new d.XP(a[5],this))}A(){this.Df=this.tC=null;this.Wj&&(this.Wj.A(),
this.Wj=null);this.Ld&&(this.Ld.A(),this.Ld=null);this.Vt=null}Rz(){return this.Df}dj(){this.Wj||(this.Wj=new d.eP(null,this));return this.Wj}gf(){this.Ld||(this.Ld=new d.XP(null,this));return this.Ld}uF(){return this.Lm}kv(){return this.Bm}bj(){return this.Eg}fj(){return this.Ig}Jl(){return this.wh}$l(a){this.wh=!!a}lk(){return this.vf}qg(){return this.qL}Ll(){return this.WC}rk(){return this.hq[0]}qk(){this.hq||(this.hq=[]);return this.hq[1]}ya(){return{keyframeDataJson:this.Wj.ya(),propertyTrackDataJson:this.Ld.ya(),
instanceData:this.tC,additionalInstanceData:this.hq,instanceUid:this.Bm,objectClassIndex:this.Lm,interpolationMode:this.Eg,resultMode:this.Ig,enabled:this.wh,id:this.vf,nestedData:this.Vt}}Fa(a){a&&(this.tC=a.instanceData,this.Bm=a.instanceUid,this.Lm=a.objectClassIndex,this.Eg=a.interpolationMode,this.Ig=a.resultMode,this.wh=a.enabled,this.vf=a.id,this.WC=this.Df.Xe.ge(),a.nestedData&&(this.Vt=a.nestedData,this.qL=this.Vt[0],this.WC=this.Vt[1]),a.additionalInstanceData&&(this.hq=a.additionalInstanceData),
this.dj().Fa(a.keyframeDataJson),this.gf().Fa(a.propertyTrackDataJson))}}d.iR=class{constructor(a,f){this.Xe=f;this.tr=[];this.ox=new Map;d.nh.Yv(this.tr,a,b,this)}A(){this.Xe=null;for(const a of this.tr)a.A();d.H(this.tr);this.tr=null;this.ox.clear();this.ox=null}x1(a,f){const c=this.ox.get(f);if(c&&c.has(a))return c.get(a);for(const e of f.dj().VX())if(e.Pa()===a)return c||this.ox.set(f,new Map),this.ox.get(f).set(a,e),e}g1(a,f){for(const c of f.dj().VX())if(c.Pa()>=a)return c}h1(a,f){for(const c of f.dj().Kia())if(c.Pa()<=
a)return c}*Cja(){for(const a of this.tr)yield a}ya(){return{trackDataItemsJson:this.tr.map(a=>a.ya())}}Fa(a){a&&d.nh.gw(this.tr,a.trackDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,f){this.Ld=f;this.vD="";this.La=this.Xd=this.Gh=null;this.wK=this.AK=NaN;this.Ig=this.Eg="default";this.wh=!1;this.el=null;a&&(this.vD=a[0][0],this.Gh=a[0].slice(1),this.Xd=a[1],this.La=a[2],this.AK=a[3],this.wK=a[4],this.Eg=a[5],this.Ig=a[6],this.wh=!!a[7],this.el=new d.WP(a[8],this))}A(){this.el.A();this.Gh=this.Ld=this.el=null}gf(){return this.Ld}ej(){this.el||(this.el=new d.WP(null,this));return this.el}fe(){return this.vD}ZQ(a){this.La=a}bj(){return this.Eg}fj(){return this.Ig}Jl(){return this.wh}$l(a){this.wh=
!!a}ya(){return{propertyKeyframeDataJson:this.el.ya(),sourceAdapterId:this.vD,sourceAdapterArguments:this.Gh,property:this.Xd,type:this.La,min:this.AK,max:this.wK,interpolationMode:this.Eg,resultMode:this.Ig,enabled:this.wh}}Fa(a){a&&(this.vD=a.sourceAdapterId,this.Gh=a.sourceAdapterArguments,this.Xd=a.property,this.La=a.type,this.AK=a.min,this.wK=a.max,this.Eg=a.interpolationMode,this.Ig=a.resultMode,this.wh=a.enabled,this.ej().Fa(a.propertyKeyframeDataJson))}}d.XP=class{constructor(a,f){this.uc=
f;this.cr=[];this.Jx=new Map;d.nh.Yv(this.cr,a,b,this)}A(){this.uc=null;for(const a of this.cr)a.A();d.H(this.cr);this.cr=null;this.Jx.clear();this.Jx=null}Dz(a){return a.ej().ed[0]}yp(a){a=a.ej().ed;return a[a.length-1]}xF(a,f){const c=this.Jx.get(f);if(c&&c.has(a))return c.get(a);const e=f.ej();for(const h of e.GM())if(h.Pa()===a)return c||this.Jx.set(f,new Map),this.Jx.get(f).set(a,h),h}dO(a,f){f=f.ej();for(const c of f.GM())if(c.Pa()>a)return c}kF(a,f){f=f.ej();for(const c of f.GM())if(c.Pa()>=
a)return c}lF(a,f){f=f.ej();for(const c of f.hja())if(c.Pa()<=a)return c}*jja(){for(const a of this.cr)yield a}ya(){return{propertyTrackDataItemsJson:this.cr.map(a=>a.ya())}}Fa(a){a&&d.nh.gw(this.cr,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,f){this.Wj=f;this.hd=-1;this.Kj="noease";this.Lj=!1;this.yx=this.Hh=null;a&&(this.hd=a[0],this.Kj=a[1],this.Lj=!!a[2],this.Hh=(a=a[3])?a.split(" "):[],this.yx=new Set(this.Hh.map(c=>c.toLowerCase())))}A(){this.Wj=null;d.H(this.Hh);this.Hh=null;this.yx.clear();this.yx=null}dj(){return this.Wj}Pa(){return this.hd}Es(a){this.hd=a}vn(){return this.Kj}Ek(a){this.Kj=a}Jl(){return this.Lj}$l(a){this.Lj=!!a}XQ(a){this.Hh=a?a.split(" "):[];this.yx=new Set(this.Hh.map(f=>
f.toLowerCase()))}ya(){return{time:this.hd,ease:this.Kj,enable:this.Lj,tags:this.Hh}}Fa(a){a&&(this.hd=a.time,this.Kj=a.ease,this.Lj=a.enable,this.Hh=a.tags,this.yx=new Set(this.Hh.map(f=>f.toLowerCase())))}}d.eP=class{constructor(a,f){this.uc=f;this.dd=[];d.nh.Yv(this.dd,a,b,this)}A(){this.uc=null;for(const a of this.dd)a.A();d.H(this.dd);this.dd=null}EY(){const a=new b(null,this);this.dd.push(a);return a}h_(a){for(const f of this.dd){if(!a(f))continue;const c=this.dd.indexOf(f);-1!==c&&(f.A(),this.dd.splice(c,
1))}this.y8()}y8(){this.dd.sort((a,f)=>a.Pa()-f.Pa())}z1(a){return this.dd.indexOf(a)}y1(a){return this.dd[a]}*VX(){for(const a of this.dd)yield a}*Kia(){for(let a=this.dd.length-1;0<=a;a--)yield this.dd[a]}ya(){return{keyframeDataItemsJson:this.dd.map(a=>a.ya())}}Fa(a){a&&d.nh.gw(this.dd,a.keyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,f){this.el=f;this.hi=this.Od=null;this.La="";this.hd=NaN;this.Kj="noease";this.Lj=!1;this.wj=null;a&&(this.Od=a[0][0],this.hi=a[0][1],this.La=a[0][2],this.hd=a[1],this.Kj=a[2],this.Lj=!!a[3],this.wj=null,a[4]&&(this.wj=new d.RY(a[4],this)))}A(){this.el=null;this.wj&&(this.wj.A(),this.wj=null)}wa(){return this.Od}jh(a){"color"===this.La&&d.Bn(a)?(this.Od[0]=d.zF(a),this.Od[1]=d.nF(a),this.Od[2]=d.aF(a)):this.Od=a}wQ(a){"color"===this.La&&d.Bn(a)?(this.hi[0]=
d.zF(a),this.hi[1]=d.nF(a),this.hi[2]=d.aF(a)):this.hi=a}zc(){const a=this.el.Ra.fj();if("relative"===a)return this.wa();if("absolute"===a)return this.hi}ZQ(a){this.La=a}Pa(){return this.hd}Es(a){this.hd=a}vn(){return this.Kj}Ek(a){this.Kj=a}Jl(){return this.Lj}$l(a){this.Lj=!!a}ZE(a){if(this.wj)for(const f of this.wj.Dha())if(f.lk()===a)return f}ya(){const a=this.wj;return{addonDataJson:a?a.ya():a,value:this.Od,aValue:this.hi,type:this.La,time:this.hd,ease:this.Kj,enable:this.Lj}}Fa(a){a&&(a.addonDataJson&&
this.wj.Jwa(a.addonDataJson),this.Od=a.value,this.hi=a.aValue,this.La=a.type,this.hd=a.time,this.Kj=a.ease,this.Lj=a.enable)}}d.WP=class{constructor(a,f){this.Ra=f;this.ed=[];d.nh.Yv(this.ed,a,b,this)}A(){this.Ra=null;for(const a of this.ed)a.A();d.H(this.ed);this.ed=null}FY(){const a=new b(null,this);this.ed.push(a);return a}j_(a){for(const f of this.ed){if(!a(f))continue;const c=this.ed.indexOf(f);-1!==c&&(f.A(),this.ed.splice(c,1))}this.z8()}z8(){this.ed.sort((a,f)=>a.Pa()-f.Pa())}*GM(){for(const a of this.ed)yield a}*hja(){for(let a=
this.ed.length-1;0<=a;a--)yield this.ed[a]}ya(){return{propertyKeyframeDataItemsJson:this.ed.map(a=>a.ya())}}Fa(a){a&&d.nh.gw(this.ed,a.propertyKeyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(c,e){this.wj=e;this.vf=c[0];this.um=c[1]}A(){this.um=this.wj=null}lk(){return this.vf}ya(){return{id:this.vf,data:this.um}}Fa(c){c&&(this.vf=c.id,this.um=c.data)}}class a extends b{constructor(c,e){super(c,e);this.pL=this.um[0];this.Yx=!!this.um[1];this.kJ=this.um[2];this.ZB=!!this.um[3]}A(){super.A()}ya(){return Object.assign(super.ya(),{startAnchor:this.pL,startEnable:!!this.Yx,endAnchor:this.kJ,endEnable:!!this.ZB})}Fa(c){c&&(super.Fa(c),this.pL=
c.startAnchor,this.Yx=!!c.startEnable,this.kJ=c.endAnchor,this.ZB=!!c.endEnable)}}class f extends b{constructor(c,e){super(c,e);this.cJ=this.um[0];this.aL=this.um[1]}A(){super.A()}ya(){return Object.assign(super.ya(),{direction:this.cJ,revolutions:this.aL})}Fa(c){c&&(super.Fa(c),this.cJ=c.direction,this.aL=c.revolutions)}}d.RY=class{constructor(c){this.iq=[];d.nh.Yv(this.iq,c,{fY:0,map:new Map([["cubic-bezier",a],["angle",f]])},this)}A(){for(const c of this.iq)c.A();d.H(this.iq);this.iq=null}*Dha(){for(const c of this.iq)yield c}ya(){return{addonDataItemsJson:this.iq.map(c=>
c.ya())}}Fa(c){c&&d.nh.gw(this.iq,c.addonDataItemsJson,{fY:"id",map:new Map([["cubic-bezier",a],["angle",f]])},this)}}}
{"use strict";const d=self.D;let b=0;d.W8=class extends d.se{constructor(a,f){super(`tween-${b++}`,a,f);this.vf="";this.PU=!1;this.HJ="start-value";this.qW=this.pW=null}Oa(){var a=this.Zb;if(a&&a.length&&(a=a[0])){var f=a.Oa();return a.Ql()?f:null}}lk(){return this.vf}PP(){if(this.qW)for(const a of this.qW)a(this);if(!this.Ag)for(const a of this.Zb)a.Vi()}zP(){this.dt=this.j.jl}ON(){if(!this.zq&&(this.zq=!0,this.pW))for(const a of this.pW)a(this)}Es(a){this.PR();super.Es(a)}Jd(a){if(!this.to&&"current-state"===
this.HJ)for(const f of this.Zb)f.Ui();super.Jd(a)}mh(a=!1){super.mh(a);if(!this.Ag)for(const f of this.Zb)f.Rp()}Vc(a=!0,f=!1){this.PR();super.Vc(a,f)}PR(){for(const a of this.Zb){const f=c=>{c=c.Pa();const e=this.ge();return 0!==c&&c!==e};a.i_(f);a.SE(f)}}gB(){if(this.Ci)return!0;const a=this.Oa();if(a&&a.L().dh())return!1;this.Rb.dz(this);this.nQ();return!0}oP(){}Ad(){const a=this.Oa();super.Ad(this.K().Uh(a),1)}ya(){const a=super.ya();return Object.assign(a,{tweenDataItemJson:this.Xe.ya(),id:this.vf,
destroyInstanceOnComplete:this.PU,initialValueMode:this.HJ})}Fa(a){a&&(this.Xe.Fa(a.tweenDataItemJson),super.Fa(a),this.vf=a.id,this.PU=a.destroyInstanceOnComplete,this.HJ=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const d=self.D,b=self.Vu;d.lR=class extends d.ta{constructor(a){super();this.na=a[0];this.Ii=[];for(const f of a[1])a=d.mR.ab(this,f),this.Ii.push(a);this.Hx=new Map;this.JD=new Map;this.yda();b.DY(this.na,(f,c,e,h)=>this.zb(f,c,e,h))}static ab(a){return d.F(d.lR,a)}A(){for(const a of this.Ii)a.A();d.H(this.Ii);this.Ii=null;this.Hx.clear();this.Hx=null;this.JD.clear();this.JD=null}U1(a){const f=this.JD.get(a);if(f)return f;for(const c of this.Ii)if(c.Ef===a)return this.JD.set(a,c),c}k1(a){for(const f of this.Ii)if(f.Ef>
a)return f}j1(a){for(const f of this.Ii)if(f.Ef>=a)return f}l1(a){for(let f=this.Ii.length-1;0<=f;f--){const c=this.Ii[f];if(c.Ef<=a)return c}}zb(a,f,c,e){var h=a/e;(a=this.U1(h))?e=this.k1(h):(a=this.l1(h),e=this.j1(h));h=d.Uia(h,a.Ef,e.Ef,e.Ef-a.Ef);const g=a.Ef,l=a.oy,n=a.Ef+a.aX,p=a.oy+a.tha,q=e.Ef+e.XU,r=e.oy+e.Bga,x=e.Ef;e=e.oy;e=b.zp("spline")(h,g,l,n,p,q,r,x,e,this.Hx.get(a));e+=a.oy;return(1-e)*f+e*(f+c)}yda(){this.Hx.clear();for(let f=0;f<this.Ii.length-1;f++){var a=this.Ii[f];if(!a.Yx)continue;
const c=this.Ii[f+1];this.Hx.set(a,b.N0(a.Ef,a.Ef+a.aX,c.Ef+c.XU,c.Ef))}}}}{"use strict";const d=self.D;d.mR=class extends d.ta{constructor(b,a){super();this.Ef=a[0];this.oy=a[1];this.aX=a[2];this.tha=a[3];this.XU=a[4];this.Bga=a[5];this.Yx=a[6];this.ZB=a[7]}A(){}static ab(b,a){return d.F(d.mR,b,a)}}}{"use strict";const d=self.D;d.U8=class extends d.ta{constructor(b){super();this.j=b;this.KD=[]}A(){for(const b of this.KD)b.A();d.H(this.KD);this.KD=null}ab(b){this.KD.push(d.lR.ab(b))}}}
{"use strict";const d=self.D;d.x8=class extends d.ta{constructor(b){super();this.R=b;this.ub=[];this.ub.push(d.F(d.UG,this));this.eb=0;this.Gj=this.ub[0]}A(){for(const b of this.ub)b.A();d.H(this.ub);this.R=this.Gj=null}L(){return this.R}ga(){return this.Gj}Tc(){this.ga().Tc()}c6(){var b=this.ub,a=++this.eb;a===b.length?(a=d.F(d.UG,this),b.push(a),this.Gj=a):(b=b[a],b.Vc(),this.Gj=b)}d6(){const b=this.ub,a=++this.eb;a===b.length&&b.push(d.F(d.UG,this));const f=b[a];f.MZ(b[a-1]);this.Gj=f}Wa(){this.Gj=
this.ub[--this.eb]}Qp(b){const a=this.ub;for(let f=0,c=a.length;f<c;++f)a[f].Qp(b)}}}
{"use strict";const d=self.D;d.UG=class extends d.ta{constructor(b){super();this.ub=b;this.R=this.ub.L();this.je=this.R.K().wd();this.ic=!0;this.J=[];this.tc=[]}A(){this.$y();this.je=this.R=this.ub=null}$y(){d.H(this.J);d.H(this.tc)}L(){return this.R}HF(){return this.ic?!!this.R.J.length:!!this.J.length}ua(){return this.ic?this.R.ua():this.J}e2(){return!!this.tc.length}bO(){const b=this.ua();return b.length?b:this.tc}Vc(){this.ic=!0;d.H(this.tc)}Tc(){this.ic=!0}MZ(b){b.ic?this.Vc():(this.ic=!1,d.Qd(this.J,
b.J),d.H(this.tc))}cq(b){this.J.push(b)}ao(b){this.tc.push(b)}Le(b){this.ic=!!b}Fk(b){this.ic=!1;d.H(this.J);this.J.push(b)}Gv(b){this.ic=!1;d.Qd(this.J,b)}Qv(b){this.ic=!1;d.H(this.J);for(const a of b)this.J.push(a)}$M(b,a){for(const f of a)b.has(f)||this.tc.push(f)}S8(b){for(const a of b)this.J.push(a);d.Mh(this.tc,b)}Kn(b){b&&(this.je.Mf().Sb().le?(this.ic&&(d.H(this.J),d.Qd(this.tc,b.L().ua()),this.ic=!1),b=this.tc.indexOf(b),-1!==b&&(this.J.push(this.tc[b]),this.tc.splice(b,1))):this.Fk(b))}Qp(b){d.Mh(this.J,
b);d.Mh(this.tc,b)}}}
{"use strict";const d=self.D;d.t0=class extends d.ta{constructor(b){super();this.Ea=b;this.j=this.Ea.K();this.ub=[];this.ub.push(d.F(d.LN,this,null));this.eb=0;this.aC=[]}A(){for(const b of this.ub)b.A();d.H(this.ub);d.H(this.aC);this.j=this.Ea=null}xa(){return this.Ea}K(){return this.j}Mf(){return this.ub[this.eb]}Ya(b){var a=this.ub;const f=++this.eb;if(f===a.length)return b=d.F(d.LN,this,b),a.push(b),b;a=a[f];a.Vc(b);return a}Wa(){--this.eb}e6(b){this.aC.push(b)}V5(){this.aC.pop()}S0(){const b=this.aC;
return 0===b.length?null:b[b.length-1]}}}
{"use strict";const d=self.D;d.LN=class extends d.ta{constructor(b,a){super();this.ub=b;this.j=this.ub.K();this.Fw=a;this.yg=this.qm=0;this.jJ=this.Oq=!1;this.oJ=null;this.vJ=this.jV=0}A(){this.Vc(null);this.j=this.ub=null}Vc(b){this.Fw=b;this.yg=this.qm=0;this.jJ=this.Oq=!1}YH(b,a){this.Fw=b;this.qm=0;this.yg=a}oQ(){this.yg=this.qm=0}Sb(){return this.Fw}ih(b){this.Fw=b}Qn(b){this.qm=b}wA(b){this.yg=b}Tn(b){this.Oq=!!b}ys(b){this.jJ=!!b}n7(b){this.oJ=b}Q2(b,a){this.jV=b;this.vJ=a}EA(b){this.vJ=b}yk(){const b=
this.Fw;return b.IC?!0:this.qm<b.mc.length-1?!!b.Sd().length:!1}}}{"use strict";const d=self.D;d.o4=class extends d.ta{constructor(b){super();this.Ea=b;this.j=this.Ea.K();this.ub=[];this.eb=-1;this.Gj=null;this.rC=[]}A(){d.H(this.ub);this.j=this.Ea=null}ffa(b){this.rC=b;b=this.rC.slice(0);this.ub.push(b);this.eb=0;this.Gj=b}xa(){return this.Ea}K(){return this.j}Tr(){return this.Gj}Ya(){const b=++this.eb,a=this.ub;b===a.length?a.push(this.rC.slice(0)):d.Qd(a[b],this.rC);this.Gj=a[b]}Wa(){this.Gj=this.ub[--this.eb]}}}
{"use strict";const d=self.D;d.q4=class extends d.ta{constructor(b){super();this.Ea=b;this.j=this.Ea.K();this.ub=[];this.eb=-1}A(){d.H(this.ub);this.j=this.Ea=null}xa(){return this.Ea}K(){return this.j}ZO(){return 0<=this.eb}Tr(){return this.ub[this.eb]}Ya(){++this.eb;if(this.eb===this.ub.length){var b=d.F(d.p4,this);this.ub.push(b);return b}b=this.ub[this.eb];b.Vc();return b}Wa(){--this.eb}A0(b){const a=this.ub;for(let f=this.eb;0<=f;--f){const c=a[f];if(c.na===b)return c}return null}}}
{"use strict";const d=self.D;d.p4=class extends d.ta{constructor(b){super();this.$f=b;this.na="";this.eb=0;this.Bc=!1}Vc(){this.na="";this.eb=0;this.Bc=!1}HA(b){this.na=b}Wc(b){this.eb=b}Na(){return this.eb}mh(){this.Bc=!0}}}{"use strict";const d=self.D;d.$Y=class extends d.ta{constructor(){super();this.ub=[];this.eb=-1}A(){d.H(this.ub)}Tr(){return this.ub[this.eb]}Ya(){++this.eb;if(this.eb===this.ub.length){const b=[];this.ub.push(b);return b}return this.ub[this.eb]}Wa(){--this.eb}}}
{"use strict";const d=self.D;function b(a,f){return a.Na()-f.Na()}d.s0=class extends d.ta{constructor(a){super();this.j=a;this.ww=[];this.gL=new Map;this.CI=[];this.nV=new Map;this.SI=new Map;this.YI=new Map;this.vB=new Map;this.BU=new Map;this.mJ=new Map;this.iha=0;this.BI=[];this.iga=[];this.cW=[];this.tJ=new Map;this.je=d.F(d.t0,this);this.Kd=d.F(d.o4,this);this.$f=d.F(d.q4,this);this.AL=[];this.oD=[];this.nD=[];this.RI=this.wm=this.Um=0;this.Jg=[];this.DB=[];self.c3_callFunction=(f,c)=>this.eB(f,
c)}A(){this.Zy();this.je.A();this.je=null;this.Kd.A();this.Kd=null;d.H(this.oD);d.H(this.nD);this.j=null;d.H(this.ww);this.gL.clear()}ab(a){a=d.F(d.r0,this,a);this.ww.push(a);this.gL.set(a.na.toLowerCase(),a)}N9(a){this.AL.push(a)}Yb(){for(const a of this.tJ.values())a.Yb(!1);for(const a of this.ww)a.Yb();for(const a of this.ww)a.pI();for(const a of this.AL)a.Yb(!1);d.H(this.AL);this.Kd.ffa(this.cW)}K(){return this.j}aO(a){return this.gL.get(a.toLowerCase())||null}Lda(a){this.CI.push(a);this.nV.set(a.mV,
a)}Ida(a){this.SI.set(a.gb,a)}Hda(a){this.YI.set(a.gb,a)}Gda(a){this.vB.set(a.gb,a)}Kda(a){this.tJ.set(a.jC.toLowerCase(),a)}Jda(a){this.mJ.set(a.gb,a);a.dh()?this.BI.push(a):this.iga.push(a)}TA(a){2<=a.length&&a.sort(b);let f=this.BU.get(a.length);f||(f=[],this.BU.set(a.length,f));for(let e=0,h=f.length;e<h;++e){const g=f[e];a:{for(let l=0,n=a.length;l<n;++l)if(a[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}f.push(a);return a}mba(a){this.cW.push(a.sb);return this.iha++}wd(){return this.je}Lf(){return this.wd().Mf()}Sb(){return this.Lf().Sb()}Kf(){const a=
this.Lf();return a.Sb().XN(a.qm)}gv(){const a=this.Lf();return a.Sb().QN(a.yg)}I0(a){const f=[];for(a=a.bs();a;)d.ep(f,a.iS()),a=a.bs();return f}zS(a){const f={};for(const c of this.I0(a))f[c.cj()]=c.DS();return Object.create(Object.prototype,f)}jF(a){return this.mJ.get(a)||null}Y0(a){return this.SI.get(a)||null}G0(a){return this.vB.get(a)||null}Fz(a){return this.tJ.get(a.toLowerCase())||null}B6(){for(const a of this.BI)a.G6()}$N(a){return this.nV.get(a.toLowerCase())||null}Z0(a){return(a=this.SI.get(a))&&
a.Vj?a:null}C6(){for(const a of this.CI)a.D6()}yT(){for(const a of this.ww)a.aea()}M6(a){this.yT();this.Um++;for(const f of a.Oy())if(a=f.qd)this.j.Dv(f),a.Ca(),this.j.Cv();this.Um--}async c_(a){this.yT();this.Um++;for(const f of this.$$(a))await this.j.Rr(f);this.Um--}*$$(a){for(const f of a.Oy())if(a=f.qd)this.j.Dv(f),yield*a.xb(),this.j.Cv()}vw(a,f,c,e){let h=!1;if(!a.Wb())return this.qG(f,c,e);this.wm++;for(const g of a.Oy())if(a=g.qd){this.j.Dv(g);for(const l of a.SB){const n=l.vw(f,c,e);h=h||
n}a=a.vw(f,c,e);h=h||a;this.j.Cv()}this.wm--;return h}*Ms(a,f,c,e){let h=!1;if(!a.Wb())return this.qG(f,c,e);this.wm++;for(const g of a.Oy())if(a=g.qd){this.j.Dv(g);for(const l of a.SB){const n=yield*l.Ms(f,c,e);h=h||n}a=yield*a.Ms(f,c,e);h=h||a;this.j.Cv()}this.wm--;return h}qG(a,f,c){this.oD.push([a,f,c]);return!1}j6(a,f,c){let e=null;const h=new Promise(g=>e=g);this.nD.push([a,f,c,e]);return h}*kea(){if(this.j.ds())throw Error("should not be in breakpoint");const a=this.j.ib;for(;this.nD.length;){const [f,
c,e,h]=this.nD.shift(),g=yield*this.Ms(a,f,c,e);h(g)}}async qQ(){for(const a of this.kea())await this.j.Rr(a)}bA(){return 0<this.wm}ew(){return++this.wm}aw(){--this.wm}N3(){return 0<this.Um}aA(){return this.N3()||this.bA()}lea(a){for(const [f,c,e]of this.oD)this.vw(a,f,c,e);d.H(this.oD)}Ze(a){a?this.RI++:this.RI--}XO(){return 0<this.RI}Pr(a){for(let f=0,c=a.length;f<c;++f)a[f].Oo.Tc()}eh(a){for(let f=0,c=a.length;f<c;++f)a[f].Oo.c6()}hf(a){for(let f=0,c=a.length;f<c;++f)a[f].Oo.d6()}Xb(a){for(let f=
0,c=a.length;f<c;++f)a[f].Oo.Wa()}BE(){const a=d.F(d.AG,this);this.Jg.push(a);return a}O6(){if(this.Jg.length){var a=this.Lf(),f=!1;this.Um++;for(let c=0,e=this.Jg.length;c<e;++c){const h=this.Jg[c];h.kU()&&h.cea(a);h.Sx&&(f=!0)}f&&this.eS();this.Um--}}async e_(){if(this.Jg.length){var a=this.Lf(),f=!1;this.Um++;for(let c=0,e=this.Jg.length;c<e;++c){const h=this.Jg[c];h.kU()&&await h.U$(a);h.Sx&&(f=!0)}f&&this.eS();this.Um--}}eS(){const a=d.Lha(this.Jg,f=>f.Sx);for(const f of a)f.A()}Zy(){for(const a of this.Jg)a.A();
d.H(this.Jg)}r6(a){for(const f of this.Jg)f.Qp(a)}xE(a){this.DB.push(a)}az(){d.H(this.DB)}M1(){const a=Promise.all(this.DB);this.DB=[];return a}ya(){return{groups:this.sea(),cnds:this.rea(),acts:this.qea(),vars:this.Dea(),waits:this.zea()}}Fa(a){this.gca(a.groups);this.bca(a.cnds);this.$ba(a.acts);this.sca(a.vars);this.oca(a.waits)}sea(){const a={};for(const f of this.CI)a[f.gb.toString()]=f.hs();return a}gca(a){for(const [f,c]of Object.entries(a))(a=this.Z0(parseInt(f,10)))&&a.Up(c)}rea(){const a=
{};for(const [f,c]of this.YI){const e=c.ya();e&&(a[f.toString()]=e)}return a}bca(a){const f=new Map;for(const [c,e]of Object.entries(a))f.set(parseInt(c,10),e);for(const [c,e]of this.YI)e.Fa(f.get(c)||null)}qea(){const a={};for(const [f,c]of this.vB){const e=c.ya();e&&(a[f.toString()]=e)}return a}$ba(a){const f=new Map;for(const [c,e]of Object.entries(a))f.set(parseInt(c,10),e);for(const [c,e]of this.vB)e.Fa(f.get(c)||null)}Dea(){const a={};for(const [f,c]of this.mJ)c.Jb||!c.dh()&&!c.ti||(a[f.toString()]=
c.wa());return a}sca(a){for(const [f,c]of Object.entries(a))(a=this.jF(parseInt(f,10)))&&a.jh(c)}zea(){return this.Jg.filter(a=>!a.L3()).map(a=>a.ya())}oca(a){this.Zy();for(const f of a)(a=d.AG.u$(this,f))&&this.Jg.push(a)}XE(a){for(;a;)if(a=a.bs(),a instanceof d.av)return a;return null}eB(a,f){Array.isArray(f)||(f=[]);a=this.Fz(a.toLowerCase());if(!a)return null;if(!a.sg())return a.jv();var c=a.xh;if(f.length<c.length){f=f.slice(0);do f.push(c[f.length].sb);while(f.length<c.length)}c=a.df();return c.yG(c.Td(),
a.Sm,a.jv(),...f)}}}
{"use strict";const d=self.D;d.r0=class extends d.ta{constructor(b,a){super();this.Ea=b;this.j=b.K();this.na=a[0];this.$B=[];this.OD=new Map;this.dV=new Map;this.Cga=new Map;this.Nw=!1;this.UW=[];this.SB=[];this.CU=new Set;for(const f of a[1])this.MR(f,null,this.$B);this.$j=this.j.Bb?{type:"sheet",name:this.na,Qy:0,children:[]}:null}A(){this.j=this.Ea=null}MR(b,a,f){switch(b[0]){case 0:case 3:this.s$(b,a,f);break;case 1:this.t$(b,a,f);break;case 2:this.x$(b,a,f);break;case 4:this.v$(b,a);break;case 5:this.G$(b,
a,f);break;default:throw Error("invalid event type");}}s$(b,a,f){b=d.Cl.ab(this,a,b);if(b.le){f.push(b);f=b.mc;for(let c=0,e=f.length;c<e;++c)f[c].Lp()&&this.QS(b,c)}else b.Lp()?this.QS(b,0):f.push(b)}v$(b,a){b=d.av.ab(this,a,b);this.Ea.Kda(b)}t$(b,a,f){b=d.nz.ab(this,a,b);f.push(b)}x$(b,a,f){b=d.KN.ab(this,a,b);f.push(b)}G$(b,a,f){b=d.mz.ab(this,a,b);f.push(b)}QS(b,a){b.le||this.Ea.N9(b);var f=b.XN(a),c=f.Ua,e=f.L();if(f.JV){var h=this.dV.get(e);h||(h=new Map,this.dV.set(e,h));f=f.c1().toLowerCase();
e=h.get(c);e||(e=new Map,h.set(c,e));c=e.get(f);c||(c=[],e.set(f,c));c.push([b,a])}else h=this.OD.get(e),h||(h={rM:new Map,wy:new Map},this.OD.set(e,h)),(e=f.Sh())?(f=h.wy.get(e),f||(f=new Map,h.wy.set(e,f))):f=h.rM,h=f.get(c),h||(h=[],f.set(c,h)),h.push([b,a])}Yb(){const b=this.$B;for(let a=0,f=b.length;a<f;++a)b[a].Yb(a<f-1&&b[a+1]instanceof d.Cl&&b[a+1].$z())}L9(b){this.UW.push(b)}pI(){d.H(this.SB);this.wR(this);this.CU.clear()}wR(b){const a=b.SB,f=b.CU;for(const c of this.UW){const e=c.Sw;c.Ub&&
b!==e&&!f.has(e)&&(f.add(e),e.wR(b),a.push(e))}}xa(){return this.Ea}K(){return this.j}rT(b,a){this.Cga.set(a,b)}aea(){this.Nw=!1}Ca(){if(!this.Nw){var b=this.j,a=b.SF(),f=a?performance.now():0;this.Nw=!0;var c=this.xa(),e=c.Lf();for(const h of this.$B)h.Ca(e),c.Pr(h.Sd()),c.az(),b.pe();e.Vc(null);a&&(this.$j.Qy+=performance.now()-f)}}*xb(){if(!this.Nw){this.Nw=!0;var b=this.j,a=this.xa(),f=a.Lf();for(const c of this.$B)yield*c.xb(f),a.Pr(c.Sd()),a.az(),b.pe();f.Vc(null)}}vw(b,a,f){if(a){const c=a.L();
this.nI(b,a,c,f);for(const e of c.pi)this.nI(b,a,e,f)}else return this.nI(b,a,null,null)}nI(b,a,f,c){f=this.OD.get(f);if(!f)return!1;c=c?f.wy.get(c):f.rM;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [e,h]of c)c=this.dS(a,e,h),b=b||c;return b}*Ms(b,a,f){if(a){const c=a.L();yield*this.sH(b,a,c,f);for(const e of c.pi)yield*this.sH(b,a,e,f)}else return yield*this.sH(b,a,null,null)}*sH(b,a,f,c){f=this.OD.get(f);if(!f)return!1;c=c?f.wy.get(c):f.rM;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;
for(const [e,h]of c)c=e.$e()?this.dS(a,e,h):yield*this.O$(a,e,h),b=b||c;return b}dS(b,a,f){const c=this.j,e=this.Ea,h=e.Sb(),g=e.wd(),l=e.wm;let n=!1;h&&e.eh(h.Td());e.eh(a.Td());const p=1<l;p&&e.Kd.Ya();const q=g.Ya(a);b&&(a.mc[f].L().ga().Fk(b),b.Gc()&&b.nj());b=!0;if(a.Ma()){const r=a.xr;for(let x=0,w=r.length;x<w;++x)if(!r[x].pQ(q)){b=!1;break}}b&&(c.Pl(),a.le?a.N6(q,f):a.Ca(q),n=q.Oq);g.Wa();p&&e.Kd.Wa();e.Xb(a.Td());h&&e.Xb(h.Td());h||1!==l||(e.az(),e.XO()||c.pe());return n}*O$(b,a,f){const c=
this.j,e=this.Ea,h=e.Sb(),g=e.wd(),l=e.wm;let n=!1;h&&e.eh(h.Td());e.eh(a.Td());const p=1<l;p&&e.Kd.Ya();const q=g.Ya(a);b&&(a.mc[f].L().ga().Fk(b),b.Gc()&&b.nj());b=!0;if(a.Ma()){const r=a.xr;for(let x=0,w=r.length;x<w;++x)if(!(yield*r[x].BN(q))){b=!1;break}}b&&(c.Pl(),a.le?yield*a.d_(q,f):yield*a.xb(q),n=q.Oq);g.Wa();p&&e.Kd.Wa();e.Xb(a.Td());h&&e.Xb(h.Td());h||1!==l||(e.az(),e.XO()||c.pe());return n}}}
{"use strict";const d=self.D,b=[];function a(){return!0}function*f(){return!0}d.Cl=class extends d.ta{constructor(c,e,h){super();this.qd=c;this.j=c.K();this.Nc=e;this.ye=null;this.je=this.j.xa().wd();this.Bf=[];this.eu=[];this.Lw=this.KC=this.IC=this.sV=!1;this.le=!!h[2];this.yC=!1;this.xr=null;this.mc=[];this.rh=[];this.Hi=[];this.uj=a;this.Xp=f;this.UJ=this.Vj=!1;this.mV="";this.AC=!1;this.$j=this.QB=null;this.gb=h[4];this.mt=h[5];this.qd.rT(this,this.mt);this.Za=this.j.Bb?{ud:h[3][0],lM:h[3][1],
AX:!1,WL:!1,XL:!1,BX:!1}:null;this.xa().Ida(this);3===h[0]&&this.Fba(h[1]);c=0;for(var g of h[6])e=d.uN.ab(this,g,c++),this.mc.push(e),this.BR(e.L());c=0;for(const l of h[7])g=d.Uy.ab(this,l,c++),this.rh.push(g);if(9===h.length){h=h[8];for(const l of h)this.qd.MR(l,this,this.Hi)}this.mc.length&&(this.yC=null===this.mc[0].L()&&this.mc[0].Ua===d.m.Da.G.IN);0===this.mc.length&&(this.mc=b);0===this.rh.length&&(this.rh=b);0===this.Hi.length&&(this.Hi=b)}static ab(c,e,h){return d.F(d.Cl,c,e,h)}Fba(c){this.Vj=
!0;this.AC=this.UJ=!!c[0];this.mV=c[1].toLowerCase();this.QB=[];this.xa().Lda(this);this.j.Bb&&(this.$j={type:"group",name:c[1],Qy:0,children:[]})}D9(c){this.QB.push(c)}vR(c,e){for(const h of c.Fj.Nm)e.includes(h)||e.push(h)}CR(c,e){if(c)if(e.includes(c)||e.push(c),c.hb)for(const h of c.qo)h.Gc()&&this.vR(h,e);else c.Gc()&&this.vR(c,e)}BR(c){this.CR(c,this.Bf)}H9(c){this.CR(c,this.eu)}U6(){this.Bf=this.j.od}Yb(c){this.Lw=!!c;this.yba();this.zba();for(const h of this.mc)h.Yb();if(0<this.rh.length){c=
!1;for(var e of this.rh)e.Yb(),e.m2()&&(c=!0);c?(this.uj=this.eea,this.Xp=this.W$):(this.uj=this.dea,this.Xp=this.V$)}e=this.Hi;for(let h=0,g=e.length;h<g;++h)e[h].Yb(h<g-1&&e[h+1]instanceof d.Cl&&e[h+1].$z());this.Za&&this.Qfa();this.$j&&this.nba().$j.children.push(this.$j)}nba(){let c=this.Ma();for(;c;){if(c.Vj)return c;c=c.Ma()}return this.qd}Qfa(){const c=this.Za;c.AX=this.mc.every(e=>e.$e());c.WL=this.rh.every(e=>e.$e());c.XL=this.Hi.every(e=>e.$e());c.BX=c.AX&&c.WL&&c.XL}yba(){if(this.Vj){var c=
this.Ma();for(this.KC=!0;c;){if(!c.Vj){this.KC=!1;break}c=c.Ma()}}}xba(){var c=this.j.od;if(this.Bf===c)this.eu=c;else{this.eu=d.VD(this.Bf);for(c=this.Ma();c;){for(var e of c.Bf)this.H9(e);c=c.Ma()}e=this.xa();this.Bf=e.TA(this.Bf);this.eu=e.TA(this.eu)}}zba(){if(this.f2()){this.xr=[];for(var c=this.Ma();c;)this.xr.push(c),c=c.Ma();this.xr.reverse()}}Rv(){this.IC=!0;this.Nc&&this.Nc.Rv()}Sd(){return this.Bf}Td(){this.sV||(this.sV=!0,this.xba());return this.eu}o2(c){return this.Bf.includes(c)}xa(){return this.qd.xa()}K(){return this.j}Ma(){return this.Nc}rfa(c){this.ye=
c}bs(){return this.ye||this.Nc}TF(){return this.Za&&this.Za.lM}Jp(){return this.TF()&&this.Za.ud}$z(){return this.yC}hs(){return this.AC}D6(){this.Up(this.UJ)}Up(c){c=!!c;if(!this.Vj)throw Error("not a group");if(this.AC!==c){this.AC=c;for(const e of this.QB)e.nR();this.QB.length&&(c=this.j.Xa().qd)&&c.pI()}}Lp(){return this.mc.length&&this.mc[0].Lp()}E3(){return this.ye&&this.ye instanceof d.av}f2(){return this.E3()||this.mc.some(c=>c.Lp())}XN(c){c=Math.floor(c);if(0>c||c>=this.mc.length)throw new RangeError("invalid condition index");
return this.mc[c]}C3(c){let e=c.Na();if(0===e)return!0;for(--e;0<=e;--e)if(this.mc[e].L()===c.L())return!1;return!0}QN(c){c=Math.floor(c);if(0>c||c>=this.rh.length)throw new RangeError("invalid action index");return this.rh[c]}wba(c){c=Math.floor(c);return 0<=c&&c<this.rh.length}iS(){return this.Hi.filter(c=>c instanceof d.nz)}pQ(c){c.ih(this);let e=!1;const h=this.mc;for(let g=0,l=h.length;g<l;++g){const n=h[g];c.Qn(g);if(n.BC)throw Error("trigger cannot be used as sub-event to a loop");if(n.Ca())e=
!0;else if(!this.le)return!1}return this.le?e:!0}N6(c,e){c.ih(this);this.mc[e].Ca()&&(this.uj(c,0)&&this.hm(),c.Tn(!0))}*BN(c){c.ih(this);let e=!1;const h=this.mc;for(let g=0,l=h.length;g<l;++g){const n=h[g];c.Qn(g);if(n.BC)throw Error("trigger cannot be used as sub-event to a loop");if(n.$e()?n.Ca():yield*n.xb())e=!0;else if(!this.le)return!1}return this.le?e:!0}*d_(c,e){c.ih(this);e=this.mc[e];if(e.$e()?e.Ca():yield*e.xb())(this.iz()?this.uj(c,0):yield*this.Xp(c,0))&&(this.jz()?this.hm():yield*this.$v()),
c.Tn(!0)}Ca(c){c.ih(this);this.yC||c.ys(!1);this.le?this.jea(c):this.kB(c)}*xb(c){if(this.Jp()||this.j.xc())yield this;c.ih(this);this.yC||c.ys(!1);this.le?yield*this.gaa(c):yield*this.pH(c)}jea(c){const e=this.mc;let h=0===e.length;for(let l=0,n=e.length;l<n;++l){var g=e[l];g.Lp()||(c.Qn(l),g=g.Ca(),h=h||g)}c.Tn(h);h&&(this.uj(c,0)&&this.hm(),this.Lw&&c.ys(!0))}*gaa(c){const e=this.mc;let h=0===e.length;for(let l=0,n=e.length;l<n;++l){var g=e[l];g.Lp()||(c.Qn(l),g=g.$e()?g.Ca():yield*g.xb(),h=h||
g)}c.Tn(h);h&&((this.iz()?this.uj(c,0):yield*this.Xp(c,0))&&(this.jz()?this.hm():yield*this.$v()),this.Lw&&c.ys(!0))}kB(c){const e=this.mc;for(let h=0,g=e.length;h<g;++h){const l=e[h];c.Qn(h);if(!l.Ca()){c.Tn(!1);return}}c.Tn(!0);this.uj(c,0)&&this.hm();c.Oq&&this.Lw&&c.ys(!0)}*pH(c){const e=this.mc;for(let h=0,g=e.length;h<g;++h){const l=e[h];c.Qn(h);if(l.$e()?!l.Ca():!(yield*l.xb())){c.Tn(!1);return}}c.Tn(!0);(this.iz()?this.uj(c,0):yield*this.Xp(c,0))&&(this.jz()?this.hm():yield*this.$v());c.Oq&&
this.Lw&&c.ys(!0)}dea(c,e){const h=this.rh;for(let g=e,l=h.length;g<l;++g)e=h[g],c.wA(g),e.Ca();return!0}*V$(c,e){const h=this.rh;for(let g=e,l=h.length;g<l;++g)e=h[g],c.wA(g),e.$e()?e.Ca():yield*e.xb();return!0}eea(c,e){const h=this.xa(),g=this.rh;for(let l=e,n=g.length;l<n;++l){e=g[l];c.wA(l);const p=e.Ca();if(e.mN()&&!0===p)return!1;e.ah()&&p instanceof Promise&&h.xE(p)}return!0}*W$(c,e){const h=this.xa(),g=this.rh;for(let l=e,n=g.length;l<n;++l){e=g[l];c.wA(l);let p;p=e.$e()?e.Ca():yield*e.xb();
if(e.mN()&&!0===p)return!1;e.ah()&&p instanceof Promise&&h.xE(p)}return!0}bea(c){this.uj(c,c.yg)&&this.hm()}*T$(c){if(yield*this.Xp(c,c.yg))yield*this.$v()}hm(){if(this.Hi.length){var c=this.Vj&&this.j.SF(),e=c?performance.now():0,h=this.je,g=h.Ya(this);this.IC?this.oea(g):this.nea(g);h.Wa();c&&(this.$j.Qy+=performance.now()-e)}}oea(c){const e=this.Vj,h=this.KC,g=this.xa(),l=this.Hi;for(let n=0,p=l.length,q=p-1;n<p;++n){const r=l[n],x=r.Sd(),w=!h||!e&&n<q;w&&g.hf(x);r.Ca(c);w?g.Xb(x):g.Pr(x)}}nea(c){const e=
this.Hi;for(let h=0,g=e.length;h<g;++h)e[h].Ca(c)}*$v(){if(this.Hi.length){var c=this.je,e=c.Ya(this);this.IC?yield*this.jaa(e):yield*this.iaa(e);c.Wa()}}*jaa(c){const e=this.Vj,h=this.KC,g=this.xa(),l=this.Hi;for(let n=0,p=l.length,q=p-1;n<p;++n){const r=l[n],x=r.Sd(),w=!h||!e&&n<q;w&&g.hf(x);yield*r.xb(c);w?g.Xb(x):g.Pr(x)}}*iaa(c){const e=this.Hi;for(let h=0,g=e.length;h<g;++h)yield*e[h].xb(c)}hh(c,e){this.j.Pl();e.oQ();const h=this.mc;if(!this.le)for(let g=c.qm+1,l=h.length;g<l;++g)if(c=h[g],
e.Qn(g),!c.Ca())return!1;this.uj(e,0)&&this.hm();return!0}*Rg(c,e){this.j.Pl();e.oQ();const h=this.mc;if(!this.le)for(let g=c.qm+1,l=h.length;g<l;++g)if(c=h[g],e.Qn(g),c.$e()?!c.Ca():!(yield*c.xb()))return!1;(this.iz()?this.uj(e,0):yield*this.Xp(e,0))&&(this.jz()?this.hm():yield*this.$v());return!0}$e(){return!this.Jp()&&!this.j.xc()&&this.Za.BX}iz(){return!this.j.xc()&&this.Za.WL}jz(){return!this.j.xc()&&this.Za.XL}iH(c){if(this.Ma()){const e=this.xr;for(let h=0,g=e.length;h<g;++h)if(!e[h].pQ(c))return!1}return!0}*NR(c){if(this.Ma()){const e=
this.xr;for(let h=0,g=e.length;h<g;++h)if(!(yield*e[h].BN(c)))return!1}return!0}cS(c,e,h){0<e.length?h?(e=e.map(g=>g.ia(0)),c.Kd.Ya(),this.ye.Kv(e)):this.ye.q0(e):h&&c.Kd.Ya()}K6(c,e){let h,g;const l=0<c.length;var n=this.j;const p=this.je,q=n.xa(),r=1<q.ew();this.cS(q,e,r);l&&q.eh(c);e=p.Ya(this);this.iH(e)&&(n.Pl(),e.ih(this),(n=this.ye.ah())&&([g,h]=this.ye.XG()),this.kB(e),n&&this.ye.zv(g));p.Wa();r&&q.Kd.Wa();l&&q.Xb(c);q.aw();return h}*a_(c,e){let h,g;if(this.Jp()||this.j.xc())yield this;const l=
0<c.length;var n=this.j;const p=this.je,q=n.xa(),r=1<q.ew();this.cS(q,e,r);l&&q.eh(c);e=p.Ya(this);if(yield*this.NR(e))n.Pl(),e.ih(this),(n=this.ye.ah())&&([g,h]=this.ye.XG()),yield*this.pH(e),n&&this.ye.zv(g);p.Wa();r&&q.Kd.Wa();l&&q.Xb(c);q.aw();return h}L6(c){const e=this.Td(),h=0<e.length,g=this.j,l=this.je,n=g.xa(),p=1<n.ew();p&&n.Kd.Ya();this.ye.Kv(c);h&&n.eh(e);c=l.Ya(this);this.iH(c)&&(g.Pl(),c.ih(this),this.kB(c));l.Wa();p&&n.Kd.Wa();h&&n.Xb(e);n.aw()}*b_(c){if(this.Jp()||this.j.xc())yield this;
const e=this.Td(),h=0<e.length,g=this.j,l=this.je,n=g.xa(),p=1<n.ew();p&&n.Kd.Ya();this.ye.Kv(c);h&&n.eh(e);c=l.Ya(this);if(yield*this.NR(c))g.Pl(),c.ih(this),yield*this.pH(c);l.Wa();p&&n.Kd.Wa();h&&n.Xb(e);n.aw()}yG(c,e,h,...g){let l,n;const p=0<c.length,q=this.j,r=this.je,x=q.xa(),w=1<x.ew();w&&x.Kd.Ya();0<g.length&&this.ye.Kv(g);p&&x.eh(c);g=r.Ya(this);g.Q2(e,h);r.e6(g);q.AA(!1);this.iH(g)&&(q.Pl(),g.ih(this),(e=this.ye.ah())&&([n,l]=this.ye.XG()),this.kB(g),e&&this.ye.zv(n));q.AA(!0);r.Wa();r.V5();
w&&x.Kd.Wa();p&&x.Xb(c);x.aw();return l||g.vJ}}}
{"use strict";const d=self.D,b=[];let a=!1;d.mz=class extends d.ta{constructor(f,c,e){super();const h=f.K(),g=f.xa();this.qd=f;this.Ea=g;this.j=f.K();this.Nc=c;this.Ua=h.Wh(e[1]);this.mt=e[2];this.qd.rT(this,this.mt);this.Za=h.Bb?{ud:e[3][0],lM:e[3][1]}:null}static ab(f,c,e){return d.F(d.mz,f,c,e)}Yb(){const f=this.Ua,c=this.j.xa().zS(this);this.Ua=f.bind(null,this.j.Tj,c)}Ma(){return this.Nc}bs(){return this.Nc}TF(){return this.Za&&this.Za.lM}Jp(){return this.TF()&&this.Za.ud}$z(){return!1}Sd(){return b}Td(){return this.Nc?
this.Nc.Td():b}Ca(f){f.ih(this);this.Ea.xE(this.pea())}async pea(){try{await this.Ua()}catch(f){console.error(`Unhandled exception running script %c${this.qd.na}, event ${this.mt}:`,"font-size: 1.2em; font-weight: bold;",f),self.mg&&self.mg.gfa(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*xb(f){f.ih(this);if(this.Jp()||this.j.xc())yield this;
this.Ca(f)}$e(){return!this.Jp()&&!this.j.xc()}static a2(){return a}static u7(){a=!0}}}
{"use strict";const d=self.D;d.av=class extends d.ta{constructor(b,a,f){super();this.qd=b;this.j=b.K();this.Nc=a;const c=f[1];this.jC=c[0];this.Sm=c[1];this.xh=c[2].map(e=>d.nz.ab(b,this,e));this.V=c[3];this.IJ=[];this.Vw=c[4];this.eha=0;this.Ew=-1;this.zw=new Map;this.ue=d.Cl.ab(b,a,f);this.ue.rfa(this)}static ab(b,a,f){return d.F(d.av,b,a,f)}Yb(){for(const b of this.xh)b.Yb();this.ue.Yb(!1)}iS(){return this.xh}Mda(b){this.IJ.push(b)}q0(b){const a=this.xh;for(let f=0,c=a.length;f<c;++f)a[f].jh(b[f].ia(0))}Kv(b){const a=
this.xh;for(let f=0,c=a.length;f<c;++f)a[f].jh(b[f])}qZ(){return this.xh.map(b=>b.wa())}Ma(){return this.Nc}bs(){return this.Nc}sg(){return this.V}jv(){switch(this.Sm){case 0:return null;case 2:return"";default:return 0}}df(){return this.ue}ah(){return this.Vw}XG(){const b=this.eha++;this.Ew=b;let a;const f=new Promise(c=>a=c);this.zw.set(b,{resolve:a,zM:0});return[b,f]}zv(b){const a=this.zw.get(b);0===a.zM&&(a.resolve(),this.zw.delete(b));this.Ew=-1}Q5(){this.zw.get(this.Ew).zM++;return this.Ew}J6(b){this.Ew=
b;this.zw.get(b).zM--}}}
{"use strict";const d=self.D,b=[];d.nz=class extends d.ta{constructor(a,f,c){super();const e=a.xa();this.qd=a;this.Ea=e;this.j=a.K();this.Nc=f;this.Kd=e.Kd;this.na=c[1];this.La=c[2];this.sb=c[3];this.ti=!!c[4];this.Jb=!!c[5];this.Oga=f instanceof d.av;this.gb=c[6];this.mx=this.j.cj(c[8]);this.sha=h=>this.jh(h);this.qha=()=>this.wa();this.vV=!this.Nc||this.ti||this.Jb;this.Od=this.sb;this.tK=-1;this.SO()&&(this.Od=this.Od?1:0);!this.$F()||this.ti||this.Jb||(this.tK=e.mba(this));e.Jda(this)}static ab(a,
f,c){return d.F(d.nz,a,f,c)}Yb(){if(this.$F()&&!this.ti&&!this.Jb&&!this.Oga){const a=this.Ea.XE(this);a&&a.Mda(this)}}cj(){return this.mx}Ma(){return this.Nc}bs(){return this.Ma()}dh(){return!this.Ma()}$F(){return!this.dh()}En(){return 0===this.La}hj(){return 1===this.La}SO(){return 2===this.La}$z(){return!1}Sd(){return b}Ca(){!this.$F()||this.ti||this.Jb||this.jh(this.sb)}$e(){return!0}*xb(a){this.Ca(a)}jh(a){this.En()?"number"!==typeof a&&(a=parseFloat(a)):this.hj()?"string"!==typeof a&&(a=a.toString()):
this.SO()&&(a=a?1:0);this.vV?this.Od=a:this.Kd.Tr()[this.tK]=a}wa(){return this.vV?this.Od:this.Kd.Tr()[this.tK]}G6(){this.Od=this.sb}DS(){return{configurable:!1,enumerable:!0,get:this.qha,set:this.sha}}}}
{"use strict";const d=self.D,b=[];d.KN=class extends d.ta{constructor(a,f,c){super();const e=a.xa();this.qd=a;this.Ea=e;this.j=a.K();this.Nc=f;this.Sw=null;this.Iga=c[1];this.Ub=!0}static ab(a,f,c){return d.F(d.KN,a,f,c)}Yb(){this.Sw=this.Ea.aO(this.Iga);this.qd.L9(this);let a=this.Ma();for(;a;)a instanceof d.Cl&&a.Vj&&a.D9(this),a=a.Ma();this.nR();this.j.Bb&&this.qd.$j.children.push(this.Sw.$j)}Ma(){return this.Nc}Sd(){return b}Ca(){const a=!!this.Ma(),f=this.j.od;a&&this.Ea.eh(f);this.Sw.Ca();a&&
this.Ea.Xb(f)}*xb(){const a=!!this.Ma(),f=this.j.od;a&&this.Ea.eh(f);yield*this.Sw.xb();a&&this.Ea.Xb(f)}$e(){return!1}nR(){let a=this.Ma();for(;a;){if(a instanceof d.Cl&&a.Vj&&!a.hs()){this.Ub=!1;return}a=a.Ma()}this.Ub=!0}}}
{"use strict";const d=self.D;d.vp=class extends d.ta{constructor(l){super();this.oc=l;this.j=l.K()}Yb(){}static UZ(l,n){return d.F([h,c,e,g,b,a][n[0]],l,n)}};class b extends d.vp{constructor(l,n){super(l);this.Zd=this.j.pv();this.Ua=this.j.Wh(n[1]);this.Ua!==d.m.Da.Sa.random&&this.Ua!==d.m.Da.Sa.EX||this.oc.TG()}M(){return this.Zd.Ik(this.Ua,this.Zd)}}class a extends d.vp{constructor(l,n){super(l);this.xt=null;this.jC=n[1];this.oc.TG()}Yb(){const l=this.j.xa();this.xt=l.Fz(this.jC);this.jC=null;const n=
this.xt.df();this.rm=[...new Set([...this.oc.df().Td(),...n.Td()])];this.rm=l.TA(this.rm)}M(){const l=this.xt;if(l.sg())return d.Cl.prototype.yG.bind(l.df(),this.rm,l.Sm,l.jv());{const n=l.jv();return()=>n}}}function f(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends d.vp{constructor(l,n){super(l);this.R=this.j.Nf(n[1]);this.Ua=this.j.Wh(n[2]);this.rD=!!n[3];this.je=this.j.xa().wd();this.oc.OH(this.R)}M(){return this.R.Tb().Ik(this.Ua,this.R.vk().ra)}$(){const l=this.R,
n=l.ga().bO();var p=n.length;if(0===p)return this.rD?"":0;p=f(this.oc.Vx,p);this.je.Mf().n7(l);return this.Ua.apply(n[p].ra,[])}}class e extends d.vp{constructor(l,n){super(l);this.R=this.j.Nf(n[1]);this.Aha=n[3];this.rD=!!n[2];this.oc.OH(this.R)}ng(){const l=this.R.ga().bO();var n=l.length;if(0===n)return this.rD?"":0;n=f(this.oc.Vx,n);return l[n].iba(this.Aha)}}class h extends d.vp{constructor(l,n){super(l);this.R=this.j.Nf(n[1]);this.Zc=this.R.sz(n[2]);this.Aj=this.R.dv(n[2]);this.Ua=this.j.Wh(n[3]);
this.rD=!!n[4];this.je=this.j.xa().wd();this.oc.OH(this.R)}}class g extends d.vp{constructor(l,n){super(l);this.Ia=null;this.lJ=n[1]}Yb(){this.Ia=this.j.xa().jF(this.lJ)}}}
{"use strict";const d=self.D;d.Rf=class extends d.ta{constructor(t,A,y){super();this.oc=t;this.eb=y;this.La=A;this.ia=null;this.Jb=this.Ff=!1}static ab(t,A,y){const E=A[0];return d.F([a,f,p,e,g,c,l,a,e,e,q,r,p,w,f,n,h,x,v][E],t,E,y,A)}Yb(){}TG(){this.Ff=!0}OH(t){this.Ff||!t||t.Tb().vo||(this.Ff=!0)}Na(){return this.eb}K(){return this.oc.K()}df(){return this.oc.df()}};function b(t){t=self.iZ[t];if(!t)throw Error("invalid expression number");return t}class a extends d.Rf{constructor(t,A,y,E){super(t,
A,y);this.Vx=0;t=E[1];this.nJ=t[0];this.Wt=[];this.bC=null;for(let F=1,H=t.length;F<H;++F)this.Wt.push(d.vp.UZ(this,t[F]));this.Wt.length?this.ia=this.a1:(this.ia=b(this.nJ),this.Jb=!0)}B(t){if(0>t||t>=this.Wt.length)throw new RangeError("invalid numbered node");return this.Wt[t]}Yb(){for(var t of this.Wt)t.Yb();t=b(this.nJ);this.bC=this.Wt.length?t(this):t}a1(t){this.Vx=t;return this.bC()}}class f extends a{constructor(t,A,y,E){super(t,A,y,E);this.ia=this.Q1;14===A&&(this.df().U6(),this.oc instanceof
d.Uy&&this.df().Rv())}Q1(t){this.Vx=t;t=this.bC();return"string"===typeof t?t:""}fba(){return b(this.nJ)()}}class c extends a{constructor(t,A,y,E){super(t,A,y,E);this.ia=this.qa;this.Jb=!1}qa(t){this.Vx=t;t=this.bC();return this.K().Xa().qa(t)}}class e extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.uga=E[1];this.ia=this.R0;this.Jb=!0}R0(){return this.uga}}class h extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.nga=E[1];this.ia=this.O0;this.Jb=!0}O0(){return this.nga}}class g extends d.Rf{constructor(t,
A,y,E){super(t,A,y);this.R=this.K().Nf(E[1]);this.ia=this.L;t=this.df();t.BR(this.R);this.oc instanceof d.Uy?t.Rv():t.Ma()&&t.Ma().Rv();this.Jb=!0}L(){return this.R}}class l extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.Hm=this.K().ib.Wr(E[1]);this.ia=this.Hd;this.Jb=!0}Hd(){return this.Hm}}class n extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.Ro=this.K().Rb.Pz(E[1]);this.ia=this.yc;this.Jb=!0}yc(){return this.Ro}}class p extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.Dga=E[1];this.ia=
this.d1;this.Jb=!0}d1(){return this.Dga}}class q extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.FV=E[1];(t=this.oc.L())&&t.hb?(this.ia=this.b1,this.TG()):(this.ia=this.s1,this.Jb=!0)}s1(){return this.FV}b1(t){t=t||0;const A=this.oc.L();var y=A.ga();const E=y.ua();if(E.length)t=E[t%E.length].L();else if(y.e2())y=y.tc,t=y[t%y.length].L();else if(0<A.J.length)y=A.ua(),t=y[t%y.length].L();else return 0;return this.FV+t.cO(A.Oj)}}class r extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.lJ=E[1];
this.Ia=null;this.ia=this.$0;this.Jb=!0}Yb(){this.Ia=this.K().xa().jF(this.lJ)}$0(){return this.Ia}}class x extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.hV=E[1];this.xt=null;this.ia=this.m1;this.Jb=!0}Yb(){this.xt=this.K().xa().Fz(this.hV);this.hV=null}m1(){return this.xt}}class w extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.uL=[];this.qX=[];this.Jb=!0;for(let F=1,H=E.length;F<H;++F)t=d.Rf.ab(this.oc,E[F],0),this.uL.push(t),this.qX.push(0),t.Jb||(this.Jb=!1);this.ia=this.V1}Yb(){for(const t of this.uL)t.Yb()}V1(){const t=
this.uL,A=this.qX;for(let y=0,E=t.length;y<E;++y)A[y]=t[y].ia(0);return A}}class v extends d.Rf{constructor(t,A,y,E){super(t,A,y);this.zga=E[1];this.ia=this.vn;this.Jb=!0}vn(){return this.zga}}}
{"use strict";const d=self.D;function b(c,e){for(let h=0,g=c.length;h<g;++h)e[h]=c[h].ia(0)}const a=[],f=function(){};d.uN=class extends d.ta{constructor(c,e,h){super();this.ue=c;this.j=c.K();this.eb=h;this.Ua=this.j.Wh(e[1]);this.aK=0<e[3];this.JV=2===e[3];this.BC=!!e[4];this.si=!!e[5];this.ti=!!e[6];this.gb=e[7];this.KV=this.ue.le;this.Zc=this.R=null;this.Aj=-1;this.Zd=null;this.xb=this.Ca=f;this.Va=[];this.Hb=[];this.km=!1;this.Ji=this.Qb=null;this.Za=this.j.Bb?{ud:e[8][0],fg:e[8][1]}:null;-1===
e[0]?this.Zd=this.j.pv():(this.R=this.j.Nf(e[0]),e[2]&&(this.Zc=this.R.sz(e[2]),this.Aj=this.R.dv(e[2])),this.ue.Ma()&&this.ue.Ma().Rv());if(10===e.length){c=e[9];for(let g of c)this.Va.push(d.Rf.ab(this,g,this.Va.length)),this.Hb.push(0)}0===this.Va.length&&(this.Hb=this.Va=a);this.ue.xa().Hda(this)}static ab(c,e,h){return d.F(d.uN,c,e,h)}Yb(){for(const c of this.Va)c.Yb(),c.Ff&&(this.km=!0);this.JV?(this.Ca=this.fea,this.xb=this.aaa):this.Zd?(this.iI(),this.xb=this.rH):this.R.Tb().vo?(this.gI(),
this.xb=this.qH):this.ti?(this.Ca=this.mea,this.xb=this.haa):(this.Ca=this.ET,this.xb=this.baa)}iI(){this.uw(this.Zd,this.Zd,this.aI)}gI(){const c=this.R.Tb(),e=this.R.vk().ra;this.uw(c,e,this.$H)}uw(c,e,h){const g=this.Ua,l=this.si,n=this.Va;if(0===n.length){const p=c.Ik(g,e);this.Ca=l?function(){return d.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.Jb)this.Ca=c.mS(g,e,p.ia(0));else{const q=c.Ik(g,e);this.Ca=function(){return d.xor(q(p.ia(0)),l)}}}else if(2===n.length){const p=n[0],
q=n[1];if(!l&&p.Jb&&q.Jb)this.Ca=c.nS(g,e,p.ia(0),q.ia(0));else{const r=c.Ik(g,e);this.Ca=function(){return d.xor(r(p.ia(0),q.ia(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],r=n[2];if(!l&&p.Jb&&q.Jb&&r.Jb)this.Ca=c.oS(g,e,p.ia(0),q.ia(0),r.ia(0));else{const x=c.Ik(g,e);this.Ca=function(){return d.xor(x(p.ia(0),q.ia(0),r.ia(0)),l)}}}else this.Ca=h}L(){return this.R}Sh(){return this.Zc}df(){return this.ue}K(){return this.j}Na(){return this.eb}YN(){return this.Na()}Lp(){return this.aK}$e(){return!this.Za.ud&&
!this.j.xc()&&!this.Za.fg}Of(){this.Qb||(this.Qb=new Map);return this.Qb}rv(){this.Ji||(this.Ji=new Map);return this.Ji}aI(){const c=this.Hb;b(this.Va,c);return d.xor(this.Ua.apply(this.Zd,c),this.si)}*rH(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){var c=this.Hb;b(this.Va,c);c=this.Ua.apply(this.Zd,c);d.Dn(c)&&(c=yield*c);return d.xor(c,this.si)}return this.Ca()}$H(){const c=this.Hb;b(this.Va,c);const e=this.R.vk().ra;return d.xor(this.Ua.apply(e,c),this.si)}*qH(){if(this.Za.ud||this.j.xc())yield this;
if(this.Za.fg){var c=this.Hb;b(this.Va,c);const e=this.R.vk().ra;c=this.Ua.apply(e,c);d.Dn(c)&&(c=yield*c);return d.xor(c,this.si)}return this.Ca()}fea(){return!0}*aaa(){if(this.Za.ud||this.j.xc())yield this;return!0}mea(){var c=this.Hb;b(this.Va,c);c=this.Ua.apply(this.Zc||this.R,c);this.R.qc();return c}*haa(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){var c=this.Hb;b(this.Va,c);c=this.Ua.apply(this.Zc||this.R,c);d.Dn(c)&&(c=yield*c);this.R.qc();return c}return this.Ca()}ET(){const c=this.Va,
e=this.Hb,h=this.R.ga();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.Ff||(e[g]=n.ia(0))}return h.ic?this.gea(h):this.hea(h)}*baa(){if(this.Za.ud||this.j.xc())yield this;return this.ET()}BH(c){const e=this.Va,h=this.Hb;for(let g=0,l=e.length;g<l;++g){const n=e[g];n.Ff&&(h[g]=n.ia(c))}}gea(c){const e=this.R,h=e.hb,g=e.Oj,l=this.Aj,n=0<=l,p=e.ua(),q=this.km,r=this.Hb,x=this.Ua,w=this.si,v=this.KV&&!this.aK;c.$y();for(let A=0,y=p.length;A<y;++A){const E=p[A];q&&this.BH(A);var t=void 0;n?(t=h?E.L().wp(g):
0,t=x.apply(E.Yc[l+t].ra,r)):t=x.apply(E.ra,r);d.xor(t,w)?c.cq(E):v&&c.ao(E)}e.$u(!0);c.Le(!1);e.qc();return c.HF()}hea(c){const e=this.R;var h=e.hb;const g=e.Oj,l=e.Gc(),n=this.Aj,p=0<=n,q=this.km,r=this.Hb,x=this.Ua,w=this.si,v=this.KV&&!this.aK,t=c.J,A=c.tc,y=v&&!this.ue.C3(this),E=y?A:t;let F=0,H=!1;for(let M=0,P=E.length;M<P;++M){const S=E[M];q&&this.BH(M);var J=void 0;p?(J=h?S.L().wp(g):0,J=x.apply(S.Yc[n+J].ra,r)):J=x.apply(S.ra,r);d.xor(J,w)?(H=!0,y?(t.push(S),l&&S.Dda()):(E[F]=S,l&&S.tfa(F),
++F)):y?(E[F]=S,l&&S.sfa(F),++F):v&&(A.push(S),l&&S.Cda())}d.Ee(E,F);l&&e.Nfa(y,F);h=H;y&&!H&&(H=this.uda(t));e.$u(h||v);return v?H:c.HF()}uda(c){var e=this.R;const h=e.hb;e=e.Oj;const g=this.km,l=this.Aj,n=0<=l,p=this.Hb,q=this.Ua,r=this.si;for(let w=0,v=c.length;w<v;++w){var x=c[w];g&&this.BH(w);if(n){const t=h?x.L().wp(e):0;x=q.apply(x.Yc[l+t].ra,p)}else x=q.apply(x.ra,p);if(d.xor(x,r))return!0}return!1}Fv(c,e){return this.Va[c].ia(e)}c1(){const c=this.Va;if(!c.length)throw Error("no parameters");
return c[0].fba()}ya(){if(!this.Qb||!this.Qb.size)return null;const c={};for(const [e,h]of this.Qb.entries()){let g=h;"collmemory"===e&&(g=[...h.entries()].map(l=>[l[0].Gb,l[1].Gb,l[2]]));c[e]=g}return{ex:c}}Fa(c){this.Qb&&(this.Qb.clear(),this.Qb=null);if(c){var e=this.j,h=c.ex;if(h){c=this.Of();c.clear();for(const [g,l]of Object.entries(h))h=l,"collmemory"===g&&(h=d.F(d.Av,l.map(n=>[e.ef(n[0]),e.ef(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,h)}}}}}
{"use strict";const d=self.D;function b(e,h){for(let g=0,l=e.length;g<l;++g)h[g]=e[g].ia(0)}const a=[],f=function(){},c=function*(){};d.Uy=class extends d.ta{constructor(e,h,g){super();this.ue=e;this.j=e=e.K();this.eb=g;this.gb=4<=h.length?h[3]:-1;this.tB=5<=h.length?h[4]:0;this.Zc=this.R=this.Ua=null;this.Aj=-1;this.Zd=null;this.MB="";this.rm=this.LB=null;this.xb=this.Ca=f;this.Va=[];this.Hb=[];this.km=!1;this.Ji=this.Qb=null;const l=(g=-3===h[0])?h[2]:h[5];this.Za=e.Bb||g?{ud:l[0],fg:l[1],index:l[2]}:
null;-1===h[0]?(this.Zd=e.pv(),this.Ua=e.Wh(h[1])):-2===h[0]?this.MB=h[1]:g?(this.Ua=e.Wh(h[1]),this.Ca=this.zG,this.xb=this.f_,this.tB=1):(this.Ua=e.Wh(h[1]),this.R=e.Nf(h[0]),h[2]&&(this.Zc=this.R.sz(h[2]),this.Aj=this.R.dv(h[2])));if(7===h.length){h=h[6];for(const n of h)this.Va.push(d.Rf.ab(this,n,this.Va.length)),this.Hb.push(0)}0===this.Va.length&&(this.Hb=this.Va=a);this.ue.xa().Gda(this)}static ab(e,h,g){return d.F(d.Uy,e,h,g)}Yb(){for(var e of this.Va)e.Yb(),e.Ff&&(this.km=!0);if(this.Zd)this.iI(),
this.xb=this.rH;else if(this.MB)this.Oea(),this.MB="";else if(this.Ca===this.zG){e=this.Ua;const h=this.j.xa().zS(this.ue);this.Ua=e.bind(null,this.j.Tj,h)}else this.Zc?this.ah()?(this.Ca=this.CT,this.xb=this.Y$):(this.Ca=this.BT,this.xb=this.X$):this.R.Tb().vo?(this.gI(),this.xb=this.qH):this.ah()?(this.Ca=this.GT,this.xb=this.daa):this.Va.length?this.Va.every(h=>h.Ff)?(this.Ca=this.FT,this.xb=this.caa):this.km?(this.Ca=this.IT,this.xb=this.faa):this.Va.every(h=>h.Jb)?(b(this.Va,this.Hb),this.Ca=
this.ZH,this.xb=this.OR):(this.Ca=this.HT,this.xb=this.eaa):(this.Ca=this.ZH,this.xb=this.OR)}iI(){this.uw(this.Zd,this.Zd,this.aI)}gI(){const e=this.R.Tb(),h=this.R.vk().ra;this.uw(e,h,this.$H)}Oea(){const e=this.ue.xa(),h=e.Fz(this.MB);h.sg()?(this.LB=h.df(),this.rm=[...new Set([...this.ue.Td(),...this.LB.Td()])],this.rm=e.TA(this.rm),this.Ca=d.Cl.prototype.K6.bind(this.LB,this.rm,this.Va),this.xb=this.Z$):(this.Ca=f,this.xb=c)}uw(e,h,g){const l=this.Ua,n=this.Va;if(0===n.length)this.Ca=e.Ik(l,
h);else if(1===n.length){const p=n[0];if(p.Jb)this.Ca=e.mS(l,h,p.ia(0));else{const q=e.Ik(l,h);this.Ca=function(){return q(p.ia(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.Jb&&q.Jb)this.Ca=e.nS(l,h,p.ia(0),q.ia(0));else{const r=e.Ik(l,h);this.Ca=function(){return r(p.ia(0),q.ia(0))}}}else if(3===n.length){const p=n[0],q=n[1],r=n[2];if(p.Jb&&q.Jb&&r.Jb)this.Ca=e.oS(l,h,p.ia(0),q.ia(0),r.ia(0));else{const x=e.Ik(l,h);this.Ca=function(){return x(p.ia(0),q.ia(0),r.ia(0))}}}else this.Ca=g}ah(){return 1===
this.tB}mN(){return 2===this.tB}m2(){return 0!==this.tB}L(){return this.R}df(){return this.ue}K(){return this.j}Na(){return this.eb}YN(){return this.Za.index}$e(){return!this.Za.ud&&!this.j.xc()&&!this.Za.fg}Of(){this.Qb||(this.Qb=new Map);return this.Qb}rv(){this.Ji||(this.Ji=new Map);return this.Ji}aI(){const e=this.Hb;b(this.Va,e);return this.Ua.apply(this.Zd,e)}*rH(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){const e=this.Hb;b(this.Va,e);return yield*this.Ua.apply(this.Zd,e)}return this.Ca()}*Z$(){if(this.Za.ud||
this.j.xc())yield this;return yield*this.LB.a_(this.rm,this.Va)}$H(){const e=this.Hb;b(this.Va,e);return this.Ua.apply(this.R.vk().ra,e)}*qH(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){const e=this.Hb;b(this.Va,e);return yield*this.Ua.apply(this.R.vk().ra,e)}return this.Ca()}ZH(){const e=this.Hb,h=this.R.ga().ua();for(let g=0,l=h.length;g<l;++g)this.Ua.apply(h[g].ra,e)}*OR(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){const e=this.Hb,h=this.R.ga().ua();for(let g=0,l=h.length;g<
l;++g)yield*this.Ua.apply(h[g].ra,e)}else this.ZH()}HT(){const e=this.Hb;b(this.Va,e);const h=this.R.ga().ua();for(let g=0,l=h.length;g<l;++g)this.Ua.apply(h[g].ra,e)}*eaa(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){const e=this.Hb;b(this.Va,e);const h=this.R.ga().ua();for(let g=0,l=h.length;g<l;++g)yield*this.Ua.apply(h[g].ra,e)}else this.HT()}FT(){const e=this.Va,h=this.Hb,g=this.Ua,l=this.R.ga().ua();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let r=0,x=e.length;r<x;++r)h[r]=e[r].ia(n);
g.apply(q.ra,h)}}*caa(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){const e=this.Va,h=this.Hb,g=this.Ua,l=this.R.ga().ua();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let r=0,x=e.length;r<x;++r)h[r]=e[r].ia(n);yield*g.apply(q.ra,h)}}else this.FT()}IT(){const e=this.Va,h=this.Hb,g=this.Ua,l=this.R.ga().ua();for(let p=0,q=e.length;p<q;++p){var n=e[p];n.Ff||(h[p]=n.ia(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let r=0,x=e.length;r<x;++r){const w=e[r];w.Ff&&(h[r]=w.ia(p))}g.apply(n.ra,
h)}}*faa(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){const h=this.Va,g=this.Hb,l=this.Ua,n=this.R.ga().ua();for(let p=0,q=h.length;p<q;++p){var e=h[p];e.Ff||(g[p]=e.ia(0))}for(let p=0,q=n.length;p<q;++p){e=n[p];for(let r=0,x=h.length;r<x;++r){const w=h[r];w.Ff&&(g[r]=w.ia(p))}yield*l.apply(e.ra,g)}}else this.IT()}BT(){var e=this.R;const h=e.hb,g=e.Oj,l=this.Va,n=this.km,p=this.Hb,q=this.Ua,r=this.Aj;e=e.ga().ua();for(let v=0,t=l.length;v<t;++v){var x=l[v];x.Ff||(p[v]=x.ia(0))}for(let v=
0,t=e.length;v<t;++v){x=e[v];if(n)for(let A=0,y=l.length;A<y;++A){var w=l[A];w.Ff&&(p[A]=w.ia(v))}w=h?x.L().wp(g):0;q.apply(x.Yc[r+w].ra,p)}}*X$(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){var e=this.R;const l=e.hb,n=e.Oj,p=this.Va,q=this.km,r=this.Hb,x=this.Ua,w=this.Aj;e=e.ga().ua();for(let v=0,t=p.length;v<t;++v){var h=p[v];h.Ff||(r[v]=h.ia(0))}for(let v=0,t=e.length;v<t;++v){h=e[v];if(q)for(let A=0,y=p.length;A<y;++A){var g=p[A];g.Ff&&(r[A]=g.ia(v))}g=l?h.L().wp(n):0;yield*x.apply(h.Yc[w+
g].ra,r)}}else this.BT()}GT(){const e=this.Va,h=this.Hb,g=this.Ua,l=this.R.ga().ua(),n=[];for(let p=0,q=l.length;p<q;++p){const r=l[p];for(let x=0,w=e.length;x<w;++x)h[x]=e[x].ia(p);n.push(g.apply(r.ra,h))}return Promise.all(n)}*daa(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){const e=this.Va,h=this.Hb,g=this.Ua,l=this.R.ga().ua(),n=[];for(let p=0,q=l.length;p<q;++p){const r=l[p];for(let x=0,w=e.length;x<w;++x)h[x]=e[x].ia(p);n.push(yield*g.apply(r.ra,h))}return Promise.all(n)}return this.GT()}CT(){var e=
this.R;const h=e.hb,g=e.Oj,l=this.Va,n=this.Hb,p=this.Ua,q=this.Aj;e=e.ga().ua();const r=[];for(let x=0,w=e.length;x<w;++x){const v=e[x];for(let A=0,y=l.length;A<y;++A)n[A]=l[A].ia(x);const t=h?v.L().wp(g):0;r.push(p.apply(v.Yc[q+t].ra,n))}return Promise.all(r)}*Y$(){if(this.Za.ud||this.j.xc())yield this;if(this.Za.fg){var e=this.R;const h=e.hb,g=e.Oj,l=this.Va,n=this.Hb,p=this.Ua,q=this.Aj;e=e.ga().ua();const r=[];for(let x=0,w=e.length;x<w;++x){const v=e[x];for(let A=0,y=l.length;A<y;++A)n[A]=l[A].ia(x);
const t=h?v.L().wp(g):0;r.push(yield*p.apply(v.Yc[q+t].ra,n))}return Promise.all(r)}return this.CT()}async zG(){try{await this.Ua()}catch(e){console.error(`Unhandled exception running script %c${this.ue.qd.na}, event ${this.ue.mt}, action ${this.YN()+1}:`,"font-size: 1.2em; font-weight: bold;",e),self.mg&&self.mg.gfa(this),d.mz.a2()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline",
"","font-weight: bold"),d.mz.u7())}}*f_(){if(this.Za.ud||this.j.xc())yield this;return this.zG()}ya(){return this.Qb&&this.Qb.size?{ex:d.aH(this.Qb)}:null}Fa(e){this.Qb&&(this.Qb.clear(),this.Qb=null);e&&(e=e.ex)&&(this.Qb=d.YE(e))}}}
{"use strict";const d=self.D,b=new d.pb;function a(L,O){return d.compare(this.C().O(),L,O)}function f(L,O){return d.compare(this.C().P(),L,O)}function c(){const L=this.C();return L.$O(L.qa().de,L.Hd().KO())}function e(){var L=this.C();const O=L.Hd();L=L.Uc();return 0>L.ca||0>L.ba||L.X>O.T()||L.S>O.U()}function h(L,O,W){const aa=this.ga(),fa=aa.ua();if(!fa.length)return!1;let ha=fa[0];var ia=ha.C();let ka=ha,ta=d.JX(ia.O(),ia.P(),O,W);for(let va=1,za=fa.length;va<za;++va)if(ha=fa[va],ia=ha.C(),ia=
d.JX(ia.O(),ia.P(),O,W),0===L&&ia<ta||1===L&&ia>ta)ta=ia,ka=ha;aa.Kn(ka);return!0}function g(L){const O=this.C();O.O()!==L&&(O.Vf(L),O.Aa())}function l(L){const O=this.C();O.P()!==L&&(O.mf(L),O.Aa())}function n(L,O){const W=this.C();W.o0(L,O)||(W.zd(L,O),W.Aa())}function p(L,O){if(L&&(L=L.J1(this.I))){var [W,aa]=L.Kl(O);O=this.C();if(O.O()!==W||O.P()!==aa)O.zd(W,aa),O.Aa()}}function q(L){if(0!==L){var O=this.C();O.Ul(O.eF()*L,O.CF()*L);O.Aa()}}function r(L,O){if(0!==O){var W=this.C();L=d.Ba(L);W.Ul(Math.cos(L)*
O,Math.sin(L)*O);W.Aa()}}function x(){return this.C().O()}function w(){return this.C().P()}function v(){return this.j.Uh(this.I)}function t(L,O){return d.compare(this.C().T(),L,O)}function A(L,O){return d.compare(this.C().U(),L,O)}function y(L){const O=this.C();O.T()!==L&&(O.Je(L),O.Aa())}function E(L){const O=this.C();O.U()!==L&&(O.Uf(L),O.Aa())}function F(L,O){const W=this.C();if(W.T()!==L||W.U()!==O)W.sc(L,O),W.Aa()}function H(){return this.C().T()}function J(){return this.C().U()}function M(){return this.C().Uc().X}
function P(){return this.C().Uc().S}function S(){return this.C().Uc().ca}function T(){return this.C().Uc().ba}function V(L,O){return d.Dr(this.C().pa(),d.Ba(O))<=d.Ba(L)}function ba(L){return d.De(this.C().pa(),d.Ba(L))}function ea(L,O){L=d.Ba(L);O=d.Ba(O);const W=this.C().pa();return d.De(O,L)?d.De(W,L)&&!d.De(W,O):!(!d.De(W,L)&&d.De(W,O))}function X(L){const O=this.C();L=d.td(d.Ba(L));isNaN(L)||O.pa()===L||(O.lc(L),O.Aa())}function na(L){if(!isNaN(L)&&0!==L){var O=this.C();O.lc(O.pa()+d.Ba(L));
O.Aa()}}function ja(L){if(!isNaN(L)&&0!==L){var O=this.C();O.lc(O.pa()-d.Ba(L));O.Aa()}}function xa(L,O){const W=this.C(),aa=W.pa();L=d.UL(aa,d.Ba(O),d.Ba(L));isNaN(L)||aa===L||(W.lc(L),W.Aa())}function Ja(L,O,W){const aa=this.C(),fa=aa.pa();O-=aa.O();W-=aa.P();L=d.UL(fa,Math.atan2(W,O),d.Ba(L));isNaN(L)||fa===L||(aa.lc(L),aa.Aa())}function Va(L,O){const W=this.C(),aa=W.pa();L-=W.O();O-=W.P();O=Math.atan2(O,L);isNaN(O)||aa===O||(W.lc(O),W.Aa())}function Na(){return d.Sc(this.C().pa())}function Wa(L,
O){return d.compare(d.LM(100*this.C().Rd()),L,O)}function Oa(){return this.C().Vd()}function Ca(L){const O=this.C();L=2===L?!O.Vd():0!==L;O.Vd()!==L&&(O.he(L),this.j.aa())}function Aa(L){L=d.fa(L/100,0,1);const O=this.C();O.Rd()!==L&&(O.kf(L),this.j.aa())}function Ka(L){b.Py(L);L=this.C();L.Db.ip(b)||(L.$Q(b),this.j.aa())}function Ha(){const L=this.C().Db;return d.qA(L.lb,L.Qa,L.kb,L.fb)}function Xa(){return d.LM(100*this.C().Rd())}function Ya(L){return L?this.C().qa()===L:!1}function Za(L){const O=
this.ga(),W=O.ua();if(!W.length)return!1;let aa=W[0];for(let fa=1,ha=W.length;fa<ha;++fa){const ia=W[fa],ka=ia.C(),ta=aa.C(),va=ka.qa().Na(),za=ta.qa().Na();if(0===L){if(va>za||va===za&&ka.Zh()>ta.Zh())aa=ia}else if(va<za||va===za&&ka.Zh()<ta.Zh())aa=ia}O.Kn(aa);return!0}function La(L,O,W){const aa=this.C();L=0===L?aa.qb():aa.Yh();return d.compare(L,O,W)}function $a(){this.C().z9()}function ab(){this.C().x9()}function bb(L){L&&this.C().y9(L)}function cb(L,O){L=0===L;O&&(O=O.Vg(this.Oa()))&&this.C().w9(O,
L)}function db(L){const O=this.C();O.qb()!==L&&(O.nf(L),this.j.aa())}function eb(){return this.C().qa().Na()}function fb(){return this.C().qa().na}function Ma(){return this.C().Zh()}function gb(){return this.C().qb()}function hb(){return this.C().Yh()}function ib(L,O){if(O=this.L().$a.Il(O)){O=O.Na();L=1===L;var W=this.C().Pe;W.yv(O)!==L&&(W.HQ(O,L),W.Yn(),this.j.aa())}}function jb(L,O,W){var aa=this.L().$a.Il(L);if(aa){L=aa.Na();var fa=this.C().Pe,ha=fa.Ug(L);O=Math.floor(O);if(!(0>O||O>=ha.length)){aa=
aa.tb.Jz(O);if("color"===aa){b.Py(W);O=ha[O];if(b.ip(O))return;O.hn(b)}else{"percent"===aa&&(W/=100);if(ha[O]===W)return;ha[O]=W}fa.yv(L)&&this.j.aa()}}}function kb(){return this.C().xk()}function lb(){return this.C().Qf()}function mb(L,O){const W=this.ga().ua();if(0===W.length)return!1;const aa=L.ga();var fa=aa.ua();if(0===fa.length)return!1;fa=new Set(fa);const ha=new Set;for(let ka=0,ta=W.length;ka<ta;++ka){var ia=W[ka];if(1===O)for(const va of ia.Jy())va.Or(L)&&fa.has(va)&&ha.add(va);else{if(0===
O){if(ia=ia.Ma(),null===ia)continue}else ia=ia.Qz();ia.Or(L)&&fa.has(ia)&&ha.add(ia)}}if(0===ha.size)return!1;aa.Qv(ha);L.qc();return!0}function nb(L,O){const W=this.ga().ua();if(0===W.length)return!1;const aa=L.ga();var fa=aa.ua();if(aa.ic){var ha=[...this.j.jM(L)];0<ha.length&&(fa=fa.concat(ha))}if(0===fa.length)return!1;fa=new Set(fa);ha=new Set;for(let ia=0,ka=W.length;ia<ka;++ia){const ta=W[ia];2===O&&!ta.Qf()&&ta.Or(L)&&fa.has(ta)&&ha.add(ta);for(const va of 0===O?ta.children():ta.cp())2===
O&&va.Qf()||va.Or(L)&&fa.has(va)&&ha.add(va)}if(0===ha.size)return!1;aa.Qv(ha);L.qc();return!0}function ob(L,O){const W=this.ga().ua();if(0===W.length)return!1;const aa=L.ga();var fa=aa.ua();if(aa.ic){var ha=[...this.j.jM(L)];0<ha.length&&(fa=fa.concat(ha))}if(0===fa.length)return!1;fa=new Set(fa);ha=[];for(let ia=0,ka=W.length;ia<ka;++ia){const ta=W[ia].dF(O);null!==ta&&ta.Or(L)&&fa.has(ta)&&ha.push(ta)}if(0===ha.length)return!1;aa.Gv(ha);L.qc();return!0}function pb(L,O){return d.compare(this.I.xz(),
L,O)}function qb(L,O,W,aa,fa,ha,ia,ka){const ta=this.I,va=this.j.gv().L();for(const za of L.xX(ta,va)){if(!za.Tb().eX)break;ta.rn(za,{Iu:O,Ju:W,Lr:aa,Kr:fa,Hu:ha,Ku:ia,yy:ka})}}function rb(L){const O=this.I,W=this.j.gv().L();for(const aa of L.xX(O,W))O.Ak(aa)}function oa(){this.I.xk()&&this.I.Ma().Ak(this.I)}function ya(){return this.I.xz()}function vb(L,O){L=Math.floor(L);O=Math.floor(O);const W=this.C();2>L||2>O||!isFinite(L)||!isFinite(O)?(W.uA(),W.Aa()):W.QE(L,O)}function wb(L,O,W,aa,fa,ha,ia,
ka){const ta=this.C();ta.QQ(L,O,{mode:0===W?"absolute":"relative",x:aa,y:fa,Ty:ha,uY:ia,vY:ka})&&ta.Aa()}function xb(){const L=this.C();return L.rg()?L.wk().Uk:0}function yb(){const L=this.C();return L.rg()?L.wk().nl:0}function zb(L){const O=this.C();L=2===L?!O.Vd():0!==L;O.Vd()!==L&&O.he(L)}function Ab(L,O){this.l7(L,O)}function Pa(L,O){this.k7(L,""+O)}function Qa(L){this.q6(L)}function Ra(){this.PN()}function Sa(){this.gN()}function Ia(){return this.iJ}function k(L){this.oh(0!==L)}function m(){return this.V}
function u(L,O,W){return d.compare(this.Oa().ff(L),O,W)}function z(L){return!!this.Oa().ff(L)}function B(L,O){const W=this.ga(),aa=W.ua();if(!aa.length)return!1;let fa=aa[0],ha=fa,ia=fa.ff(O);for(let ka=1,ta=aa.length;ka<ta;++ka){fa=aa[ka];const va=fa.ff(O);if(0===L&&va<ia||1===L&&va>ia)ia=va,ha=fa}W.Kn(ha);return!0}function C(L){if(this.j.Kf().si){{const aa=this.ga();if(aa.ic){aa.Le(!1);aa.$y();var O=this.ua();for(let fa=0,ha=O.length;fa<ha;++fa){var W=O[fa];W.Gb===L?aa.ao(W):aa.cq(W)}this.qc();
L=!!aa.J.length}else{O=aa.J;W=0;for(let fa=0,ha=O.length;fa<ha;++fa){const ia=O[fa];O[W]=ia;ia.Gb===L?aa.ao(ia):++W}d.Ee(O,W);this.qc();L=!!O.length}}}else L=G(this,L);return L}function G(L,O){O=L.K().ef(O);if(!O)return!1;const W=L.ga();if(!W.ic&&!W.J.includes(O))return!1;if(L.hb){if(O.L().FE(L))return W.Kn(O),L.qc(),!0}else if(O.L()===L)return W.Kn(O),L.qc(),!0;return!1}function I(){this.j.tn(this.I)}function K(){return!0}function N(){return!0}function Q(L,O){this.Oa().Sn(L,O)}function R(L,O){const W=
this.Oa(),aa=W.ff(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());W.Sn(L,aa+O)}function Y(L,O){const W=this.Oa(),aa=W.ff(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),W.Sn(L,aa-O))}function U(L,O){this.Oa().Sn(L,O?1:0)}function da(L){const O=this.Oa();O.Sn(L,0===O.ff(L)?1:0)}function ca(L){let O;try{O=JSON.parse(L)}catch(W){console.error("Failed to load from JSON string: ",W);return}L=this.Oa();L.Ts("state");
L.rc(O,"state")}function Z(){return JSON.stringify(this.Oa().Ac("state"))}function sa(){return this.Oa().L().na}function ma(){const L=this.j.Lf().oJ;let O=L.J.length;for(const W of this.j.jM(L))++O;return O}function qa(){return this.j.Lf().oJ.ga().ua().length}function ra(){return this.I.xp()}function pa(){return this.I.Gb}d.CY=function(L,O){const W=L[1],aa=L[4],fa=L[5],ha=L[6],ia=L[7],ka=L[8],ta=L[10],va=L[11],za=L[12],Yb=L[13],Zb=L[14],ua=O.G,la=O.oa;O=O.Sa;L[3]&&(ua.zma=a,ua.Ama=f,ua.spa=c,ua.upa=
e,ua.Zqa=h,la.Vf=g,la.mf=l,la.JG=n,la.O7=p,la.hqa=q,la.x4=r,O.Xv=x,O.Ks=w,O.LX=v);aa&&(ua.yma=t,ua.hma=A,la.Je=y,la.Uf=E,la.sc=F,O.s9=H,O.KF=J,O.cla=M,O.ela=P,O.dla=S,O.bla=T);fa&&(ua.TY=V,ua.x3=ba,ua.v3=ea,la.lc=X,la.Rsa=na,la.Ssa=ja,la.Tsa=xa,la.Usa=Ja,la.Y7=Va,O.SY=Na);ha&&(ua.Vd=Oa,ua.mma=Wa,la.he=Ca,la.kf=Aa,la.Bta=Ka,O.Opacity=Xa,O.bma=Ha);ia&&(ua.qpa=Ya,ua.hra=Za,ua.Bma=La,la.iqa=$a,la.z4=ab,la.A4=bb,la.Hwa=cb,la.nf=db,O.Mpa=eb,O.eG=fb,O.Gwa=Ma,O.Fwa=gb,O.Lva=hb);ka&&(la.Eta=ib,la.Fta=jb);
Yb&&(ua.xk=kb,ua.Qf=lb,ua.fra=mb,ua.Yqa=nb,ua.cra=ob,ua.gma=pb,la.rn=qb,la.Ak=rb,la.Vra=oa,O.Tla=ya);Zb&&(la.uua=vb,la.QQ=wb,O.dqa=xb,O.eqa=yb);ta&&(ua.Vd=Oa,la.he=zb,la.wta=Ab,la.Ita=Pa,la.Ura=Qa);va&&(ua.epa=Ia,la.Nta=Ra,la.sta=Sa);za&&(ua.sg=m,la.Iv=k);W||(ua.tN=u,ua.RO=z,ua.$qa=B,ua.Xqa=C,la.z7=Q,la.oka=R,la.nva=Y,la.yQ=U,la.Hva=da,ua.Y4=K,ua.AP=N,la.EN=I,la.fG||(la.fG=ca),O.aZ||(O.aZ=Z),O.QZ=ma,O.ira=qa,O.yoa=ra,O.Vva=pa,O.tqa=sa)}}
{"use strict";const d=self.D;d.AG=class extends d.ta{constructor(b){super();this.Ea=b;this.La="";this.hd=-1;this.Tx="";this.HC=!1;this.Mj=null;this.yg=0;this.Bf=[];this.jr=new Map;this.pm=null;this.yw=-1;this.uJ=this.xh=null;this.Sx=!1}A(){this.La="";this.hd=-1;this.Tx="";this.uJ=this.xh=this.pm=this.Mj=null;this.yw=-1;d.H(this.Bf);for(const b of this.jr.values())b.A();this.jr.clear()}tj(){var b=this.Ea,a=b.K().od;const f=b.Lf();this.Mj=f.Sb();this.yg=f.yg+1;if(b=b.XE(this.Mj))this.pm=b,this.xh=b.qZ(),
this.uJ=b.IJ.map(c=>c.wa()),b.ah()&&(this.yw=b.Q5());for(const c of a)if(a=c.ga(),!a.ic||this.Mj.o2(c))this.Bf.push(c),this.jr.set(c,d.F(d.dR,a))}o3(b){this.La="timer";this.tj();this.hd=this.Ea.K().Wg()+b}m3(b){this.La="signal";this.tj();this.Tx=b.toLowerCase()}a3(b){this.La="promise";this.tj();b.then(()=>this.LG()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.LG()})}S3(){return"timer"===this.La}P3(){return"signal"===this.La}L3(){return"promise"===
this.La}LG(){this.HC=!0}kU(){return this.S3()?this.hd<=this.Ea.K().Wg():this.HC}AT(b){b.YH(this.Mj,this.yg);for(const [a,f]of this.jr.entries())f.YH(a.ga());if(b=this.pm)b.Kv(this.xh),b.IJ.map((a,f)=>a.jh(this.uJ[f])),b.ah()&&b.J6(this.yw)}cea(b){this.AT(b);this.Mj.bea(b);this.pm&&this.pm.ah()&&this.pm.zv(this.yw);this.Ea.Pr(this.Bf);this.Sx=!0}async U$(b){this.AT(b);for(const a of this.Mj.T$(b))await this.Ea.K().Rr(a);this.pm&&this.pm.ah()&&this.pm.zv(this.yw);this.Ea.Pr(this.Bf);this.Sx=!0}Qp(b){for(const a of this.jr.values())a.Qp(b)}ya(){const b=
{},a={t:this.hd,st:this.Tx,s:this.HC,ev:this.Mj.gb,sm:this.Bf.map(f=>f.gb),sols:b};this.Mj.wba(this.yg)&&(a.act=this.Mj.QN(this.yg).gb);for(const [f,c]of this.jr)b[f.gb.toString()]=c.ya();return a}static u$(b,a){const f=b.K();var c=b.Y0(a.ev);if(!c)return null;let e=0;if(a.hasOwnProperty("act")){var h=b.G0(a.act);if(!h)return null;e=h.Na()}h=d.F(d.AG,b);h.hd=a.t;h.La=-1===h.hd?"signal":"timer";h.Tx=a.st;h.HC=a.s;h.Mj=c;h.yg=e;for(var g of a.sm)(c=f.Iz(g))&&h.Bf.push(c);for(const [l,n]of Object.entries(a.sols))if(a=
f.Iz(parseInt(l,10)))g=d.F(d.dR,null),g.Fa(b,n),h.jr.set(a,g);return h}}}{"use strict";const d=self.D;d.dR=class extends d.ta{constructor(b){super();this.R=null;this.GC=!0;this.J=[];b&&(this.R=b.L(),this.GC=b.ic,d.Qd(this.J,b.J))}A(){this.R=null;d.H(this.J)}YH(b){b.Le(this.GC);d.Qd(b.J,this.J)}Qp(b){d.Mh(this.J,b)}ya(){return{sa:this.GC,insts:this.J.map(b=>b.Gb)}}Fa(b,a){b=b.K();this.GC=!!a.sa;d.H(this.J);for(const f of a.insts)(a=b.ef(f))&&this.J.push(a)}}}
{"use strict";const d=self.D;function b(a,f){let c=a.get(f);c||(c=new Map,a.set(f,c));return c}d.kj=class extends d.ta{constructor(a){super();this.j=a.Rc;this.vo=!!a.TX;this.Xf=!!a.Hia;this.Tga=!!a.Gia;this.cha=!!a.Yia;this.Fga=!!a.tia;this.eX=!!a.yja;this.vha=!!a.xja;this.VW=null;this.IU=new Map;this.oga=new Map;this.pga=new Map;this.qga=new Map}A(){this.j=null}K(){return this.j}cc(){}ls(){return this.Tga}Jn(){return this.cha}IF(){return this.Fga}Ik(a,f){if(!f)throw Error("missing 'this' binding");
let c=this.IU.get(a);if(c)return c;c=a.bind(f);this.IU.set(a,c);return c}mS(a,f,c){if(!f)throw Error("missing 'this' binding");const e=b(this.oga,a);let h=e.get(c);if(h)return h;h=a.bind(f,c);e.set(c,h);return h}nS(a,f,c,e){if(!f)throw Error("missing 'this' binding");var h=b(this.pga,a);h=b(h,c);let g=h.get(e);if(g)return g;g=a.bind(f,c,e);h.set(e,g);return g}oS(a,f,c,e,h){if(!f)throw Error("missing 'this' binding");var g=b(this.qga,a);g=b(g,c);g=b(g,e);let l=g.get(h);if(l)return l;l=a.bind(f,c,e,
h);g.set(h,l);return l}ufa(a){if(!this.vo)throw Error("must be single-global plugin");this.VW=a}vk(){if(!this.vo)throw Error("must be single-global plugin");return this.VW.vk()}}}
{"use strict";const d=self.D;d.Xsa=class extends d.kj{constructor(b,a){super(b);this.oo=a;this.gha=0;this.JJ=new Map;this.ZM("elem-focused",f=>f.Uca());this.ZM("elem-blurred",f=>{f&&f.Tca()})}A(){super.A()}F9(b){const a=this.gha++;this.JJ.set(a,b);return a}Sda(b){this.JJ.delete(b)}ZM(b,a){this.j.Si(this.oo,b,f=>{const c=this.JJ.get(f.elementId);a(c,f)})}}}{"use strict";const d=self.D;d.Yl=class extends d.ta{constructor(b){super();this.R=b;this.j=b.K();this.yi=b.Tb()}A(){this.yi=this.j=this.R=null}L(){return this.R}K(){return this.j}Tb(){return this.yi}kd(){return this.R.kd()}$u(){}Np(){}Nn(){}oA(){}nG(){}Pf(){return null}}}
{"use strict";const d=self.D;d.Pn=class extends d.ta{constructor(b,a){super();this.I=b;this.oo=a;this.j=b.K();this.R=this.I.L();this.mb=this.R.mb;this.ku=this.Xm=null;this.hx=this.Fm=!1;this.Cd=null;this.uy=!1}A(){this.uy=!0;this.im();this.mI();this.ku=this.Xm=null;this.Cd&&(this.Cd.A(),this.Cd=null);this.mb=this.R=this.j=this.I=null}Js(){return this.uy}Oa(){return this.I}K(){return this.j}L(){return this.R}Tb(){return this.mb.Tb()}Oz(){return this.I.Vh()}la(b){return this.j.la(b,this.I,null)}Tu(b){return this.j.Tu(b,
this.I,null)}jb(b){return this.j.jb(b,this.I,null)}Ck(b){return this.j.Ck(b)}yE(b,a){this.j.Si(this.oo,b,a)}YM(b){for(const [a,f]of b)this.yE(a,f)}cb(b,a){this.j.Wl(this.oo,b,a)}zk(b,a){return this.j.Op(this.oo,b,a)}gm(b,a){this.j.Se?this.cb(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.oo,handler:b,data:a,responseId:null})}Ad(){}te(){this.Fm||(this.Xm||(this.Xm=()=>this.Ad()),this.j.Kb().addEventListener("tick",this.Xm),this.Fm=!0)}im(){this.Fm&&(this.j.Kb().removeEventListener("tick",
this.Xm),this.Fm=!1)}mI(){this.hx&&(this.j.Kb().removeEventListener("tick2",this.ku),this.hx=!1)}Ac(){return null}rc(){}$b(){}Ie(){}iG(b,a){if(0!==a){var f=this.$b(b);if("number"!==typeof f)throw Error("expected number");this.Ie(b,f+a)}}Pf(){return null}}}
{"use strict";const d=self.D;d.vA=class extends d.Pn{constructor(b,a){super(b,a);this.wb=b.C();this.SD=this.su=null}A(){if(this.su){const b=this.j.Kb();b.removeEventListener("webglcontextlost",this.su);b.removeEventListener("webglcontextrestored",this.SD);this.SD=this.su=null}this.wb=null;super.A()}b2(){if(!this.su){this.su=()=>this.ps();this.SD=()=>this.UP();var b=this.j.Kb();b.addEventListener("webglcontextlost",this.su);b.addEventListener("webglcontextrestored",this.SD)}}ps(){}UP(){}C(){return this.wb}Fn(){return!1}rk(){if(!this.Fn())throw Error("original size not known");
const b=this.ee();if(b)return b.T()}qk(){if(!this.Fn())throw Error("original size not known");const b=this.ee();if(b)return b.U()}ee(){return null}zz(){var b=this.ee();return b&&(b=b.Ud())?[b.T(),b.U()]:[100,100]}Az(){const b=this.ee();return b?b.Xh():null}Kl(){const b=this.I.C();return[b.O(),b.P()]}}}
{"use strict";const d=self.D,b=d.F(d.Rect);d.Wsa=class extends d.vA{constructor(a,f){super(a,f);this.YB=this.Tb().F9(this);this.IV=!0;this.kga=this.iJ=!1;this.Mt=d.F(d.Rect,0,0,-1,-1);a=this.j.ea;this.ZV=a.sl;this.YV=a.rl;this.te()}A(){this.Tb().Sda(this.YB);this.qs("destroy");this.YB=-1;super.A()}qs(a,f){f||(f={});f.elementId=this.YB;this.cb(a,f)}pT(a){a||(a={});a.elementId=this.YB;this.gm("focus",a)}DA(a){a=!!a;this.IV!==a&&(this.IV=a,this.qs("set-visible",{isVisible:a}))}Ad(){this.Tfa()}Afa(){const a=
this.j.ea.Ez();return"Android"===d.md.os&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}Tfa(){var a=this.C();const f=a.qa();var c=a.O(),e=a.P();let [h,g]=f.Mp(c,e),[l,n]=f.Mp(c+a.T(),e+a.U());c=this.j.ea;e=c.Bd;const p=c.pd;if(a.Vd()&&f.Vd()){if(!this.Afa()){if(0>=l||0>=n||h>=e||g>=p){this.DA(!1);return}1>h&&(h=1);1>g&&(g=1);l>=e&&(l=e-1);n>=p&&(n=p-1)}b.set(h,g,l,n);a=c.sl;e=c.rl;b.jd(this.Mt)&&this.ZV===a&&this.YV===e?this.DA(!0):(this.Mt.Ka(b),this.ZV=a,this.YV=e,this.DA(!0),a=null,this.kga&&
(a=f.Hl()-.2),this.qs("update-position",{left:Math.round(this.Mt.X)+c.El(),top:Math.round(this.Mt.S)+c.Fl(),width:Math.round(this.Mt.width()),height:Math.round(this.Mt.height()),fontSize:a}))}else this.DA(!1)}PN(){this.pT({focus:!0})}gN(){this.pT({focus:!1})}Uca(){this.iJ=!0}Tca(){this.iJ=!1}l7(a,f){this.qs("set-css-style",{prop:d.kZ(a),val:f})}k7(a,f){this.qs("set-attribute",{name:a,val:f})}q6(a){this.qs("remove-attribute",{name:a})}}}
{"use strict";const d=self.D,b=self.LO;d.ts=class extends d.ta{constructor(a){super();this.j=a.Rc;this.BK=d.F(d.DE);this.bD=d.F(d.DE);this.Ow=null;this.rha=a.rja||null}A(){this.bD.A();this.BK.A();this.j=null}K(){return this.j}cc(){}G9(a){this.BK.wc(a)}vF(){return this.BK.$E()}ei(a){this.bD.wc(a)}bo(a){this.bD.tp(a)}ua(){return this.bD.$E()}n1(){if(null===this.Ow){const a=this.rha;if(a){if(this.Ow=new a(this),!(this.Ow instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.Ow=new b(this)}return this.Ow}}}{"use strict";const d=self.D;d.vs=class extends d.ta{constructor(b){super();this.j=b.K();this.Zc=b;this.R=b.L();this.zj=b.bf();this.zj.G9(this.R)}A(){this.zj=this.R=this.Zc=this.j=null}Sh(){return this.Zc}L(){return this.R}K(){return this.j}bf(){return this.zj}}}
{"use strict";const d=self.D;d.us=class extends d.ta{constructor(b,a){super();this.IB=b;this.oo=a;this.I=b.I;this.j=b.K();this.Zc=b.Sh();this.mb=this.Zc.mb;this.EC=this.hx=this.Fm=!1;this.Cd=null}A(){this.im();this.mI();this.lI();this.Cd&&(this.Cd.A(),this.Cd=null);this.mb=this.Zc=this.j=this.I=this.IB=null}bf(){return this.Zc.bf()}L(){return this.I.L()}C(){return this.I.C()}K(){return this.j}Sh(){return this.Zc}Oz(){return this.IB.Oz()}la(b){return this.j.la(b,this.I,this.Zc)}Tu(b){return this.j.Tu(b,
this.I,this.Zc)}jb(b){return this.j.jb(b,this.I,this.Zc)}rA(){}Ad(){}mG(){}te(){this.Fm||(this.j.B9(this),this.Fm=!0)}im(){this.Fm&&(this.j.Pda(this),this.Fm=!1)}mI(){this.hx&&(this.j.Qda(this),this.hx=!1)}kI(){this.EC||(this.j.A9(this),this.EC=!0)}lI(){this.EC&&(this.j.Oda(this),this.EC=!1)}yE(b,a){this.j.Si(this.oo,b,a)}Ac(){return null}rc(){}$b(){}Ie(){}iG(b,a){if(0!==a){var f=this.$b(b);if("number"!==typeof f)throw Error("expected number");this.Ie(b,f+a)}}Pf(){return null}}}
{"use strict";const d=self.D;d.m={};d.N={};d.S5=class extends d.ta{constructor(b){super();this.j=b;this.jga=[];this.vW=new Map;this.Zd=null;this.gga=[];this.NI=new Map;this.QV=this.kL=null}VZ(b){const a=this.j.Wh(b[0]);if(!a)throw Error("missing plugin");d.CY(b,a);b=d.F(a,{Rc:this.j,TX:b[1],Hia:b[2],Gia:b[5],tia:b[8],Yia:b[9],yja:b[13],xja:b[14]});b.cc();this.jga.push(b);this.vW.set(a,b)}XZ(){this.Zd=d.F(d.m.Da,{Rc:this.j,TX:!0});this.Zd.cc()}RZ(b){b=this.j.Wh(b[1]);if(!b)throw Error("missing behavior");
const a=d.F(b,{Rc:this.j});a.cc();this.gga.push(a);this.NI.set(b,a);!this.kL&&d.N.vja&&a instanceof d.N.vja?this.kL=a:!this.QV&&d.N.Jia&&a instanceof d.N.Jia&&(this.QV=a)}L1(b){return this.vW.get(b)||null}h2(b){return this.NI.has(b)}L0(b){return this.NI.get(b)||null}pv(){return this.Zd}DF(){return this.kL}}}
{"use strict";const d=self.D,b=new Set;d.xv=class extends d.ta{constructor(){super();this.Ki="";this.W=this.Z=this.Wq=this.Vq=this.Eh=this.ir=0;this.zt=!1;this.wf=null;this.Vm="";this.bk=d.F(d.Rect);b.add(this)}A(){this.fh();this.wf=null;b.delete(this)}static ps(){for(const a of b)a.Vm="",a.bk.set(0,0,0,0)}h4(a){this.Ki=a[0];this.ir=a[1];this.Eh=a[2];this.Vq=a[3];this.Wq=a[4];this.Z=a[5];this.W=a[6];this.zt=!0}g4(a){this.Ki=a[0];this.ir=a[1];this.Vq=a[2];this.Wq=a[3];this.Z=a[4];this.W=a[5];this.Eh=
a[11];this.zt=!0}jP(a,f){if(this.wf)throw Error("already loaded asset");this.Ki=f;const c={};d.RF(f)&&(c.Gy="remote");this.lA(a,c);return this.wf.iP()}z6(a){if(a===this)throw Error("cannot replace with self");this.fh();this.Ki=a.Ki;this.ir=a.ir;this.Eh=a.Eh;this.Vq=a.Vq;this.Wq=a.Wq;this.Z=a.Z;this.W=a.W;this.zt=a.zt;this.wf=a.wf;this.Vm=a.Vm;this.bk=a.bk}zn(){return this.ir}T(){return this.Z}U(){return this.W}lA(a,f){if(this.wf)throw Error("already got asset");f=Object.assign({},f,{url:this.Ki,size:this.zn()});
this.wf=a.mA(f)}cA(){return this.wf&&this.wf.cA()}async In(a,f){if(!this.wf)throw Error("no asset");if(this.Vm)throw Error("already loaded texture");this.Vm="loading";a=await this.wf.In(a,f);if(!a)return this.Vm="",null;this.Vm="loaded";this.zt||(this.Z=a.T(),this.W=a.U(),this.zt=!0);this.bk.set(this.Vq,this.Wq,this.Vq+this.Z,this.Wq+this.W);this.bk.wl(a.T(),a.U());return a}fh(){this.Vm&&(this.wf&&this.wf.fh(),this.Vm="",this.bk.set(0,0,0,0))}Ud(){return this.wf?this.wf.Ud():null}Xh(){return this.bk}async w0(){const a=
await this.wf.m4(),f=d.Qg(this.Z,this.W);f.getContext("2d").drawImage(a,this.Vq,this.Wq,this.Z,this.W,0,0,this.Z,this.W);return f}}}
{"use strict";const d=self.D;d.VY=class extends d.ta{constructor(b){super();this.na=b[0];this.Xx=b[1];this.BC=!!b[2];this.du=b[3];this.KW=b[4];this.Sga=!!b[5];this.gb=b[6];this.ke=b[7].map(a=>d.F(d.UY,a))}A(){for(const b of this.ke)b.A();d.H(this.ke)}e4(b){for(const a of this.ke)a.kd().lA(b)}f4(b,a){return Promise.all(this.ke.map(f=>f.kd().In(b,a)))}n6(){for(const b of this.ke)b.kd().fh()}wn(b){b=Math.floor(b);if(0>b||b>=this.ke.length)throw new RangeError("invalid frame");return this.ke[b]}Nl(){return this.Xx}yn(){return this.du}}}
{"use strict";const d=self.D;d.UY=class extends d.ta{constructor(b){super();this.Dg=d.F(d.xv);this.Dg.g4(b);this.WU=b[6];this.sW=d.F(d.Uv,b[7],b[8]);this.oC=b[9].map(a=>d.F(d.K2,this,a));this.AV=new Map;for(const a of this.oC)this.AV.set(a.na.toLowerCase(),a);this.qq=null;b=b[10];6<=b.length&&(this.qq=d.F(d.sp,b))}A(){this.qq&&(this.qq.A(),this.qq=null);this.Dg.A();this.Dg=null}kd(){return this.Dg}nk(){return this.sW.da}pk(){return this.sW.Y}p1(b){return this.AV.get(b.toLowerCase())||null}o1(b){b=
Math.floor(b);return 0>b||b>=this.oC.length?null:this.oC[b]}pF(){return this.oC.length}}}{"use strict";const d=self.D;d.K2=class extends d.ta{constructor(b,a){super();this.na=a[0];this.TK=d.F(d.Uv,a[1],a[2])}A(){}O(){return this.TK.da}P(){return this.TK.Y}Ep(){return this.TK}}}
{"use strict";const d=self.D,b=self.mg,a=self.vv;d.hG=class extends d.ta{constructor(f,c,e){super();const h=f.Wh(e[1]);this.j=f;this.yi=f.Ko.L1(h);this.mb=null;this.sC=h.Instance;this.eb=c;this.gb=e[11];this.na=e[0];this.mx=this.j.cj(e[14]);this.Pga=!!e[9];this.hb=!!e[2];this.YJ=!!e[10];this.Uj=e[3].map(g=>({lY:g[0],type:g[1],name:g[2],Iia:f.cj(g[3])}));this.mga=e[4];this.Aga=e[5];this.Xf=this.yi.Xf;this.$a=null;this.PB=d.F(d.A8,f.Dh,f.Ch);this.FI=!0;this.GI=!1;this.rJ=this.qo=null;this.Oj=-1;this.qJ=
this.cC=this.dC=this.pJ=this.pi=null;this.SJ=!1;this.Fj=null;this.GU=e[8].map(g=>d.dN.ab(this,g));this.JB=[];this.OI=new Map;this.MI=new Map;this.nX=new Set;this.Oo=d.F(d.x8,this);this.BB=this.AB=this.ie=this.Dg=this.Fj=this.kt=null;this.ju=0;this.Qb=new Map;this.Ji=new Map;this.J=[];this.FJ=!0;this.yi.IF()&&(this.$a=d.F(d.Bl,this,e[12]));e[6]&&(this.Dg=d.F(d.xv),this.Dg.h4(e[6]));if(e[7]){this.ie=e[7].map(g=>d.F(d.VY,g));this.AB=new Map;this.BB=new Map;for(const g of this.ie)this.AB.set(g.na.toLowerCase(),
g),this.BB.set(g.gb,g)}this.hb?(this.qo=[],this.rJ=new Set,this.Oj=this.j.lba()):(this.pi=[],this.pJ=new Set,this.dC=[],this.cC=[],this.qJ=[]);this.mb=d.F(h.Ke,this,e[15]);this.GV=this.Qw=null;this.Ce=d.F(d.Event.Kb);if(c=this.mb.Pf()){if(this.Qw=new c(this),!(this.Qw instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.Qw=new a(this);this.j.QD&&!this.hb&&!this.YJ&&this.Xf||this.cc();this.yi.vo&&(this.yi.ufa(this),this.H$(e))}static ab(f,c,e){return d.F(d.hG,
f,c,e)}A(){this.Dg&&(this.Dg.A(),this.Dg=null);if(this.ie){for(const f of this.ie)f.A();d.H(this.ie);this.AB.clear();this.BB.clear()}this.Oo.A();this.Oo=null;this.Qb.clear();this.Ji.clear();this.j=this.Fj=null}fca(f){for(let c=1,e=f.length;c<e;++c){const h=this.j.Nf(f[c]);this.qo.push(h);this.rJ.add(h);h.pi.push(this);h.pJ.add(this)}}Qea(f){this.SJ=!0;this.Fj=f}Gc(){return this.SJ}Lca(){var f=0;if(!this.hb)for(var c of this.pi)for(var e of c.GU){const l=e.na.toLowerCase();this.OI.set(l,e);this.MI.set(l,
f);this.JB.push(e);++f}for(var h of this.GU)c=h.na.toLowerCase(),this.OI.set(c,h),this.MI.set(c,f),this.JB.push(h),++f;for(var g of this.JB)this.nX.add(g.bf().constructor);if(!this.hb&&this.pi.length){f=this.j.bV;d.$D(this.dC,f,0);d.$D(this.cC,f,0);d.$D(this.qJ,f,0);f=[];c=g=h=0;for(const l of this.pi)if(e=l.Oj,this.dC[e]=h,h+=l.Uj.length,this.cC[e]=g,g+=l.mga,this.qJ[e]=c,c+=l.Aga,(e=l.$a)&&this.$a)for(const n of e.Tg())f.push(n.AZ(this.$a));this.$a&&this.$a.Z5(f)}}H$(f){const c=this.j.kba(),e=d.F(d.Instance,
{Rc:this.j,wM:this,uid:c});e.RA(f[16],[]);this.j.xca(c,e);this.J.push(e)}cc(){this.hb||this.mb.cc()}l2(){return 0<this.ju}Np(f){if(this.hb)return Promise.resolve();this.ju++;return 1===this.ju?this.mb.Np(f)||Promise.resolve():Promise.resolve()}Nn(){if(!this.hb){this.ju--;if(0>this.ju)throw Error("released textures too many times");0===this.ju&&this.mb.Nn()}}oA(){if(this.hb)throw Error("not applicable to family");this.mb.oA()}nG(f){return this.hb?Promise.resolve():this.mb.nG(f)}K(){return this.j}Tb(){return this.yi}cj(){return this.mx}Na(){return this.eb}dh(){return this.Pga}pR(f){return f&&
this.nX.has(f)}v1(){return this.Uj.map(f=>f.lY)}u1(f){return this.Uj.findIndex(c=>c.lY===f)}t1(f){return this.Uj.findIndex(c=>c.name===f)}Xaa(){return this.Uj.map(f=>f.Iia)}lv(f){f=Math.floor(f);if(0>f||f>=this.Uj.length)throw new RangeError("invalid instance variable index");return this.Uj[f].type}gO(f){f=Math.floor(f);if(0>f||f>=this.Uj.length)throw new RangeError("invalid instance variable index");return this.Uj[f].name}sz(f){return this.OI.get(f.toLowerCase())||null}dv(f){f=this.MI.get(f.toLowerCase());
return"undefined"===typeof f?-1:f}IF(){return this.yi.IF()}qR(){return this.$a&&this.$a.d2()}ga(){return this.Oo.ga()}kd(){return this.Dg}CQ(f){this.kt=f}FE(f){return this.pJ.has(f)}MN(f){return this.rJ.has(f)}wp(f){return this.cC[f]}cO(f){return this.dC[f]}RN(f){if(!this.ie)throw Error("no animations");return this.AB.get(f.toLowerCase())||null}J0(f){if(!this.ie)throw Error("no animations");return this.BB.get(f)||null}f1(){if(!this.ie)throw Error("no animations");return this.ie[0].wn(0)}U0(){if(this.ie){const f=
this.f1().kd();return[f.T(),f.U()]}return this.Dg?[this.Dg.T(),this.Dg.U()]:[100,100]}vk(){if(!this.yi.vo)throw Error("not a single-global plugin");return this.J[0]}ua(){return this.J}*RX(){yield*this.J}*yia(){yield*this.J;for(const f of this.j.Cm)f.L()===this&&(yield f)}ei(f){this.J.push(f)}pw(){this.FJ=!0}rB(){if(this.FJ&&!this.hb){var f=this.J,c=0;for(let e=f.length;c<e;++c)f[c].TT(c);f=this.j.Cm;for(const e of f)e.L()===this&&e.TT(c++);this.FJ=!1}}fO(f){var c=this.J;if(f<c.length)return c[f];
f-=c.length;c=this.j.Cm;for(const e of c)if(e.L()===this){if(0===f)return e;--f}return null}Vg(f){if(f&&f.Gc()&&f.L()!==this)for(const c of f.Yd)if(c.L()===this)return c;f=this.ga().ua();return f.length?f[0]:null}J1(f){const c=this.ga().ua();return 0<c.length?c[f.xp()%c.length]:null}*xX(f,c){const e=this.ga().ua();var h=e.length;const g=c.ga(),l=c.ga().ua(),n=l.length;var p=f.xp();if(c.hb||!g.ic)p=l.indexOf(f);f=Math.ceil(h/n);h%=n;0===h||p<h?(p*=f,h=f):(p=h*f+(p-h)*(f-1),h=f-1);for(let q=p,r=p+h;q<
r;++q)yield e[q]}$u(f){this.mb.$u(f)}qc(){if(this.SJ&&!this.hb){this.rB();var f=this.ga(),c=f.J,e=f.ic,h=this.j.Lf();h=h&&h.Sb()&&h.Sb().le;for(const n of this.Fj.Nm)if(n!==this){n.rB();var g=n.ga();g.Le(e);if(!e){var l=g.J;d.H(l);for(const p of c)l.push(n.fO(p.xp()));if(h){l=f.tc;g=g.tc;d.H(g);for(const p of l)g.push(n.fO(p.xp()))}}}}}Nfa(f,c){for(const e of this.Fj.Nm){const h=e.ga();f?d.Ee(h.tc,c):d.Ee(h.J,c)}}MT(){this.FI=!0}bI(f){this.GI=!!f}rU(){if(this.FI&&this.Xf){for(const f of this.J)f.C().uU();
for(const f of this.j.Cm)f.L()===this&&f.C().uU();this.FI=!1}}Of(){this.Qb||(this.Qb=new Map);return this.Qb}rv(){this.Ji||(this.Ji=new Map);return this.Ji}IO(){return this.pR(d.N.pqa)}JF(){return this.pR(d.N.Sqa)}ya(){const f={instances:this.J.map(c=>c.Ac())};this.Qb&&this.Qb.size&&(f.ex=d.aH(this.Qb));return f}Fa(f){this.Qb&&(this.Qb.clear(),this.Qb=null);var c=f.ex;c&&(this.Qb=d.YE(c));c=this.J;f=f.instances;for(let e=0,h=Math.min(c.length,f.length);e<h;++e)c[e].rc(f[e]);for(let e=f.length,h=c.length;e<
h;++e)this.j.tn(c[e]);for(let e=c.length,h=f.length;e<h;++e){c=f[e];let g=null;if(this.Xf&&(g=this.j.Wb().Hz(c.w.l),!g))continue;this.j.Wi(this.kt||this,g,!1,0,0,!0).rc(c)}this.pw()}Qh(f){var c=this.j;(c=c.Bb&&!c.xa().aA())&&b.YG();this.Ce.dispatchEvent(f);c&&b.CE()}}}{"use strict";const d=self.D;d.KZ=class extends d.ta{constructor(b,a){super();this.j=b;this.Nm=a;for(const f of this.Nm)f.Qea(this)}A(){this.j=null}K(){return this.j}g2(){return this.Nm.some(b=>b.Xf)}}}
{"use strict";const d=self.D,b=self.mg,a=self.es,f=[];let c=0;const e=new WeakMap,h=new WeakMap;d.Instance=class extends d.ta{constructor(g){super();this.j=g.Rc;this.xe=g.wM;this.Oe=this.ra=this.wb=null;this.yV=0;this.Gb=g.uid;this.BW=c++;this.Ja=0;this.Yc=this.xf=f;var l=this.xe.JB;0<l.length&&(this.Yc=l.map((n,p)=>d.F(d.Vy,{Rc:this.j,VL:n,instance:this,index:p})));this.Yd=this.xe.Gc()?[]:null;this.Nd=-1;this.fc=null;l=this.Tb();l.Jn()&&(this.Ja|=4);if(l.Xf)if(this.wb=d.F(d.t9,this,g.oe),g.wY)this.wb.Zg(g.wY);
else{this.wb.Y2();const [n,p]=this.xe.U0();this.wb.sc(n,p);this.L().qR()&&this.wb.Pe.i4()}g.QX?this.ica(g.QX):this.dca()}A(){this.Oe&&(this.Oe.ow(),this.Oe=null);if(0<this.Yc.length){for(var g of this.Yc)g.A();d.H(this.Yc)}this.ra.A();this.ra=null;if(g=e.get(this))g.clear(),e.delete(this);if(g=h.get(this))g.clear(),h.delete(this);this.Yd&&d.H(this.Yd);this.fc&&(this.fc.A(),this.fc=null);this.xe=this.j=null;0<this.xf.length&&d.H(this.xf);this.wb&&(this.wb.A(),this.wb=null)}ica(g){0<g.length&&(this.xf=
[],d.Qd(this.xf,g))}dca(){const g=this.xe.Uj.length;if(0!==g){this.xf=[];var l=[0,0,""];for(let n=0;n<g;++n)this.xf.push(l[this.xe.lv(n)])}}RA(g,l){if(this.ra)throw Error("already got sdk instance");for(let n=0,p=this.Yc.length;n<p;++n)this.Yc[n].RA(l?l[n]:null);this.ra=d.F(this.xe.sC,this,g);if(!(this.ra instanceof d.Pn))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Yc.length;n<p;++n)this.Yc[n].rA();this.xe.GV&&this.RS()}C(){return this.wb}K(){return this.j}H0(){const g=
this.Nd;return-1===g?this.K().Nd:g}PG(g){g=+g;if(0>g||!isFinite(g))g=0;this.Nd=g}I6(){this.Nd=-1}Kb(){this.fc||(this.fc=d.F(d.Event.Kb));return this.fc}Fe(g){this.ra.Fe(g)}cc(g){this.ra.cc(g)}bfa(){this.Ja|=2}gj(){return 0!==(this.Ja&2)}MH(){this.Ja|=1}UF(){return 0!==(this.Ja&1)}Jn(){return 0!==(this.Ja&4)}Vba(){return 0!==(this.Ja&8)}Jv(g,l){g<<=16;this.Ja=l?this.Ja|g:this.Ja&~g}mF(g){return 0!==(this.Ja&g<<16)}ee(){return this.ra.ee()}zz(){return this.ra.zz()}Az(){return this.ra.Az()}Kl(g){return this.ra.Kl(g)}L(){return this.xe}Or(g){return g.hb?
g.MN(this.L()):this.L()===g}rR(){if(!this.Tb().eX)throw Error("object does not support scene graph");}xk(){return null!==this.Ma()}Ma(){var g=this.C();return g?(g=g.Ma())?g.Oa():null:null}Qz(){var g=this.C();return g?(g=g.Qz())?g.Oa():null:null}*Jy(){const g=this.C();if(g)for(const l of g.Jy())yield l.Oa()}Qf(){const g=this.C();return g?g.Qf():!1}Jf(){const g=this.C();return g?g.Jf().map(l=>l.Oa()):[]}*children(){const g=this.C();if(g)for(const l of g.children())yield l.Oa()}*cp(){const g=this.C();
if(g)for(const l of g.cp())yield l.Oa()}xz(){const g=this.C();return g?g.xz():0}dF(g){const l=this.C();return l?(g=l.dF(g))?g.Oa():null:null}rn(g,l){this.rR();g.rR();this.C().rn(g.C(),l||{})}Ak(g){const l=this.C();l&&l.Ak(g.C())}Bz(){const g=this.C();return g?g.Bz():!1}r8(){var g=this.C();if(g&&(g=g.dL))for(const l of g)if(g=this.j.ef(l[2])){const n=l[3];this.rn(g,{Iu:!!(n>>0&1),Ju:!!(n>>1&1),Lr:!!(n>>2&1),Kr:!!(n>>3&1),Hu:!!(n>>4&1),yy:!!(n>>5&1),Ku:!!(n>>6&1)})}}Gc(){return null!==this.Yd}Ls(g){this.Yd.push(g)}n2(g){return!!this.zO(g)}zO(g){const l=
this.Yd;if(null===l||0===l.length)return!1;for(const n of l)if(n.L()===g)return n;return null}nj(){for(const g of this.Yd)g.L().ga().Fk(g)}Dda(){for(const g of this.Yd)g.L().ga().cq(g)}tfa(g){for(const l of this.Yd)l.L().ga().J[g]=l}Cda(){for(const g of this.Yd)g.L().ga().ao(g)}sfa(g){for(const l of this.Yd)l.L().ga().tc[g]=l}Tb(){return this.xe.Tb()}TT(g){this.yV=g}xp(){this.xe.rB();return this.yV}M0(g){if(!g)return null;for(const l of this.Yc)if(l.bf()instanceof g)return l;return null}cF(g){return g?
(g=this.M0(g))?g.ra:null:null}SN(g){const l=this.Yc;for(let n=0,p=l.length;n<p;++n)if(l[n].Sh().gb===g)return n;return-1}ff(g){g|=0;const l=this.xf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}iba(g){return this.xf[g]}hba(g){const l=this.xf[g];return 0===this.xe.lv(g)?!!l:l}Sn(g,l){g|=0;const n=this.xf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.xe.lv(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);
break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}A7(g,l){if(0!==l){g|=0;var n=this.xf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");
}}}Of(){let g=e.get(this);if(g)return g;g=new Map;e.set(this,g);return g}rv(){let g=h.get(this);if(g)return g;g=new Map;h.set(this,g);return g}LS(g){const l=this.L();if(l.Ce.GF(g))return!0;for(const n of l.pi)if(n.Ce.GF(g))return!0;return this.j.Ce.GF(g)?!0:!1}qB(){const g=new Set;g.add(this);const l=this.C();if(l&&l.Qf())for(const n of this.cp())if(g.add(n),n.Gc())for(const p of n.Yd)g.add(p);if(this.Gc())for(const n of this.Yd)g.add(n);for(const n of g.values())n.oU()}oU(){if(this.LS("instancecreate")){const g=
this.L(),l=new d.Event("instancecreate");l.instance=this.Vh();g.Qh(l);for(const n of g.pi)n.Qh(l);this.j.Qh(l)}this.j.la(this.Tb().constructor.G.Y4,this,null)}Lfa(){this.j.la(this.Tb().constructor.G.AP,this,null)}Paa(g){if(this.Oe){var l=new d.Event("destroy");l.Cia=g;this.Qh(l)}if(this.LS("instancedestroy")){l=this.L();var n=new d.Event("instancedestroy");n.instance=this.Vh();n.Cia=g;l.Qh(n);for(const p of l.pi)p.Qh(n);this.j.Qh(n)}}Ac(g="full"){const l={};"full"===g?l.uid=this.Gb:l.c3=!0;if("visual-state"!==
g){var n=e.get(this);n&&n.size&&(l.ex=d.aH(n));-1!==this.Nd&&(l.mts=this.Nd);if(0<this.xe.Uj.length){n={};var p=this.xe.v1();for(let q=0,r=this.xf.length;q<r;++q)n[p[q].toString()]=this.xf[q];l.ivs=n}if(this.Yc.length){n={};for(const q of this.Yc)(p=q.Ac())&&(n[q.Sh().gb.toString()]=p);l.behs=n}}this.wb&&(l.w=this.wb.ya(g));(g=this.ra.Ac())&&(l.data=g);return l}Ts(g="full"){this.wb&&this.wb.Ts(g)}rc(g,l="full"){if("full"===l)this.Gb=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=e.get(this);
n&&(n.clear(),e.delete(this));if(n=g.ex)n=d.YE(n),e.set(this,n);this.Nd=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [r,x]of Object.entries(n))if(n=this.xe.u1(parseInt(r,10)),!(0>n||n>=this.xf.length)){var p=x;null===p&&(p=NaN);this.xf[n]=p}}if(this.Tb().Xf){n=g.w;var q=n.l;this.wb.qa().gb!==q&&(p=this.wb.qa(),(q=p.Hd().Hz(q))?(this.wb.qw(q),p.bo(this,!0),q.ei(this,!0),q.kh(),this.wb.Aa()):"full"===l&&this.j.tn(this));this.wb.Fa(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [r,x]of Object.entries(l))l=
this.SN(parseInt(r,10)),0>l||l>=this.Yc.length||this.Yc[l].rc(x);(g=g.data)&&this.ra.rc(g)}Vh(){return this.Oe||this.RS()}RS(){var g=this.wb?self.wv:a;const l=this.ra.Pf(),n=this.xe.GV,p=n||l||g;a.tj(this);this.Oe=new p;a.tj(null);if(l&&!(this.Oe instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.Oe instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);
return this.Oe}gba(g){if(0!==this.xf.length){var l={},n=this.xe.Xaa();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,get:d.Instance.prototype.hba.bind(this,p),set:d.Instance.prototype.Sn.bind(this,p)};l=Object.create(Object.prototype,l);g.Uxa={value:l,writable:!1}}}Zaa(g){var l=this.Yc;if(0!==l.length){var n={};for(const p of l)n[p.Sh().cj()]={value:p.Oz(),writable:!1};l=Object.create(Object.prototype,n);g.wy={value:l,writable:!1}}}Qh(g){g.instance=this.Vh();var l=this.j;(l=
l.Bb&&!l.xa().aA())&&b.YG();this.Vh().dispatchEvent(g);l&&b.CE()}}}
{"use strict";const d=self.D;d.R6=class extends d.ta{constructor(b){super();this.oc=b;this.Nc=null;this.NB=[];this.AD=b.T();this.zD=b.U();this.sL=this.rL=1;this.gD=0}A(){this.Nc=null;d.H(this.NB)}TQ(b){this.gD=(this.Nc=b)?b.pa():0}Ma(){return this.Nc}Qf(){return 0<this.NB.length}Jf(){return this.NB}U7(b){this.rL=b}V7(b){this.sL=b}sk(){return this.oc.Bp()?this.Nc.T()/this.Nc.Vb.AD:1}uk(){return this.oc.Ap()?this.Nc.U()/this.Nc.Vb.zD:1}ya(){return{sw:this.AD,sh:this.zD,sx:this.rL,sy:this.sL,psa:this.gD,
c:this.NB.map(b=>{let a="";b.Cp()&&(a+="x");b.Dp()&&(a+="y");b.Bp()&&(a+="w");b.Ap()&&(a+="h");b.Sz()&&(a+="a");b.Tz()&&(a+="z");b.Bz()&&(a+="d");return{uid:b.Oa().Gb,f:a}})}}Fa(b){this.AD=b.sw;this.zD=b.sh;this.rL=b.sx;this.sL=b.sy;this.gD=b.psa}aq(b){const a=this.oc,f=a.K();for(const c of b.c){b=f.ef(c.uid).C();const e=c.f,h={};h.Iu=e.includes("x");h.Ju=e.includes("y");h.Lr=e.includes("w");h.Kr=e.includes("h");h.Hu=e.includes("a");h.Ku=e.includes("z");h.yy=e.includes("d");a.rn(b,h)}}}}
{"use strict";const d=self.D,b=self.kn,a=b.vE,f=b.Lu,c=d.F(d.Rect),e=d.F(d.yd),h=d.F(d.Event,"bboxchange",!1),g=d.F(d.pb,0,0,0,0),l=d.F(d.sp),n=d.F(d.pb,1,1,1,1),p=d.F(d.Rect,0,0,-1,-1),q=d.F(d.Rect,0,0,-1,-1),r=new Set(["absolute","relative"]),x=[];a.create();f.create();let w=!0;d.t9=class extends d.ta{constructor(v,t){super();this.I=v;this.R=v.L();this.j=v.K();this.cl=t;this.ul=-1;this.Ja=196635;this.R.Tb().ls()&&(this.Ja|=128);this.Yt=this.Xt=this.$I=this.hL=this.fb=this.Jj=this.Sj=this.gk=this.rd=
this.Y=this.da=NaN;this.TI=d.F(d.Rect);this.UI=d.F(d.yd);this.OB=q;this.Mx=p;this.Gi=this.mu=this.wD=null;this.sq=this.Db=n;this.Pe=this.mr=null;this.I.L().qR()&&(this.Pe=d.F(d.q3,this.I,this));this.dL=this.Vb=null;this.eL=this.PW=NaN;this.xi=null}MH(){this.Ja|=256}A(){this.mr&&(this.j.ac().dQ(this.mr),this.mr=null);this.wD=null;this.mu&&(this.mu.eY.A(),this.mu=null);this.Gi&&(this.Gi.clear(),this.Gi=null);this.uA();this.xk()&&this.Ma().Ak(this);if(this.Qf()){const v=[...this.Jf()];for(const t of v)this.Ak(t)}this.jB();
this.cl=this.j=this.R=this.I=null}Zg(v){w=!1;this.zd(v[0],v[1]);this.nf(v[2]);this.sc(v[3],v[4]);this.Jj=0;this.ls()?this.lc(v[6]):this.fb=0;g.np(v[7]);this.mB(g);this.As(v[8]);this.Bs(v[9]);this.Sf(v[10]);this.Pe&&this.Pe.eca(v[12]);v[14]&&(this.dL=v[14][1],this.PW=v[14][2]);if(v[15]){var t=v[15];this.QE(t[0],t[1]);v=this.wk();t=t[2];for(let A=0,y=t.length;A<y;++A){const E=t[A];for(let F=0,H=E.length;F<H;++F){const J=E[F],M=v.Yr(F,A);M.Vf(J[0]);M.mf(J[1]);M.nf(J[2]);M.QG(J[3]);M.SG(J[4])}}}w=!0;
this.Us()}Y2(){this.hL=this.fb=this.Jj=this.Sj=this.gk=this.rd=this.Y=this.da=0;this.$I=1;this.Yt=this.Xt=0;this.Us()}K(){return this.j}L(){return this.R}Oa(){return this.I}dw(){return this.Sz()?this.Ma().pa()-this.Vb.gD:0}Vf(v){v=+v;if(this.Cp()){const t=this.Vb;v-=this.O();const A=-this.dw();0===A?this.da+=v/t.sk():(this.da+=Math.cos(A)*v/t.sk(),this.Dp()&&(this.Y+=Math.sin(A)*v/t.uk()))}else this.da=v}L4(v){v=+v;this.Cp()?this.Vf(this.O()+v):this.da+=v}O(){if(this.Cp()){let v=this.da;const t=this.Vb,
A=this.Ma(),y=this.dw();0===y?v*=t.sk():(v=v*t.sk()*Math.cos(y),this.Dp()&&(v-=this.Y*t.uk()*Math.sin(y)));return A.O()+v}return this.da}mf(v){v=+v;if(this.Dp()){const t=this.Vb;v-=this.P();const A=-this.dw();0===A?this.Y+=v/t.uk():(this.Cp()&&(this.da-=Math.sin(A)*v/t.sk()),this.Y+=Math.cos(A)*v/t.uk())}else this.Y=v}M4(v){v=+v;this.Dp()?this.mf(this.P()+v):this.Y+=v}P(){if(this.Dp()){let v=this.Y;const t=this.Vb,A=this.Ma(),y=this.dw();0===y?v*=t.uk():(v=v*t.uk()*Math.cos(y),this.Cp()&&(v+=this.da*
t.sk()*Math.sin(y)));return A.P()+v}return this.Y}zd(v,t){v=+v;t=+t;if(this.FO()){const y=this.Cp(),E=this.Dp(),F=this.Vb,H=v-this.O(),J=t-this.P();var A=-this.dw();if(0===A)this.da=y?this.da+H/F.sk():v,this.Y=E?this.Y+J/F.uk():t;else{const M=Math.sin(A);A=Math.cos(A);this.da=y?E?this.da+(A*H-M*J)/F.sk():this.da+A*H/F.sk():v;this.Y=E?y?this.Y+(M*H+A*J)/F.uk():this.Y+A*J/F.uk():t}}else this.da=v,this.Y=t}Ul(v,t){v=+v;t=+t;this.FO()?this.zd(this.O()+v,this.P()+t):(this.da+=v,this.Y+=t)}o0(v,t){return this.O()===
v&&this.P()===t}nf(v){v=+v;this.Tz()&&(v-=this.Ma().qb());this.rd!==v&&(this.rd=v,this.zU(),v=this.qa(),0!==this.rd&&v.NT(),v.kh())}zU(){this.Us();if(this.Qf()){const v=this.Jf();for(let t=0,A=v.length;t<A;t++){const y=v[t];y.Tz()&&y.zU()}}}N4(v){this.nf(this.qb()+v)}qb(){return this.Tz()?this.Ma().qb()+this.rd:this.rd}Yh(){return this.qa().qb()+this.qb()}Je(v){v=+v;this.gk=this.Bp()?this.gk*(v/this.T()):v}sP(v){v=+v;this.Bp()?this.Je(this.T()+v):this.gk+=v}T(){return this.Bp()?this.Ma().T()*this.gk:
this.gk}Uf(v){v=+v;this.Sj=this.Ap()?this.Sj*(v/this.U()):v}rP(v){v=+v;this.Ap()?this.Uf(this.U()+v):this.Sj+=v}U(){return this.Ap()?this.Ma().U()*this.Sj:this.Sj}sc(v,t){v=+v;t=+t;this.gk=this.Bp()?this.gk*(v/this.T()):v;this.Sj=this.Ap()?this.Sj*(t/this.U()):t}sO(){if(this.xk()){const v=this.Vb;return Math.min(v.sk(),v.uk())}return 1}ls(){return 0!==(this.Ja&128)}lc(v){v=+v;this.ls()&&(this.Sz()&&(v-=this.Ma().pa()),v=d.td(v),this.fb!==v&&(this.fb=v,this.NH()))}H4(v){v=+v;0!==v&&this.ls()&&(this.fb=
d.td(this.fb+v),this.NH())}NH(){this.Ja|=262144;if(this.Qf()){const v=this.Jf();for(let t=0,A=v.length;t<A;t++)v[t].NH()}}pa(){return this.Sz()?d.td(this.Ma().pa()+this.fb):this.fb}fT(){const v=this.Ja;if(0!==(v&262144)){var t=this.pa();this.hL=Math.sin(t);this.$I=Math.cos(t);this.Ja=v&-262145}}CF(){this.fT();return this.hL}eF(){this.fT();return this.$I}As(v){this.Xt=+v}J4(v){this.Xt+=+v}nk(){return this.Xt}Bs(v){this.Yt=+v}K4(v){this.Yt+=+v}pk(){return this.Yt}mB(v){this.Db.jd(v)||(this.Db===n?(this.Db=
d.F(d.pb,v),this.sq=d.F(d.pb,v),this.sq.kE()):v.Ay(1,1,1,1)?this.sq=this.Db=n:(this.Db.set(v),this.sq.set(v),this.sq.kE()),this.Us())}kf(v){v=d.fa(+v,0,1);this.Db.bp!==v&&(g.hn(this.Db),g.bp=v,this.mB(g))}I4(v){this.kf(this.Rd()+v)}Rd(){return this.Db.bp}$Q(v){this.Db.ip(v)||(g.hn(v),g.bp=this.Db.bp,this.mB(g))}i8(v,t,A){g.pE(v,t,A);this.$Q(g)}wF(){return this.sq}Bz(){return 0!==(this.Ja&512)}h7(v){this.xg(512,v)}Cp(){return 0!==(this.Ja&1024)}d8(v){this.xg(1024,v)}Dp(){return 0!==(this.Ja&2048)}FO(){return 0!==
(this.Ja&3072)}e8(v){this.xg(2048,v)}Bp(){return 0!==(this.Ja&4096)}c8(v){this.xg(4096,v)}Ap(){return 0!==(this.Ja&8192)}b8(v){this.xg(8192,v)}Sz(){return 0!==(this.Ja&16384)}a8(v){this.xg(16384,v)}Tz(){return 0!==(this.Ja&32768)}f8(v){this.xg(32768,v)}GR(){this.Ja&=-65025}rn(v,t){if(v!==this&&!v.xk()&&!this.NS(v)&&!this.MS(v)){var A=v.O(),y=v.P(),E=v.T(),F=v.U(),H=v.pa(),J=v.qb();v.bU(this);v.d8(t.Iu);v.e8(t.Ju);v.c8(t.Lr);v.b8(t.Kr);v.a8(t.Hu);v.f8(t.Ku);v.h7(t.yy);t.Iu&&(v.da=A-this.O(),t.Lr&&
(v.da/=this.T()/this.Vb.AD));t.Ju&&(v.Y=y-this.P(),t.Kr&&(v.Y/=this.U()/this.Vb.zD));t.Lr&&(v.gk=E/this.T(),v.Vb.U7(v.gk));t.Kr&&(v.Sj=F/this.U(),v.Vb.V7(v.Sj));t.Hu&&(v.fb=H-this.pa());t.Ku&&(v.rd=J-this.qb());this.C9(v);this.Aa()}}Ak(v){if(v.Ma()===this){var t=v.O(),A=v.P(),y=v.T(),E=v.U(),F=v.pa(),H=v.qb();v.bU(null);v.GR();v.zd(t,A);v.sc(y,E);v.lc(F);v.nf(H);this.Rda(v);this.Aa()}}$da(){for(var v of this.children())this.Ak(v);(v=this.Ma())&&v.Ak(this);this.GR()}xk(){return null!==this.Ma()}Ma(){const v=
this.Vb;return null!==v?v.Ma():null}Qz(){let v=this;for(;v.xk();)v=v.Ma();return v}*Jy(){let v=this.Ma();for(;v;)yield v,v=v.Ma()}i2(v){return this.Jf().includes(v)}Qf(){const v=this.Vb;return null!==v?v.Qf():!1}Jf(){const v=this.Vb;return null!==v?v.Jf():x}children(){return this.Jf()}*cp(){for(const v of this.children())yield v,yield*v.cp()}xz(){return this.Jf().length}dF(v){const t=this.Jf();v=Math.floor(+v);return 0>v||v>=t.length?null:t[v]}nH(v){this.Vb||(this.Vb=d.F(d.R6,this));v&&this.Vb.TQ(v)}jB(){this.Vb&&
(this.Vb.A(),this.Vb=null)}bU(v){v?(v.nH(null),this.nH(v)):(this.Vb&&this.Vb.TQ(null),this.Qf()||this.jB())}MS(v){if(!this.xk())return!1;const t=this.Ma();return t===v?!0:t.MS(v)}NS(v){if(this.i2(v))return!0;for(const t of this.Jf())if(t.NS(v))return!0;return!1}C9(v){this.Vb.Jf().push(v)}Rda(v){const t=this.Vb.Jf(),A=t.indexOf(v);-1!==A&&t.splice(A,1);0!==t.length||this.xk()||this.jB();v.Qf()||v.jB()}KG(v){this.eL=v}Us(){if(w){var v=this.j.ac();this.mr&&v.dQ(this.mr);this.mr=v.AY(0!==(this.Ja&524288)?
v.xD||"<point>":v.yD||"<default>",this.Zi(),this.sq,this.qb())}}An(){return this.Db===n}Sf(v){v|=0;if(0>v||31<v)throw new RangeError("invalid blend mode");this.Zi()!==v&&(this.Ja=this.Ja&-2080374785|v<<26,this.Us())}Zi(){return(this.Ja&2080374784)>>26}qw(v){this.cl=v;0!==this.qb()&&this.cl.NT()}qa(){return this.cl}Hd(){return this.qa().Hd()}oB(v){this.ul=v|0}Zh(){this.cl.sB();return this.ul}xg(v,t){this.Ja=t?this.Ja|v:this.Ja&~v}Vd(){return 0!==(this.Ja&1)}he(v){this.xg(1,v)}bh(){return 0!==(this.Ja&
8)}Hv(v){v=!!v;this.bh()!==v&&(this.xg(8,v),v?this.Aa():this.vT())}MG(v,t){this.xg(32,v);this.Gi&&this.Gi.clear();if(t.trim()){this.Gi||(this.Gi=new Set);for(const A of t.split(" "))A&&this.Gi.add(A.toLowerCase())}else this.Gi=null}cG(v){const t=0!==(this.Ja&32),A=this.Gi;if(!v||!A)return!t;for(const y of A)if(v.has(y))return t;return!t}Aa(){this.Ja|=65554;this.R.MT();this.j.aa();this.cl.Br&&(this.Qu(this.TI,this.UI,!0),this.Ja&=-3,this.Ufa());0!==(this.Ja&4)&&this.I.Kb().dispatchEvent(h);if(null!==
this.Vb){const v=this.Vb.Jf();for(let t=0,A=v.length;t<A;++t)v[t].Aa()}}Qu(v,t,A){const y=this.O(),E=this.P(),F=this.T(),H=this.U(),J=this.pa();v.Ri(y-this.Xt*F,E-this.Yt*H,F,H);A&&this.rg()&&this.Iaa(v);0===J?t.op(v):(v.offset(-y,-E),t.nE(v,this.CF(),this.eF()),t.offset(y,E),t.hM(v));v.normalize()}tU(){const v=this.Ja;0!==(v&2)&&(this.Qu(this.TI,this.UI,!0),this.Ja=v&-3)}Uc(){this.tU();return this.TI}$i(){this.tU();return this.UI}Bv(v){var t=this.O(),A=this.P();t=Math.round(t)-t;A=Math.round(A)-
A;if(0===t&&0===A)return v;e.Ka(v);e.offset(t,A);return e}a7(v){this.xg(4,v)}QO(){return 0!==(this.Ja&4)}$O(v,t){return t&&0!==this.Jj?this.Rba():0===this.qb()?v.eE(this.Uc()):this.Sba()}Sba(){const v=this.qa(),t=this.Yh();if(t>=v.vz())return!1;v.HO(t,c);return c.eE(this.Uc())}Rba(){var v=this.Uc();const t=v.X,A=v.ca,y=v.S;v=v.ba;const E=this.Yh(),F=E+this.Jj;return this.qa().uba().LZ(t,y,E,A,v,F)}NG(v){this.wD=v;this.vH();this.rg()&&(this.xi.qM=null)}uv(){return null!==this.wD||this.rg()}Ol(){return this.rS(this.T(),
this.U(),this.pa(),this.CF(),this.eF())}T0(v,t){return this.rS(v,t,0,0,1)}rS(v,t,A,y,E){let F=this.mu;null===F&&(this.mu=F={eY:d.F(d.sp),width:NaN,height:NaN,angle:NaN});const H=F.eY;if(F.width===v&&F.height===t&&F.angle===A)return H;const J=this.wD;if(this.rg()){const M=this.nk(),P=this.pk(),S=this.wk();let T=this.xi.qM;T||(J?(l.Ka(J),l.offset(M,P)):l.sja(),T=S.p3(l),this.xi.qM=T);S.T8(T,H);H.offset(-M,-P);H.WM(v,t,y,E)}else J?(H.Ka(J),H.WM(v,t,y,E)):H.NM(this.$i(),-this.O(),-this.P());F.width=v;
F.height=t;F.angle=A;return H}vH(){this.UQ(!0);const v=this.mu;null!==v&&(v.width=NaN)}QE(v,t){v=Math.floor(v);t=Math.floor(t);if(!this.Oa().Tb().vha)throw Error("object does not support mesh");this.uA();this.xi={RM:d.F(d.ka.pP,v,t),qY:d.F(d.ka.pP,v,t),qM:null}}rg(){return null!==this.xi}wk(){if(!this.rg())throw Error("no mesh");return this.xi.RM}GO(){if(!this.rg())throw Error("no mesh");return this.xi.qY}GA(v){this.xg(65536,v)}bP(){return 0!==(this.Ja&65536)}UQ(v){this.xg(131072,v)}J3(){return 0!==
(this.Ja&131072)}Iaa(v){var t=this.xi.RM;const A=Math.min(t.G1(),0),y=Math.min(t.H1(),0),E=Math.max(t.E1(),1);t=Math.max(t.F1(),1);const F=v.width(),H=v.height();v.offsetLeft(A*F);v.offsetTop(y*H);v.aja((E-1)*F);v.$ia((t-1)*H)}uA(){this.xi&&(this.xi.RM.A(),this.xi.qY.A(),this.xi=null,this.vH())}QQ(v,t,A){v=Math.floor(v);t=Math.floor(t);var y=A.mode||"absolute";if(!r.has(y))throw Error("invalid mode");y="relative"===y;let E=A.x,F=A.y;const H=A.Ty;let J="number"===typeof A.uY?A.uY:y?0:-1;A="number"===
typeof A.vY?A.vY:y?0:-1;if(!this.rg())return!1;const M=this.wk(),P=M.Yr(v,t);if(null===P)return!1;let S=!1;"number"===typeof H&&P.qb()!==H&&(P.nf(H),S=!0);y&&(E+=v/(M.Uk-1),F+=t/(M.nl-1));-1!==J||y?(y&&(J+=v/(M.Uk-1)),J=d.fa(J,0,1)):J=P.Jh;-1!==A||y?(y&&(A+=t/(M.nl-1)),A=d.fa(A,0,1)):A=P.Lh;if(P.O()===E&&P.P()===F&&P.Jh===J&&P.Lh===A)return S;P.Vf(E);P.mf(F);P.QG(J);P.SG(A);this.vH();return!0}gj(){return this.I.gj()}Qr(v,t){return this.Uc().gg(v,t)&&this.$i().gg(v,t)?this.gj()?void 0:this.uv()?this.Ol().gg(v-
this.O(),t-this.P()):!0:!1}Oba(){return 0!==(this.Ja&16)}uU(){if(this.Oba()&&this.bh()&&0===(this.Ja&256)){var v=this.Uc(),t=this.R.PB,A=this.OB;c.set(t.pj(v.X),t.qj(v.S),t.pj(v.ca),t.qj(v.ba));A.jd(c)||(v=this.I,A===q?(t.am(v,null,c),this.OB=d.F(d.Rect,c)):(t.am(v,A,c),A.Ka(c)),this.Ja&=-17)}}vT(){const v=this.OB;v!==q&&(this.R.PB.am(this.I,v,null),this.OB=q)}Ufa(){const v=this.qa();if(v.Br&&0===(this.Ja&256)){var t=v.cu,A=this.Uc(),y=this.Mx;c.set(t.pj(A.X),t.qj(A.S),t.pj(A.ca),t.qj(A.ba));y.jd(c)||
(A=this.I,y===p?(t.am(A,null,c),this.Mx=d.F(d.Rect,c)):(t.am(A,y,c),y.Ka(c)),v.Q7())}}wT(){const v=this.Mx;v!==p&&(this.qa().cu.am(this.I,v,null),this.Mx=p)}z9(){const v=this.I,t=this.cl,A=t.J;A.length&&A[A.length-1]===v||(t.bo(v,!1),t.ei(v,!1),this.j.aa())}x9(){const v=this.I,t=this.cl,A=t.J;A.length&&A[0]===v||(t.bo(v,!1),t.zda(v),this.j.aa())}y9(v){const t=this.I,A=this.cl;if(A.Hd()!==v.Hd())throw Error("layer from different layout");v!==A&&(A.bo(t,!0),this.qw(v),v.ei(t,!0),this.j.aa())}w9(v,t){const A=
this.I;let y=!1;const E=this.cl;if(v.Gb!==A.Gb){var F=v.C();if(!F)throw Error("expected world instance");F=F.qa();E.Na()!==F.Na()&&(E.bo(A,!0),this.qw(F),F.ei(A,!0),y=!0);v=F.y4(A,v,!!t);(y||v)&&this.j.aa()}}afa(v){this.xg(64,v)}tv(){return 0!==(this.Ja&64)}ya(v){const t={x:this.O(),y:this.P(),w:this.T(),h:this.U(),l:this.qa().gb,zi:this.Zh()};0!==this.qb()&&(t.ze=this.qb());0!==this.pa()&&(t.a=this.pa());this.An()||(t.c=this.Db.toJSON());.5!==this.nk()&&(t.oX=this.nk());.5!==this.pk()&&(t.oY=this.pk());
0!==this.Zi()&&(t.bm=this.Zi());this.Vd()||(t.v=this.Vd());this.bh()||(t.ce=this.bh());this.QO()&&(t.be=this.QO());this.Pe&&(t.fx=this.Pe.ya());const A=0!==(this.Ja&32);A&&(t.sfi=A);this.Gi&&(t.sft=[...this.Gi].join(" "));this.Vb&&"visual-state"!==v&&(t.sgi=this.Vb.ya());this.rg()&&(t.mesh=this.wk().Ac());return t}Ts(v){"visual-state"!==v&&this.$da()}Fa(v,t){w=!1;this.Vf(v.x);this.mf(v.y);this.Je(v.w);this.Uf(v.h);this.oB(v.zi);this.nf(v.hasOwnProperty("ze")?v.ze:0);this.lc(v.hasOwnProperty("a")?
v.a:0);v.hasOwnProperty("c")?g.np(v.c):v.hasOwnProperty("o")?(g.hn(this.Db),g.bp=v.o):g.pp(1,1,1,1);this.mB(g);this.As(v.hasOwnProperty("oX")?v.oX:.5);this.Bs(v.hasOwnProperty("oY")?v.oY:.5);this.Sf(v.hasOwnProperty("bm")?v.bm:0);this.he(v.hasOwnProperty("v")?v.v:!0);this.Hv(v.hasOwnProperty("ce")?v.ce:!0);this.a7(v.hasOwnProperty("be")?v.be:!1);this.MG(v.hasOwnProperty("sfi")?v.sfi:!1,v.hasOwnProperty("sft")?v.sft:"");this.Pe&&v.hasOwnProperty("fx")&&this.Pe.Fa(v.fx);if(v.hasOwnProperty("sgi")&&
"visual-state"!==t){this.nH(null);const A=this.Vb,y=v.sgi;A.Fa(y);const E=this.K().Kb(),F=()=>{E.removeEventListener("afterload",F);0===(this.Ja&256)&&A.aq(y)};E.addEventListener("afterload",F)}v.hasOwnProperty("mesh")?(v=v.mesh,this.QE(v.cols,v.rows),this.wk().rc(v)):this.uA();this.Aa();w=!0;this.Us()}}}
{"use strict";const d=self.D;d.dN=class extends d.ta{constructor(b,a){super();const f=b.K(),c=f.Ko,e=f.Wh(a[1]);c.h2(e)||c.RZ(a);this.j=f;this.R=b;this.zj=c.L0(e);this.mb=null;this.sC=e.Instance;this.gb=a[2];this.na=a[0];this.mx=this.j.cj(a[3]);this.mb=d.F(e.Ke,this);this.cc()}static ab(b,a){return d.F(d.dN,b,a)}A(){this.zj=this.j=null;this.mb.A();this.sC=this.mb=null}cc(){this.mb.cc()}K(){return this.j}L(){return this.R}bf(){return this.zj}cj(){return this.mx}}}
{"use strict";const d=self.D,b=self.Xz;d.Vy=class extends d.ta{constructor(a){super();this.j=a.Rc;this.Zc=a.VL;this.zj=this.Zc.bf();this.I=a.instance;this.eb=a.index;this.Oe=this.ra=null;this.zj.ei(this.I)}A(){this.Oe&&(this.Oe.ow(),this.Oe=null);this.zj.bo(this.I);this.ra.A();this.I=this.zj=this.Zc=this.j=this.Oe=this.ra=null}RA(a){if(this.ra)throw Error("already got sdk instance");this.ra=d.F(this.Zc.sC,this,a);this.Gba()}K(){return this.j}Sh(){return this.Zc}bf(){return this.zj}fi(){return this.eb}rA(){this.ra.rA()}Ac(){return this.ra.Ac()}rc(a){return this.ra.rc(a)}static WG(a,
f){var c=a.I,e=f.I;const h=c.L().Na(),g=e.L().Na();if(h!==g)return h-g;c=c.BW;e=e.BW;return c!==e?c-e:a.IB.fi()-f.IB.fi()}Gba(){const a=this.ra.Pf(),f=a||b;b.tj(this);this.Oe=new f;b.tj(null);if(a&&!(this.Oe instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}Oz(){return this.Oe}}}
{"use strict";const d=self.D;d.Bl=class extends d.ta{constructor(b,a){super();this.oc=b;this.th=[];this.vj=[];this.XB=new Map;this.oi=[];this.Zt=!0;for(const f of a)b=d.F(d.HN,this,f,this.th.length),this.th.push(b),this.XB.set(b.na.toLowerCase(),b),3<=f.length&&this.oi.push(this.KH(f[2]));this.K().E9(this)}A(){d.H(this.th);d.H(this.vj);this.XB.clear();d.H(this.oi);this.oc=null}Z5(b){if(b.length){this.th=b.concat(this.th);for(const a of b)this.XB.set(a.na.toLowerCase(),a);for(let a=0,f=this.th.length;a<
f;++a)this.th[a].efa(a)}}KH(b){b=b.slice(0);for(let a=0,f=b.length;a<f;++a){const c=b[a];if(Array.isArray(c)){const e=d.F(d.pb);e.np(c);b[a]=e}}return b}K(){return this.oc.K()}Yn(){d.H(this.vj);let b=!0;for(const a of this.th)a.Ub&&(this.vj.push(a),a.tb.Zt||(b=!1));this.Zt=b}Tg(){return this.th}d2(){return 0<this.th.length}Il(b){return this.XB.get(b.toLowerCase())||null}ZN(b){b=Math.floor(+b);if(0>b||b>=this.th.length)throw new RangeError("invalid effect type index");return this.th[b]}yv(b){return this.ZN(b).Ub}HQ(b,
a){this.ZN(b).xA(a)}tv(){return 0<this.vj.length}Ug(b){return this.oi[b]}static P6(b){return b&&b instanceof d.pb?{t:"color",v:b.toJSON()}:b}static k4(b){if("object"===typeof b){if("color"===b.t){const a=d.F(d.pb);a.np(b.v);return a}throw Error("invalid effect parameter type");}return b}static sQ(b){return b.map(d.Bl.P6)}static kP(b){return b.map(d.Bl.k4)}Ac(){return this.th.map(b=>({name:b.na,active:b.Ub,params:d.Bl.sQ(this.oi[b.Na()])}))}rc(b){for(const a of b)if(b=this.Il(a.name))b.xA(a.active),
this.oi[b.Na()]=d.Bl.kP(a.params);this.Yn()}}}
{"use strict";const d=self.D;d.HN=class extends d.ta{constructor(b,a,f){super();this.$a=b;this.vf=a[0];this.na=a[1];this.eb=f;this.tb=null;this.Ub=!0}A(){this.tb=this.$a=null}AZ(b){b=d.F(d.HN,b,[this.vf,this.na],-1);b.tb=this.tb;b.Ub=this.Ub;return b}PS(b){b=b.yO(this.vf);if(!b)throw Error("failed to find shader program '"+this.vf+"'");this.tb=b}efa(b){this.eb=b}Na(){return this.eb}K(){return this.$a.K()}xA(b){this.Ub=!!b}V0(){const b=[];for(let a=0,f=this.tb.Ar.length;a<f;++a){const c=this.tb.Jz(a);
if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(d.F(d.pb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const d=self.D;d.q3=class extends d.ta{constructor(b,a){super();this.I=b;this.Bha=a;this.$a=b.L().$a;this.gq=[];this.vj=[];this.Zt=!0;this.oi=[];for(const f of this.$a.Tg())this.gq.push(!0);this.Yn()}A(){d.H(this.gq);d.H(this.vj);d.H(this.oi);this.$a=this.I=null}eca(b){for(const a of b)this.oi.push(this.KH(a))}KH(b){b=b.slice(0);for(let a=0,f=b.length;a<f;++a){const c=b[a];if(Array.isArray(c)){const e=d.F(d.pb);e.np(c);b[a]=e}}return b}i4(){for(const b of this.$a.Tg())this.oi.push(b.V0())}K(){return this.I.K()}Yn(){d.H(this.vj);
const b=this.$a.Tg(),a=this.vj,f=this.gq;let c=!0;for(let e=0,h=b.length;e<h;++e)if(f[e]){const g=b[e];a.push(g);g.tb.Zt||(c=!1)}this.Zt=c;this.Bha.afa(!!a.length)}Ug(b){return this.oi[b]}yv(b){return this.gq[b]}HQ(b,a){this.gq[b]=!!a}Tg(){return this.$a.Tg()}ya(){return this.$a.Tg().map(b=>({name:b.na,active:this.gq[b.Na()],params:d.Bl.sQ(this.oi[b.Na()])}))}Fa(b){for(const a of b)if(b=this.$a.Il(a.name))this.gq[b.Na()]=a.active,this.oi[b.Na()]=d.Bl.kP(a.params);this.Yn()}}}
{"use strict";const d=self.D,b=[],a=[],f=d.F(d.sp),c=d.F(d.sp),e=d.F(d.yd);d.F(d.Rect);d.F(d.Rect);let h=null,g=null,l=null;d.CZ=class extends d.ta{constructor(n){super();this.j=n;this.Lx=[]}A(){this.j=null}cQ(n,p){const q=n.C(),r=p.C();q&&r&&q.bh()&&r.bh()&&this.Lx.push([n,p])}aN(n,p,q){for(const [r,x]of this.Lx){let w;if(n===r)w=x;else if(n===x)w=r;else continue;w.Or(p)&&(q.includes(w)||q.push(w))}}qN(n,p){if(!this.Lx.length)return!1;for(const [q,r]of this.Lx)if(n===q&&p===r||n===r&&p===q)return!0;
return!1}rN(){d.H(this.Lx)}Gk(n,p){if(!n||!p||n===p)return!1;n=n.C();p=p.C();if(!n.bh()||!p.bh())return!1;const q=n.qa(),r=p.qa();return q.U3(r)?this.Ifa(n,p):this.Hfa(n,p)}Ifa(n,p){if(!n.Uc().eE(p.Uc())||!n.$i().kM(p.$i())||n.gj()&&p.gj())return!1;if(n.gj())return this.$G(n,p);if(p.gj())return this.$G(p,n);if(!n.uv()&&!p.uv())return!0;const q=n.Ol(),r=p.Ol();return q.Dy(r,p.O()-n.O(),p.P()-n.P())}Hfa(n,p){var q=n.gj(),r=p.gj();if(q&&!r)return this.gR(n,p);if(r&&!q)return this.gR(p,n);if(r||q)return!1;
r=n.qa();q=p.qa();f.Ka(n.Ol());c.Ka(p.Ol());var x=f.Md;for(let w=0,v=x.length;w<v;w+=2){const t=w+1,A=x[t],[y,E]=r.Mp(x[w]+n.O(),A+n.P());x[w]=y;x[t]=E}n=c.Md;for(let w=0,v=n.length;w<v;w+=2){r=w+1;x=n[r];const [t,A]=q.Mp(n[w]+p.O(),x+p.P());n[w]=t;n[r]=A}f.iY();c.iY();return f.Dy(c,0,0)}gR(n,p){var q=n.qa(),r=p.qa();h||(h=d.F(d.sp));g||(g=d.F(d.Rect));l||(l=d.F(d.yd));var x=p.O(),w=p.P();const [v,t]=r.Mp(x,w),[A,y]=q.Ti(v,t);q=x-A;w-=y;g.Ka(p.Uc());g.offset(q,w);if(!n.Uc().eE(g))return!1;l.Ka(p.$i());
l.offset(q,w);if(!n.$i().kM(l))return!1;h.Ka(p.Ol());r=h.Md;for(let E=0,F=r.length;E<F;E+=2)x=E+1,r[E]+=q,r[x]+=w;return this.$G(n,p,A,y,h,g,l)}$G(n,p,q,r,x,w,v){w=void 0!==w?w:p.Uc();const t=n.O(),A=n.P();var y=n.Oa().ra;q=void 0!==q?q:p.O();r=void 0!==r?r:p.P();n=p.uv();v=void 0!==v?v:p.$i();y.Wna(w,a);for(let H=0,J=a.length;H<J;++H){var E=a[H];y=E.N1();if(w.zia(y,t,A)&&(e.op(y),e.offset(t,A),e.kM(v)))if(n){var F=void 0!==x?x:p.Ol();if(E=E.oO()){if(E.Dy(F,q-(t+y.X),r-(A+y.S)))return d.H(a),!0}else if(f.NM(e,
0,0),f.Dy(F,q,r))return d.H(a),!0}else if(F=E.oO()){if(f.NM(v,0,0),F.Dy(f,-(t+y.X),-(A+y.S)))return d.H(a),!0}else return d.H(a),!0}d.H(a);return!1}Hs(n,p,q,r){const x=n.ga();var w=this.j.Sb();if(!w)throw Error("cannot call outside event");w=w.le;if(x.ic){r||(x.Le(!1),d.H(x.J));for(var v of n.ua()){var t=v.C(),A=t.qa();const [y,E]=A.Ti(p,q,t.Yh());if(t.Qr(y,E)){if(r)return!1;x.cq(v)}else w&&x.ao(v)}}else{v=w?x.tc:x.J;t=0;for(let y=0,E=v.length;y<E;++y){A=v[y];const F=A.C(),H=F.qa(),[J,M]=H.Ti(p,q,
F.Yh());if(F.Qr(J,M)){if(r)return!1;w?x.cq(A):v[t++]=A}else w&&(v[t++]=A)}r||(v.length=t)}n.qc();return r?!0:x.HF()}yz(n,p,q,r){n=n?1!==n.zf||1!==n.Af:!1;if(p.hb)for(const x of p.qo)n||x.GI?d.ep(r,x.ua()):(x.rU(),x.PB.tA(q,r));else n||p.GI?d.ep(r,p.ua()):(p.rU(),p.PB.tA(q,r))}I1(n,p,q,r){for(const x of p)this.yz(n,x,q,r)}P1(n,p,q){const r=this.j.DF();r&&this.I1(n,r.vF(),p,q)}cG(n,p){return n.Vba()&&(!p||p.C().cG(n.Of().get("solidTags")))}Xn(n){const p=n.C();this.P1(p.qa(),p.Uc(),b);for(const q of b)if(this.cG(q,
n)&&this.Gk(n,q))return d.H(b),q;d.H(b);return null}g6(n,p,q,r,x){r=r||50;const w=n.C(),v=w.O(),t=w.P();for(let A=0;A<r;++A)if(w.zd(v+p*A,t+q*A),w.Aa(),!this.Gk(n,x))return;w.zd(v,t);w.Aa()}ZP(n,p,q,r){r=r||50;const x=n.C(),w=x.O(),v=x.P();let t=null,A=null;for(let y=0;y<r;++y)if(x.zd(w+p*y,v+q*y),x.Aa(),!this.Gk(n,t))if(t=this.Xn(n))A=t;else if(!t)return A&&this.f6(n,p,q,A),!0;x.zd(w,v);x.Aa();return!1}f6(n,p,q,r){let x=2,w=!1;var v=!1;const t=n.C();let A=t.O(),y=t.P();for(;16>=x;)v=1/x,x*=2,t.Ul(p*
v*(w?1:-1),q*v*(w?1:-1)),t.Aa(),this.Gk(n,r)||this.Xn(n)?v=w=!0:(v=w=!1,A=t.O(),y=t.P());v&&(t.zd(A,y),t.Aa())}$P(n){let p=0;const q=n.C(),r=q.O(),x=q.P();let w=0,v=this.Xn(n);if(v){for(;100>=p;){let t=0,A=0;switch(w){case 0:t=0;A=-1;p++;break;case 1:t=1;A=-1;break;case 2:t=1;A=0;break;case 3:A=t=1;break;case 4:t=0;A=1;break;case 5:t=-1;A=1;break;case 6:t=-1;A=0;break;case 7:A=t=-1}w=(w+1)%8;q.zd(Math.floor(r+t*p),Math.floor(x+A*p));q.Aa();if(!this.Gk(n,v)&&(v=this.Xn(n),!v))return}q.zd(r,x);q.Aa()}}jN(n,
p,q,r){const x=n.C(),w=x.O(),v=x.P(),t=Math.max(10,d.hg(p,q,w,v));var A=d.Hf(p,q,w,v),y=r||this.Xn(n);if(!y)return d.td(A+Math.PI);let E=y;var F=0,H=0;const J=d.Ba(5);let M;for(M=1;36>M;++M){const P=A-M*J;x.zd(p+Math.cos(P)*t,q+Math.sin(P)*t);x.Aa();if(!this.Gk(n,E)&&(E=r?null:this.Xn(n),!E)){F=P;break}}36===M&&(F=d.td(A+Math.PI));E=y;for(M=1;36>M;++M)if(y=A+M*J,x.zd(p+Math.cos(y)*t,q+Math.sin(y)*t),x.Aa(),!this.Gk(n,E)&&(E=r?null:this.Xn(n),!E)){H=y;break}36===M&&(H=d.td(A+Math.PI));x.zd(w,v);x.Aa();
if(H===F)return H;n=d.Dr(H,F)/2;n=d.De(H,F)?d.td(F+n+Math.PI):d.td(H+n);F=Math.cos(A);A=Math.sin(A);H=Math.cos(n);n=Math.sin(n);p=F*H+A*n;return d.Hf(0,0,F-2*p*H,A-2*p*n)}}}
{"use strict";const d=self.D;d.A8=class extends d.ta{constructor(b,a){super();this.WI=b;this.VI=a;this.Cj=d.F(d.Av)}A(){this.Cj.A();this.Cj=null}un(b,a,f){let c=this.Cj.ia(b,a);return c?c:f?(c=d.F(d.Z1,this,b,a),this.Cj.Set(b,a,c),c):null}pj(b){b=Math.floor(b/this.WI);return isFinite(b)?b:0}qj(b){b=Math.floor(b/this.VI);return isFinite(b)?b:0}am(b,a,f){if(a)for(let c=a.X,e=a.ca;c<=e;++c)for(let h=a.S,g=a.ba;h<=g;++h){if(f&&f.gg(c,h))continue;const l=this.un(c,h,!1);l&&(l.ai(b),l.Kp()&&this.Cj.tp(c,
h))}if(f)for(let c=f.X,e=f.ca;c<=e;++c)for(let h=f.S,g=f.ba;h<=g;++h)a&&a.gg(c,h)||this.un(c,h,!0).PF(b)}tA(b,a){let f=this.pj(b.X);const c=this.qj(b.S),e=this.pj(b.ca);b=this.qj(b.ba);if(isFinite(e)&&isFinite(b))for(;f<=e;++f)for(let h=c;h<=b;++h){const g=this.un(f,h,!1);g&&g.UE(a)}}}}
{"use strict";const d=self.D;d.Z1=class extends d.ta{constructor(b,a,f){super();this.da=a;this.Y=f;this.J=d.F(d.DE)}A(){this.J.A();this.J=null}Kp(){return this.J.Kp()}PF(b){this.J.wc(b)}ai(b){this.J.tp(b)}UE(b){d.ep(b,this.J.$E())}}}{"use strict";const d=self.D;d.Pra=class{constructor(){this.hia=this.gia=0;this.rect=new d.Rect;this.zy=0}Set(b,a,f,c){this.gia=f-b;this.hia=c-a;this.rect.set(b,a,f,c);this.rect.normalize();this.zy=0;return this}}}
{"use strict";const d=self.D,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),f=d.F(d.yd),c=d.F(d.Rect);d.JE=class extends d.ta{constructor(e){super();this.j=e;this.Pk=null;this.NV=!1;this.ql=this.ob=null;this.yJ="high-performance";this.ko=this.jo=this.ki=this.li=this.pd=this.Bd=this.rl=this.sl=0;this.ot=!0;this.Rk=this.vm=this.gX=0;this.VU=this.gV="letterbox-scale";this.yga=this.xga=0;this.Rj=this.NL="high";this.Jq=!1;this.Aw=
[];this.PD=new Set;this.fL=null;this.Cq=this.Cg=this.so=0;this.lC=null;this.mK=new Map;this.Kw=NaN;this.TD=new Map;this.uD="";this.iL=1;this.WW=d.F(d.Rect);this.jL="";this.XW=this.Ux=null;this.xx=0;this.Ve=-1;this.Do=0;this.sK=h=>this.Do=h.progress;this.ag=null;this.bg={Hy:null,Ky:null,Sy:null};this.nL=this.ZW=this.oL=0;this.ek="fade-in";this.mL=null;this.YW=new Promise(h=>this.mL=h)}Yea(e){this.yJ=e}yfa(e){this.NV=!!e}async Qg(e){this.Pk=e.canvas;this.j.Si("runtime","window-resize",h=>this.VH(h));
this.j.Si("runtime","fullscreenchange",h=>this.Vca(h));this.j.Si("runtime","fullscreenerror",h=>this.Wca(h));this.Jq=!!e.isFullscreen;if(this.NV)if(navigator.gpu)try{await this.Jba(e)}catch(h){this.ql=null,console.error("Failed to initialise WebGPU, switching to WebGL: ",h)}else console.warn("WebGPU was enabled but is not supported, falling back to WebGL");this.ql||await this.Iba(e)}async Jba(e){const h={powerPreference:this.yJ,depth:this.j.cn};this.ql=d.F(d.ka.twa);await this.ql.ab(this.Pk,h);this.ql.oj()||
(this.Cq=NaN);this.sc(e.windowInnerWidth,e.windowInnerHeight,!0)}async Iba(e){this.Pk.addEventListener("webglcontextlost",g=>this.mw(g));this.Pk.addEventListener("webglcontextrestored",()=>this.TH());const h={powerPreference:this.yJ,NX:!0,depth:this.j.cn};"Android"===d.md.os&&"Chromium"===d.md.Xy&&75>d.md.GE&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.pM=1);"standard"===this.j.et?h.alpha=
!0:(h.alpha=!1,h.oM=!0);this.ob=d.F(d.ka.p9,this.Pk,h);await this.ob.Yz();this.ob.oj()||(this.Cq=NaN);this.sc(e.windowInnerWidth,e.windowInnerHeight,!0);this.fL=self.C3_Shaders;await this.XS();e=!1;for(const g of this.j.AI){for(const l of g.Tg())l.PS(this.ob),l.tb.ny&&(e=!0);g.Yn()}this.j.wfa(e);this.ob.oj()&&(this.lC=d.F(d.ka.uR,this.ob));this.ob.IG(this.ot)}async XS(){if(this.fL){var e=[];for(const [h,g]of Object.entries(this.fL))e.push(this.ob.zN(g,d.ka.Vv.fF(),h));await Promise.all(e);this.ob.E6();
this.ob.ci()}}A(){this.Pk=this.ob=this.j=null}VH(e){const h=this.j,g=e.devicePixelRatio;h.Se&&(self.devicePixelRatio=g);h.Tea(g);this.Jq=!!e.isFullscreen;this.sc(e.innerWidth,e.innerHeight);h.aa();h.Bb&&(h.ds()||self.mg.Xoa())&&h.sG()}Vca(e){this.Jq=!!e.isFullscreen;this.sc(e.innerWidth,e.innerHeight,!0);this.j.aa()}Wca(e){this.Jq=!!e.isFullscreen;this.sc(e.innerWidth,e.innerHeight,!0);this.j.aa()}sc(e,h,g=!1){e=Math.floor(e);h=Math.floor(h);if(0>=e||0>=h)throw Error("invalid size");if(this.sl!==
e||this.rl!==h||g){this.sl=e;this.rl=h;g=this.hv();"letterbox-scale"===g?this.d$(e,h):"letterbox-integer-scale"===g?this.c$(e,h):"off"===g?this.a$(e,h):this.b$(e,h);this.Sfa(g);this.Pk.width=this.li;this.Pk.height=this.ki;this.j.Wl("canvas","update-size",{marginLeft:this.jo,marginTop:this.ko,styleWidth:this.Bd,styleHeight:this.pd});e=this.ac();e.sc(this.li,this.ki,!0);for(var l of this.Aw)e.k_(l);d.H(this.Aw);l=this.j.ib;l.Tp();l.Sp()}}d$(e,h){const g=this.j.Gl(),l=this.j.Dh,n=this.j.Ch,p=l/n;e/h>
p?(this.Bd=Math.round(h*p),this.pd=h,this.jo=Math.floor((e-this.Bd)/2),this.ko=0):(this.Bd=e,this.pd=Math.round(e/p),this.jo=0,this.ko=Math.floor((h-this.pd)/2));this.li=Math.round(this.Bd*g);this.ki=Math.round(this.pd*g);this.j.Tv(l,n)}c$(e,h){const g=this.j.Gl();1!==g&&(e+=1,h+=1);const l=this.j.Dh,n=this.j.Ch;var p=l/n;p=e/h>p?h*p*g/l:e/p*g/n;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.li=Math.round(l*p);this.ki=Math.round(n*p);this.Bd=this.li/g;this.pd=this.ki/g;this.jo=Math.max(Math.floor((e-
this.Bd)/2),0);this.ko=Math.max(Math.floor((h-this.pd)/2),0);this.j.Tv(l,n)}b$(e,h){const g=this.j.Gl();this.Bd=e;this.pd=h;this.li=Math.round(this.Bd*g);this.ki=Math.round(this.pd*g);this.ko=this.jo=0;e=this.Hl();this.j.Tv(this.Bd/e,this.pd/e)}a$(e,h){const g=this.j.Gl();this.Bd=this.j.eg;this.pd=this.j.dg;this.li=Math.round(this.Bd*g);this.ki=Math.round(this.pd*g);this.Jq?(this.jo=Math.floor((e-this.Bd)/2),this.ko=Math.floor((h-this.pd)/2)):this.ko=this.jo=0;this.j.Tv(this.j.eg,this.j.dg)}Sfa(e){if("high"===
this.NL)this.vm=this.li,this.Rk=this.ki,this.Rj="high";else{let g;if("off"===this.hv()){var h=this.j.eg;g=this.j.dg}else h=this.j.Dh,g=this.j.Ch;this.li<h&&this.ki<g?(this.vm=this.li,this.Rk=this.ki,this.Rj="high"):(this.vm=h,this.Rk=g,this.Rj="low","scale-inner"===e?(e=h/g,h=this.sl/this.rl,h<e?this.vm=this.Rk*h:h>e&&(this.Rk=this.vm/h)):"scale-outer"===e&&(e=h/g,h=this.sl/this.rl,h>e?this.vm=this.Rk*h:h<e&&(this.Rk=this.vm/h)))}}t7(e){if(!b.has(e))throw Error("invalid fullscreen mode");this.gV=
e;e=this.j.ib;e.Tp();e.Sp()}Ez(){return this.gV}j7(e){if(!b.has(e))throw Error("invalid fullscreen mode");this.VU=e;e=this.j.ib;e.Tp();e.Sp()}hv(){return this.Jq?this.VU:this.Ez()}IQ(e){if(!a.has(e))throw Error("invalid fullscreen scaling quality");this.NL=e;this.j.ib.Tp()}static hS(e){switch(e){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");
}}aj(){return this.vm}Th(){return this.Rk}IG(e){this.ot=!!e}vfa(e){this.gX=e}M3(){return this.ac().Ip()}mw(e){console.log("[Construct 3] WebGL context lost");e.preventDefault();this.Aw=[];this.PD.clear();this.ob.Vl();this.j.mw()}async TH(){await this.ob.jG();await this.XS();for(const e of this.j.AI)for(const h of e.Tg())h.PS(this.ob);await this.j.TH();console.log("[Construct 3] WebGL context restored")}Fp(){return this.ob}sv(){return this.ql}ac(){return this.ql||this.ob}xn(){return"low"===this.Rj?
1/this.j.Gl():this.Hl()}Hl(){const e=this.hv();if("off"===e||"crop"===e)return 1;const h=this.j.Dh,g=this.j.Ch,l=h/g,n=this.li/this.ki;return"scale-inner"!==e&&n>l||"scale-inner"===e&&n<l?this.pd/g:this.Bd/h}EQ(e,h,g){h=(h||this.vm)/2+this.xga;const l=(g||this.Rk)/2+this.yga;g=e.Ru(h,l,100*this.j.Gl(),h,l,g||this.Rk);e.zs(g)}e7(e){var h=this.Bd/2;const g=this.pd/2;h=e.Ru(h,g,100,h,g);e.zs(h)}El(){return this.jo}Fl(){return this.ko}bv(e){e.depth=this.j.cn;const h=this.Aw,g=h.findIndex(n=>n.y3(e));
let l;-1!==g?(l=h[g],h.splice(g,1)):l=this.ac().WZ(e);this.PD.add(l);return l}Mn(e){if(!this.PD.has(e))throw Error("render target not in use");this.PD.delete(e);this.Aw.push(e)}*UD(){for(const e of this.j.ib.Oy())for(const h of e.nc){const g=this.mK.get(h);g&&(yield g)}}B1(e){if(!this.ac().oj())return null;let h=this.mK.get(e);h||(h={name:e.na,SM:d.F(d.ka.uR,this.ob),WD:0,WX:0},this.mK.set(e,h));return h.SM}Pfa(){const e=this.ac();if(e.oj()&&0===this.Cg){this.Cg=e.ri;this.Kw=NaN;for(const h of this.UD())h.WD=
NaN}}Wfa(){this.ob&&this.ob.oj()&&this.Xfa();this.ql&&this.ql.oj()&&this.Yfa()}Xfa(){if(isNaN(this.Kw)&&(this.Kw=this.lC.eO(this.so,this.Cg),!isNaN(this.Kw))){if(this.j.Bb)for(const e of this.UD())if(e.WD=e.SM.eO(this.so,this.Cg),isNaN(e.WD))return;this.lC.CN(this.Cg);this.Cq=Math.min(this.Kw,1);if(this.j.Bb){for(const e of this.UD())e.SM.CN(this.Cg),e.WX=Math.min(e.WD,1);self.mg.c9(this.Cq,[...this.UD()])}this.so=this.Cg;this.Cg=0}}Yfa(){if(0!==this.Cg){for(var e=this.so;e<this.Cg;++e){var h=this.TD.get(e);
if(h&&!h.Wz())return}h=this.j.Wb();e=d.r4(h.nc.length+1);for(var g=this.so;g<this.Cg;++g){var l=this.TD.get(g);if(l){l=l.Nz();for(let n=0,p=Math.min(e.length,l.length/2);n<p;++n){const q=l[2*n],r=l[2*n+1];e[n]=0===Number(q)||0===Number(r)?NaN:e[n]+Number(r-q)/1E9}}}this.Cq=d.fa(e[0],0,1);if(this.j.Bb){g=[];h=h.nc;for(let n=0,p=Math.min(h.length,e.length-1);n<p;++n)g.push({name:h[n].na,WX:d.fa(e[n+1],0,1)});self.mg.c9(this.Cq,g)}for(e=this.so;e<this.Cg;++e)this.TD.delete(e);this.so=this.Cg;this.Cg=
0}}O9(e){this.TD.set(this.ql.ri,e)}Gz(){return this.Cq}cR(e,h,g,l,n,p){this.uD=e;this.iL=h;this.WW.Ri(g,l,n,p);return this.Ux?this.Ux:this.Ux=new Promise(q=>{this.XW=q})}Bca(){if(this.uD){var e=this.Pk,h=this.WW,g=d.fa(Math.floor(h.X),0,e.width),l=d.fa(Math.floor(h.S),0,e.height),n=h.width();n=0===n?e.width-g:d.fa(Math.floor(n),0,e.width-g);h=h.height();h=0===h?e.height-l:d.fa(Math.floor(h),0,e.height-l);(0!==g||0!==l||n!==e.width||h!==e.height)&&0<n&&0<h&&(e=d.Qg(n,h),e.getContext("2d").drawImage(this.Pk,
g,l,n,h,0,0,n,h));d.Su(e,this.uD,this.iL).then(p=>{this.jL=URL.createObjectURL(p);this.Ux=null;this.XW(this.jL)});this.uD="";this.iL=1}}X2(e){this.ob&&(2===e?(this.ag=d.F(d.ka.eQ,this.ac()),this.ag.B7(),this.ag.q7(),this.ag.r7(),this.ag.w7(),this.ag.o8(),this.ag.sc(300,200)):0===e?(e=this.j.Qt)&&e.In(this.ob).catch(h=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",h)):4===e&&(this.pca().then(h=>{"done"===this.ek?this.ob.kk(h):this.bg.Hy=h}).catch(h=>console.warn("Failed to load splash image: ",
h)),this.WS("splash-images/splash-poweredby-512.png").then(h=>{"done"===this.ek?this.ob.kk(h):this.bg.Ky=h}).catch(h=>console.warn("Failed to load splash image: ",h)),this.WS("splash-images/splash-website-512.png").then(h=>{"done"===this.ek?this.ob.kk(h):this.bg.Sy=h}).catch(h=>console.warn("Failed to load splash image: ",h))))}async pca(){var e=(new URL("splash-images/splash-logo.svg",this.j.bF())).toString();e=await d.Dl(e);e=await this.j.k6(e);return await this.ob.fz(e,{Iy:"high"})}async WS(e){e=
(new URL(e,this.j.bF())).toString();e=await d.Dl(e);return await this.ob.fz(e,{Iy:"high"})}LF(){this.j.Wl("runtime","hide-cordova-splash")}H8(){this.xx=Date.now();this.j.Kb().addEventListener("loadingprogress",this.sK);this.Ve=requestAnimationFrame(()=>this.aS());3!==this.j.Pt&&this.LF()}async n0(){if(this.ob){this.Do=1;var e=this.j.Pt;4===e&&await this.YW;this.YW=this.mL=null;-1!==this.Ve&&(cancelAnimationFrame(this.Ve),this.Ve=-1);this.j.Kb().removeEventListener("loadingprogress",this.sK);this.sK=
null;this.ag&&(this.ag.A(),this.ag=null);this.j.p6();this.ob.Wn();this.bg.Hy&&(this.ob.kk(this.bg.Hy),this.bg.Hy=null);this.bg.Ky&&(this.ob.kk(this.bg.Ky),this.bg.Ky=null);this.bg.Sy&&(this.ob.kk(this.bg.Sy),this.bg.Sy=null);this.ob.bz();this.ob.Zu();this.ek="done";this.so=this.ob.ri;3===e&&this.LF()}}aS(){if(-1!==this.Ve){var e=this.ob;if(e){e.Wn();this.Ve=-1;var h=this.j.Ab.BJ,g=this.j.Pt;3!==g&&(this.e7(e),e.bz(),e.ss(),e.ci(),e.wg(null));if(0===g)this.Aaa(h);else if(1===g)this.VA(h,120,0);else if(2===
g)this.zaa(h);else if(3!==g)if(4===g)this.Baa(h);else throw Error("invalid loader style");e.Zu();this.Ve=requestAnimationFrame(()=>this.aS())}}}zaa(e){e?this.ag.zQ(1,0,0):this.ag.zQ(.6,.6,.6);this.ag.Ds(Math.round(100*this.Do)+"%");e=this.Bd/2;const h=this.pd/2;f.kY(e-150,h-100,e+150,h+100);this.ob.wg(this.ag.Ud());this.ob.Ln(f,this.ag.Xh())}VA(e,h,g){const l=this.ob;l.FG();e?l.Tf(1,0,0,1):l.Tf(.118,.565,1,1);e=this.Bd/2;const n=this.pd/2,p=h/2;c.Ri(e-p,n-4+g,Math.floor(h*this.Do),8);l.Rect(c);c.Ri(e-
p,n-4+g,h,8);c.offset(-.5,-.5);c.dE(.5,.5);l.Tf(0,0,0,1);l.gP(c);c.dE(1,1);l.Tf(1,1,1,1);l.gP(c)}Aaa(e){var h=this.j.Qt;if(h)if(h=h.Ud()){var g=h.T(),l=h.U(),n=this.Bd/2,p=this.pd/2,q=g/2;l/=2;f.kY(n-q,p-l,n+q,p+l);this.ob.wg(h);this.ob.yd(f);this.VA(e,g,l+16)}else this.VA(e,120,0);else this.VA(e,120,0)}Baa(e){const h=this.ob,g=this.bg.Hy,l=this.bg.Ky,n=this.bg.Sy,p=Date.now();0===this.oL&&(this.xx=p);const q=this.j.ks()||this.j.Nga&&!this.j.z3(),r=q?0:200,x=q?0:3E3;let w=1;"fade-in"===this.ek?w=
Math.min((p-this.xx)/300,1):"fade-out"===this.ek&&(w=Math.max(1-(p-this.nL)/300,0));h.FG();h.Tf(.231*w,.251*w,.271*w,w);c.set(0,0,this.Bd,this.pd);h.Rect(c);const v=Math.ceil(this.Bd),t=Math.ceil(this.pd);let A;256<this.pd?(h.Tf(.302*w,.334*w,.365*w,w),A=Math.max(.005*t,2),c.Ri(0,.8*t-A/2,v,A),h.Rect(c),e?h.Tf(w,0,0,w):h.Tf(.161*w,.953*w,.816*w,w),e=v*this.Do,c.Ri(.5*v-e/2,.8*t-A/2,e,A),h.Rect(c),h.Tf(w,w,w,w),h.ci(),l&&(e=1.5*d.fa(.22*t,105,.6*v),A=e/8,c.Ri(.5*v-e/2,.2*t-A/2,e,A),h.wg(l),h.Rect(c)),
g&&(A=e=Math.min(.395*t,.95*v),c.Ri(.5*v-e/2,.485*t-A/2,e,A),h.wg(g),h.Rect(c)),n&&(e=1.5*d.fa(.22*t,105,.6*v),A=e/8,c.Ri(.5*v-e/2,.868*t-A/2,e,A),h.wg(n),h.Rect(c))):(h.Tf(.302*w,.334*w,.365*w,w),A=Math.max(.005*t,2),c.Ri(0,.85*t-A/2,v,A),h.Rect(c),e?h.Tf(w,0,0,w):h.Tf(.161*w,.953*w,.816*w,w),e=v*this.Do,c.Ri(.5*v-e/2,.85*t-A/2,e,A),h.Rect(c),h.Tf(w,w,w,w),h.ci(),g&&(A=e=.55*t,c.Ri(.5*v-e/2,.45*t-A/2,e,A),h.wg(g),h.Rect(c)));this.oL++;"fade-in"===this.ek&&300<=p-this.xx&&2<=this.oL&&(this.ek="wait",
this.ZW=p);"wait"===this.ek&&p-this.ZW>=x&&1<=this.Do&&(this.ek="fade-out",this.nL=p);("fade-out"===this.ek&&p-this.nL>=300+r||q&&1<=this.Do&&500>p-this.xx)&&this.mL()}}}
{"use strict";const d=self.D,b=self.mg,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;d.rQ=class extends d.ta{constructor(c){c=Object.assign({},a,c);super();this.Cx=c.messagePort;this.lga=c.baseUrl;this.Se=!!c.isInWorker;f=c.ife;this.Nj=c.exportType;this.cK=!!c.isiOSCordova;this.Nga=!!c.isFBInstantAvailable;this.jha=c.opusWasmScriptUrl;this.rW=c.opusWasmBinaryUrl;this.Re=this.sga=this.Bb=!("preview"!==this.Nj||!c.isDebug);this.bJ=
0;this.wB=[];this.fga=[];this.XK=this.AW=this.mD="";this.Ch=this.Dh=0;this.QU=self.devicePixelRatio;this.Pt=this.dg=this.eg=this.LK=this.KK=0;this.QD=!1;this.Yk=!0;this.KL=!1;this.Qt=null;this.Ab=d.F(d.cZ,this,c);this.ib=d.F(d.b4,this);this.Ea=d.F(d.s0,this);this.Ko=d.F(d.S5,this);this.sf=d.F(d.CZ,this);this.Rb=d.F(d.P8,this);this.xL=d.F(d.U8,this);this.od=[];this.EK=new Map;this.FK=new Map;this.bV=0;this.hga=[];this.AI=[];this.ht=[];this.Cm=[];this.uC=new Map;this.mC=!1;this.Ex=this.GK=0;this.Gq=
new Map;this.Hq=new Set;this.vC=new Set;this.cD=[];this.PV=[];this.ea=null;this.cn=!1;this.sJ="vsync";this.et="standard";this.gd="trilinear";this.$k=!1;this.CK=!0;this.ZJ=this.uW=!1;this.wha={ZX:e=>{this.Tm=this.Ve=-1;this.Ad(e)},Aja:e=>{this.Tm=-1;this.Ad(e,!1,"skip-render")},nja:()=>{this.Ve=-1;this.sG()}};this.Tm=this.Ve=-1;this.qt=this.Wm=this.jl=0;this.wV=this.$w=this.nC=!1;this.VJ=!0;this.hu=0;this.pha=new d.oG(1);this.oha=()=>Math.random();this.UB=this.VB=this.SC=this.Qo=0;this.Nd=1;this.kW=
30;this.wJ=d.F(d.ms);this.xJ=d.F(d.ms);this.ML=d.F(d.ms);this.iC=-1;this.ZC=this.Im=this.hC=this.Aq=0;this.Zk=!1;this.wx=this.Ox="";this.Ot=null;this.Rq="";this.cL=this.WK=null;this.fc=d.F(d.Event.Kb);this.gJ=new Map;this.NK=new Map;this.fha=0;this.MV=this.RU=this.SU=!1;this.LL=[];this.yq={pretick:d.F(d.Event,"pretick",!1),tick:d.F(d.Event,"tick",!1),tick2:d.F(d.Event,"tick2",!1),instancedestroy:d.F(d.Event,"instancedestroy",!1),beforelayoutchange:d.F(d.Event,"beforelayoutchange",!1),layoutchange:d.F(d.Event,
"layoutchange",!1)};this.yq.instancedestroy.instance=null;this.Ce=d.F(d.Event.Kb);this.pX=null;this.ho=d.F(d.Pp,d.Vy.WG);this.fo=d.F(d.Pp,d.Vy.WG);this.nq=d.F(d.Pp,d.Vy.WG);this.jx=d.F(d.X3,this,c.jobScheduler);c.canvas&&(this.ea=d.F(d.JE,this));this.Cx.onmessage=e=>this._OnMessageFromDOM(e.data);this.Si("runtime","visibilitychange",e=>this.sda(e));this.Si("runtime","opus-decode",e=>this.bga(e.arrayBuffer));this.Si("runtime","get-remote-preview-status-info",()=>this.oba());this.Si("runtime","js-invoke-function",
e=>this.eB(e));this.Si("runtime","go-to-last-error-script",self.goToLastErrorScript);this.fc.addEventListener("window-blur",e=>this.UH(e));this.fc.addEventListener("window-focus",()=>this.tda());this.Rb.PY();this.Tj=null;this.Jga=new WeakMap;this.ct={keyboard:null,sM:null,UM:null}}static ab(c){return d.F(d.rQ,c)}A(){d.H(this.od);this.EK.clear();this.FK.clear();this.ib.A();this.ib=null;this.Ea.A();this.Ea=null;this.Ko.A();this.Ko=null;this.Ab.A();this.Ab=null;this.sf.A();this.sf=null;this.Rb.A();this.Rb=
null;this.xL.A();this.xL=null;this.ea&&(this.ea.A(),this.ea=null);this.fc.A();this.fc=null}["_OnMessageFromDOM"](c){const e=c.type;if("event"===e)this.hT(c);else if("result"===e)this.lda(c);else throw Error(`unknown message '${e}'`);}hT(c){if(this.MV){var e=c.component,h=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===e&&(n&&(c=new d.Event(h),c.data=g,this.fc.dia(c)),l)){c=new d.Event(h,!0);for(const [q,r]of Object.entries(g))c[q]=
r;this.Qh(c)}if(c=this.gJ.get(e))if(c=c.get(h)){n=null;try{n=c(g)}catch(q){console.error(`Exception in '${e}' handler '${h}':`,q);null!==p&&this.iB(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.iB(p,!0,q)).catch(q=>{console.error(`Rejection from '${e}' handler '${h}':`,q);this.iB(p,!1,""+q)}):this.iB(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${h}' for component '${e}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${e}'`)}else this.LL.push(c)}iB(c,
e,h){this.Cx.postMessage({type:"result",responseId:c,isOk:e,result:h})}lda(c){const e=c.responseId,h=c.isOk;c=c.result;const g=this.NK.get(e);h?g.resolve(c):g.reject(c);this.NK.delete(e)}Si(c,e,h){let g=this.gJ.get(c);g||(g=new Map,this.gJ.set(c,g));if(g.has(e))throw Error(`[Runtime] Component '${c}' already has handler '${e}'`);g.set(e,h)}Wl(c,e,h){this.Cx.postMessage({type:"event",component:c,handler:e,data:h,responseId:null})}Op(c,e,h){const g=this.fha++,l=new Promise((n,p)=>{this.NK.set(g,{resolve:n,
reject:p})});this.Cx.postMessage({type:"event",component:c,handler:e,data:h,responseId:g});return l}X5(){if(!this.Bb)throw Error("not in debug mode");this.Wl("runtime","post-to-debugger",{type:"reload"})}async Zg(c){this.Bb?await b.Zg(this):self.mg&&self.mg.Moa(this);var [e]=await Promise.all([this.Ab.NN("data.json"),this.Aca(),this.jx.Zg()]);this.cca(e);await this.Kba(c);this.ks()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Fp()?(e=this.Fp(),
console.info(`[C3 runtime] Hosted in ${this.Se?"worker":"DOM"}, rendering with WebGL ${e.ae} [${e.ky}] (${e.B3()?"desynchronized":"standard"} compositing)`),e.tV&&console.warn("[C3 runtime] WebGL indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.")):this.sv()&&console.info(`[C3 runtime] Hosted in ${this.Se?"worker":"DOM"}, rendering with experimental WebGPU`);this.MV=!0;for(const h of this.LL)this.hT(h);d.H(this.LL);this.ea&&
this.ea.H8();for(const h of c.runOnStartupFunctions)this.wB.push(this.iea(h));await Promise.all([this.Ab.sR(),...this.wB]);d.H(this.wB);if(this.Ab.BJ)this.ea&&this.ea.LF();else return this.ea&&await this.ea.n0(),await this.fc.bM(new d.Event("beforeruntimestart")),await this.Wn(),this.Cx.postMessage({type:"runtime-ready"}),this}async iea(c){try{await c(this.Tj)}catch(e){console.error("[C3 runtime] Error in runOnStartup function: ",e)}}cca(c){c=c.project;this.mD=c[0];this.AW=c[16];this.XK=c[31];const e=
c[39]||"loading-logo.png";this.$k=!!c[9];this.Dh=this.eg=c[10];this.Ch=this.dg=c[11];this.KK=this.Dh/2;this.LK=this.Ch/2;this.et=c[36];this.sJ=c[37];"low-latency"===this.et&&this.t3()&&77>=d.md.GE&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.et="standard");this.cn=!!c[40];this.gd=c[14];this.QD=!!c[18];this.Pt=c[19];this.Ex=c[21];this.uW=
c[22];const h=this.Ab;h.Mea(c[7],c[25]);h.lfa(c[8]);h.Xea(c[32]);h.cfa(c[28]);h.xfa(c[29]);if(0===this.Pt){let q="";this.ks()?h.cB(e)&&(q=h.sF(e)):q=h.xV+e;q&&(this.Qt=h.mA({url:q}))}this.ea&&(this.ea.t7(d.JE.hS(c[12])),this.ea.IQ(c[23]?"high":"low"),this.ea.IG(0!==c[24]),this.ea.Yea(c[34]),this.ea.vfa(c[41]),this.ea.yfa(c[13]));this.Ko.XZ();this.cD=self.iN();for(var g of c[2])this.Ko.VZ(g);this.cD=self.iN();this.jca();for(var l of c[3])g=d.hG.ab(this,this.od.length,l),this.od.push(g),this.EK.set(g.na.toLowerCase(),
g),this.FK.set(g.gb,g);for(const q of c[4])this.od[q[0]].fca(q);for(var n of c[27])l=n.map(q=>this.od[q]),this.hga.push(d.F(d.KZ,this,l));for(const q of this.od)q.Lca();for(const q of c[5])this.ib.ab(q);(n=c[1])&&(n=this.ib.Wr(n))&&this.ib.o7(n);for(var p of c[33])this.Rb.ab(p);for(const q of c[35])this.xL.ab(q);this.Hba();for(const q of c[6])this.Ea.ab(q);this.Ea.Yb();this.Dba();d.H(this.cD);this.pe();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.Wl("runtime","set-target-orientation",
{targetOrientation:p})}AE(c){this.wB.push(c)}lba(){return this.bV++}E9(c){this.AI.push(c)}async Kba(c){this.ea&&(await this.ea.Qg(c),this.ea.X2(this.Pt))}async Aca(){if(!this.Ab.PO("audio/webm; codecs=opus")){var c=null;try{c=this.cK&&this.Ab.Yw?await this.Ab.vN(this.rW):await this.Ab.Xu(this.rW)}catch(e){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",e);return}c?this.IY(c):this.HY();await this.JY([this.jha])}}async bga(c){return await this.zE("OpusDecode",{arrayBuffer:c},
[c])}async Wn(){this.nC=!0;this.Qo=Date.now();if(this.QD){for(var c of this.od)c.hb||c.YJ||!c.Xf||c.cc();this.Ab.sR().then(()=>{this.Yk=!1;this.lT()})}else this.Yk=!1;this.Ab.x7();this.Bb&&b.Vsa(f);for(const e of this.ib.xj)e.w$();c=this.ib.i1();await c.JH(null,this.ac());await c.mU(!0);this.Aq=performance.now();this.QD||this.lT();(await this.Op("runtime","before-start-ticking")).isSuspended?this.hu++:this.Ad()}lT(){this.la(d.m.Da.G.MP,null,null);this.Wl("runtime","register-sw")}Wh(c){c=Math.floor(c);
const e=this.cD;if(0>c||c>=e.length)throw Error("invalid object reference");return e[c]}jca(){for(const c of self.jZ){const e=d.first(Object.keys(c));this.PV.push(e)}}cj(c){c=Math.floor(c);const e=this.PV;if(0>c||c>=e.length)throw Error("invalid prop reference");return e[c]}bF(){return this.lga}xa(){return this.Ea}wd(){return this.Ea.wd()}Lf(){return this.Ea.Lf()}Sb(){return this.Ea.Sb()}Kf(){return this.Ea.Kf()}A3(){return 0===this.Lf().qm}gv(){return this.Ea.gv()}pv(){return this.Ko.pv()}Nf(c){c=
Math.floor(c);if(0>c||c>=this.od.length)throw new RangeError("invalid index");return this.od[c]}tF(c){return this.EK.get(c.toLowerCase())||null}Iz(c){return this.FK.get(c)||null}*Eha(){for(const c of this.od)c.hb||(yield*c.RX())}Kb(){return this.fc}Qh(c){c.Rc=this.Tj;const e=this.Bb&&!this.Ea.aA();e&&b.YG();this.Ce.dispatchEvent(c);e&&b.CE()}up(c){c.Rc=this.Tj;return this.Ce.bM(c)}L7(c,e){if(this.Dh!==c||this.Ch!==e)this.Dh=c,this.Ch=e,c=this.ib,c.Tp(),c.Sp()}Tv(c,e){if(this.eg!==c||this.dg!==e)this.eg=
c,this.dg=e,c=this.ib,c.Tp(),c.Sp()}Tea(c){this.QU=c}Gl(){return this.QU}aj(){return this.ea?this.ea.aj():this.eg}Th(){return this.ea?this.ea.Th():this.dg}xn(){return this.ea?this.ea.xn():1}Hl(){return this.ea?this.ea.Hl():1}El(){return this.ea?this.ea.El():0}Fl(){return this.ea?this.ea.Fl():0}VN(){return this.ea?this.ea.Bd:0}UN(){return this.ea?this.ea.pd:0}Ez(){return this.ea?this.ea.Ez():"off"}bv(c){return this.ea?this.ea.bv(c):null}Mn(c){this.ea&&this.ea.Mn(c)}wfa(c){this.KL=!!c}Gz(){return this.ea?
this.ea.Gz():NaN}ZF(){return"nearest"!==this.gd}p6(){this.Qt&&(this.Qt.A(),this.Qt=null)}Wb(){return this.ib.Wb()}mA(c){return this.Ab.mA(c)}PE(c,e,h,g,l){return this.Wi(c,e,!1,h,g,!1,l)}Wi(c,e,h,g,l,n,p){var q=null;let r=null;c instanceof d.hG?(r=c,r.hb&&(q=r.qo,r=q[Math.floor(this.Xl()*q.length)]),q=r.kt):(q=c,r=this.Nf(q[1]));c=r.Tb().Xf;if(this.Yk&&c&&!r.YJ)return null;const x=e;c||(e=null);var w=h&&!n&&q&&!this.Gq.has(q[2])?q[2]:this.Ex++;const v=q?q[0]:null,t=d.F(d.Instance,{Rc:this,wM:r,oe:e,
wY:v,QX:q?q[3]:null,uid:w});this.Gq.set(w,t);w=null;c&&(w=t.C(),"undefined"!==typeof g&&"undefined"!==typeof l&&(w.Vf(g),w.mf(l)),r.MT());e&&(p||e.ei(t,!0),1===e.zf&&1===e.Af||r.bI(!0),e.Hd().nP(r));this.GK++;if(r.Gc()&&!h&&!n){for(var A of r.Fj.Nm){if(A===r)continue;const F=this.Wi(A,x,!1,w?w.O():g,w?w.P():l,!0,!1);t.Ls(F)}for(var y of t.Yd){y.Ls(t);for(var E of t.Yd)y!==E&&y.Ls(E)}}c&&!h&&p&&this.lH(t,v,w,e,g,l);if(r.Gc()&&!h&&!n&&p)for(const F of t.Yd)if(A=F.C())y=F.Tb(),E=F.L().kt[0],y.Xf?this.lH(F,
E,A,e,A.O(),A.P()):this.lH(F,E,A,e);if(p&&!n&&!h&&t.Gc())for(const F of t.Yd)for(const H of F.Yd)t===H&&x.bo(F,!0);!n&&p&&("undefined"===typeof g&&(g=v[0]),"undefined"===typeof l&&(l=v[1]),e=w.Qz(),g=g-w.O()+e.O(),l=l-w.P()+e.P(),e.zd(g,l));r.pw();l=q?d.VD(q[5]):null;q=q?q[4].map(F=>d.VD(F)):null;c&&v&&v[13]&&t.bfa();t.RA(l,q);this.Cm.push(t);this.mC=!0;this.Bb&&b.Noa(t);return t}lH(c,e,h,g,l,n){var p=h.PW,q=h.dL;c.C().KG(p);if(q){"undefined"===typeof l&&(l=e[0]);"undefined"===typeof n&&(n=e[1]);
p=new Set;h=e[0];e=e[1];for(const t of q){var r=t[1],x=t[2];q=t[3];var w=!!t[4];const A=t[5];x=this.ib.rF(t[0]).qa(r).q1(x);r=this.Nf(x[1]);var v=c.n2(r);const y=p.has(r);v&&!y&&w?(w=c.zO(r),v=l+x[0][0]-h,x=n+x[0][1]-e,w.C().zd(v,x),w.C().KG(A),c.rn(w,{Iu:!!(q>>0&1),Ju:!!(q>>1&1),Lr:!!(q>>2&1),Kr:!!(q>>3&1),Hu:!!(q>>4&1),yy:!!(q>>5&1),Ku:!!(q>>6&1)}),p.add(r)):(r=this.Wi(x,g,!1,l+x[0][0]-h,n+x[0][1]-e,!1,!0),r.C().KG(A),c.rn(r,{Iu:!!(q>>0&1),Ju:!!(q>>1&1),Lr:!!(q>>2&1),Kr:!!(q>>3&1),Hu:!!(q>>4&1),
yy:!!(q>>5&1),Ku:!!(q>>6&1)}))}}}tn(c){if(!this.Hq.has(c)){var e=c.L(),h=this.uC.get(e);if(h){if(h.has(c))return;h.add(c)}else h=new Set,h.add(c),this.uC.set(e,h);this.Bb&&b.Ooa(c);c.MH();this.mC=!0;if(c.Gc())for(const g of c.Yd)this.tn(g);for(const g of c.children())g.Bz()&&this.tn(g);this.ib.WO()||this.Zk||(e=this.xa(),e.Ze(!0),c.Lfa(),e.Ze(!1));c.Paa(this.ib.WO())}}pe(){this.mC&&(this.Raa(),this.Saa(),this.mC=!1,this.aa())}Raa(){for(const c of this.Cm){const e=c.L();e.ei(c);for(const h of e.pi)h.ei(c),
h.pw()}d.H(this.Cm)}Saa(){this.fc.xs(!0);for(const [c,e]of this.uC.entries())this.Taa(c,e),e.clear();this.uC.clear();this.fc.xs(!1)}Taa(c,e){for(const g of e){var h=this.yq.instancedestroy;h.instance=g;this.fc.dispatchEvent(h);this.Gq.delete(g.Gb);if(h=g.C())h.vT(),h.wT(),h.MH();this.Hq.add(g);this.GK--}d.Mh(c.ua(),e);c.pw();this.vC.add(c);0===c.ua().length&&c.bI(!1);for(const g of c.pi)d.Mh(g.ua(),e),g.pw(),this.vC.add(g);if(c.Tb().Xf){c=new Set([...e].map(g=>g.C().qa()));for(const g of c)g.Nda(e)}}*jM(c){for(const e of this.Cm)c.hb?
e.L().FE(c)&&(yield e):e.L()===c&&(yield e)}kba(){return this.Ex++}xca(c,e){this.Gq.set(c,e)}mw(){this.fc.dispatchEvent(d.F(d.Event,"webglcontextlost"));this.Sv(!0);for(var c of this.od)!c.hb&&c.l2()&&c.Nn();(c=this.Wb())&&c.mw();d.xv.ps();d.MO.ps()}async TH(){await this.Wb().JH(null,this.Fp());this.fc.dispatchEvent(d.F(d.Event,"webglcontextrestored"));this.Sv(!1);this.aa()}sda(c){this.Sv(c.hidden)}UH(c){this.ks()&&this.uW&&!d.md.dA&&!c.data.parentHasFocus&&(this.Sv(!0),this.ZJ=!0)}tda(){this.ZJ&&
(this.Sv(!1),this.ZJ=!1)}xT(){const c=this.wha;"vsync"===this.sJ?-1===this.Ve&&(this.Ve=self.requestAnimationFrame(c.ZX)):"unlimited-tick"===this.sJ?(-1===this.Tm&&(this.Tm=d.uG(c.Aja)),-1===this.Ve&&(this.Ve=self.requestAnimationFrame(c.nja))):-1===this.Tm&&(this.Tm=d.uG(c.ZX))}i$(){-1!==this.Ve&&(self.cancelAnimationFrame(this.Ve),this.Ve=-1);-1!==this.Tm&&(d.pZ(this.Tm),this.Tm=-1)}Gn(){return 0<this.hu}Sv(c){var e=this.Gn();this.hu+=c?1:-1;0>this.hu&&(this.hu=0);c=this.Gn();!e&&c?(console.log("[Construct 3] Suspending"),
this.i$(),this.fc.dispatchEvent(d.F(d.Event,"suspend")),this.la(d.m.Da.G.H5,null,null)):e&&!c&&(console.log("[Construct 3] Resuming"),this.Aq=this.SC=e=performance.now(),this.Im=this.ZC=this.hC=this.iC=0,this.fc.dispatchEvent(d.F(d.Event,"resume")),this.la(d.m.Da.G.E5,null,null),this.ds()||this.Ad(e))}B9(c){this.ho.wc(c)}A9(c){this.fo.wc(c)}Pda(c){this.ho.ai(c)}Oda(c){this.fo.ai(c)}Qda(c){this.nq.ai(c)}Y9(){this.ho.bi(!0);for(const c of this.ho)c.Ad();this.ho.bi(!1)}X9(){this.fo.bi(!0);for(const c of this.fo)c.mG();
this.fo.bi(!1)}Z9(){this.nq.bi(!0);for(const c of this.nq);this.nq.bi(!1)}*L$(){this.ho.bi(!0);for(const c of this.ho){const e=c.Ad();d.Dn(e)&&(yield*e)}this.ho.bi(!1)}*K$(){this.fo.bi(!0);for(const c of this.fo){const e=c.mG();d.Dn(e)&&(yield*e)}this.fo.bi(!1)}*M$(){this.nq.bi(!0);for(const c of this.nq)d.Dn(void 0)&&(yield*void 0);this.nq.bi(!1)}async Ad(c,e,h){this.wV=!0;const g="background-wake"===h;h="background-wake"!==h&&"skip-render"!==h;this.nC&&(!this.Gn()||e||g)&&(e=performance.now(),this.$w=
!0,this.Dca(c||0),c=this.J8(),this.Re&&await c,c=this.fc.eia(this.yq.pretick),c instanceof Promise&&await c,c=this.I8(),this.Re&&await c,this.Jca()&&await this.vba(),this.ib.js()&&await this.zca(),c=this.K8(),this.Re&&await c,h&&this.sG(),this.Gn()||g||this.xT(),this.jl++,this.Wm++,this.qt++,this.$w=!1,this.Im+=performance.now()-e)}async J8(){const c=this.Ea,e=this.Bb;this.pe();c.Ze(!0);this.Dv(this.Wb());e&&b.Gs();this.Re?await c.e_():c.O6();e&&b.GY();this.Cv();c.Ze(!1);this.pe();c.Ze(!0)}async I8(){const c=
this.Bb,e=this.Re,h=this.fc,g=this.yq,l=this.pX;c&&b.Gs();e?await this.kz(this.L$()):this.Y9();e?await this.kz(this.K$()):this.X9();c&&b.BY();c&&b.Gs();e?await this.AN(g.tick):h.dispatchEvent(g.tick);c&&b.LY();this.Ea.Ze(!1);this.Qh(l.tick)}async K8(){const c=this.Ea,e=this.fc,h=this.yq,g=this.Bb,l=this.Re;g&&b.Gs();l?await c.c_(this.ib):c.M6(this.ib);g&&b.GY();this.sf.rN();this.tT();this.VJ=!1;c.Ze(!0);g&&b.Gs();l?await this.kz(this.M$()):this.Z9();g&&b.BY();g&&b.Gs();l?await this.AN(h.tick2):e.dispatchEvent(h.tick2);
g&&b.LY();c.Ze(!1);l&&await c.qQ()}tT(){if(0!==this.Hq.size){var c=this.fc;c.xs(!0);for(const e of this.vC)e.Oo.Qp(this.Hq);this.vC.clear();this.Ea.r6(this.Hq);for(const e of this.Hq)e.A();this.Hq.clear();c.xs(!1)}}async zca(){const c=this.ib;let e=0;for(;c.js()&&10>e++;)await this.TR(c.Fx)}Dca(c){let e=0;0!==this.SC&&(e=Math.max(c-this.SC,0)/1E3,.5<e&&(e=0),this.VB=Math.min(e,1/this.kW));this.SC=c;this.UB=this.VB*this.Nd;this.wJ.wc(this.UB);this.xJ.wc(e*this.Nd);this.ML.wc(this.VB);this.ea&&this.ea.Wfa();
1E3<=c-this.Aq&&(this.Aq+=1E3,1E3<=c-this.Aq&&(this.Aq=c),this.hC=this.iC,this.iC=0,this.ZC=Math.min(this.Im/1E3,1),this.Im=0,this.ea&&this.ea.Pfa(),this.Bb&&b.dwa());this.iC++}async TR(c){const e=this.fc,h=this.ib.Wb();await h.Gfa();h.Ofa(c,this.ac());h===c&&this.Ea.Zy();this.sf.rN();this.tT();e.dispatchEvent(this.yq.beforelayoutchange);d.zl.KQ(!0);await c.JH(h,this.ac());d.zl.KQ(!1);await c.mU(!1);e.dispatchEvent(this.yq.layoutchange);this.aa();this.VJ=!0;this.pe()}aa(){this.CK=!0}Fp(){return this.ea?
this.ea.Fp():null}sv(){return this.ea?this.ea.sv():null}ac(){return this.ea?this.ea.ac():null}sG(){const c=this.ea;if(c&&!c.M3()){var e=this.ac(),h=e.oj(),g=h&&e.gA();h=h&&!1;g&&e.rZ();if(this.CK){var l=this.ib.Wb();e.Wn();var n=this.Bb;n&&b.Gs();this.CK=!1;var p=null;g&&(p=c.lC.bN(),e.eR(p));g=null;h&&(g=e.Xua(2*(1+l.nc.length)),e.v9(0));this.cn&&"low"===c.Rj?e.p7(c.aj(),c.Th()):e.Y6();this.Yda(this.ac(),l);p&&e.JN(p);h&&(e.v9(1),this.ea.O9(g));e.Zu();n&&(b.jka(),b.fwa());c&&c.Bca()}else e.N2()}}Yda(c,
e){c.ci();c.BG();c.Tf(1,1,1,1);c.lf(null);c.wg(null);c.BA(this.cn);e.Fe(c)}la(c,e,h){if(!this.nC)return!1;var g=!this.$w&&!this.Ea.bA();let l=0;g&&(l=performance.now());const n=this.Bb;n&&this.AA(!1);c=this.Ea.vw(this.ib,c,e,h);g&&(g=performance.now()-l,this.Im+=g,n&&b.wka(g));n&&this.AA(!0);return c}Tu(c,e,h){if(!this.Bb)return this.la(c,e,h);if(this.ds())throw Error("called DebugTrigger() while stopped on breakpoint");if(!this.$w&&!this.Ea.bA())throw Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");
return this.Ea.Ms(this.ib,c,e,h)}async jb(c,e,h){if(!this.Re)return this.la(c,e,h);if(!this.nC)return!1;if(this.ds())return this.Ea.j6(c,e,h);if(!this.Wb())return this.Ea.qG(c,e,h);const g=performance.now();c=this.Ea.Ms(this.ib,c,e,h);for(e=c.next();!e.done;)await this.Rr(e.value),e=c.next();this.Gn()||this.Ea.bA()||(await this.Ea.qQ(),this.wV&&!this.$w&&this.xT());this.Im+=performance.now()-g;return e.value}Ck(c){return this.pha.wc(c)}Dv(c){this.ht.push(c)}Cv(){if(!this.ht.length)throw Error("layout stack empty");
this.ht.pop()}Xa(){return this.ht.length?this.ht[this.ht.length-1]:this.Wb()}Uh(c){return c&&-1!==c.Nd?this.VB*c.Nd:this.UB}PG(c){if(isNaN(c)||0>c)c=0;this.Nd=c}RQ(c){this.kW=d.fa(c,1,120)}Wg(){return this.wJ.ia()}oF(){return this.xJ.ia()}FF(){return this.ML.ia()}Pl(){++this.qt}ef(c){if(this.Zk)throw Error("cannot call while loading state - wait until afterload event");return this.Gq.get(c)||null}qT(){this.Gq.clear();for(const c of this.od)if(!c.hb)for(const e of c.ua())this.Gq.set(e.Gb,e)}ks(){return"preview"===
this.Nj}z3(){return"cordova"===this.Nj}t3(){return"Android"===d.md.os&&("cordova"===this.Nj||"playable-ad"===this.Nj||"instant-games"===this.Nj)}DF(){return this.Ko.DF()}N7(c){c=!!c;this.$k!==c&&(this.$k=c,this.ib.Sp(),this.aa())}Q6(c){this.Ox=c}j4(c){this.wx=c}fG(c){this.Ot=c}Jca(){return!(!this.Ox&&!this.wx&&null===this.Ot)}async vba(){this.Ox&&(this.pe(),await this.naa(this.Ox),this.jH());this.wx&&(await this.maa(this.wx),this.jH(),this.Bb&&b.Yua());if(null!==this.Ot){this.pe();try{await this.YR(this.Ot),
this.Rq=this.Ot,await this.jb(d.m.Da.G.KP,null),this.Rq=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.jb(d.m.Da.G.LP,null)}this.jH()}}jH(){this.wx=this.Ox="";this.Ot=null}BS(){this.WK||(this.WK=localforage.ZL({name:"c3-localstorage-"+this.XK,description:this.mD}));return this.WK}CS(){this.cL||(this.cL=localforage.ZL({name:"c3-savegames-"+this.XK,description:this.mD}));return this.cL}async naa(c){const e=await this.Bea();try{await this.CS().setItem(c,
e),console.log("[Construct 3] Saved state to storage ("+e.length+" chars)"),this.Rq=e,await this.jb(d.m.Da.G.F5,null),this.Rq=""}catch(h){console.error("[Construct 3] Failed to save state to storage: ",h),await this.jb(d.m.Da.G.G5,null)}}async maa(c){try{const e=await this.CS().getItem(c);if(!e)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+e.length+" chars)");await this.YR(e);this.Rq=e;await this.jb(d.m.Da.G.KP,null);this.Rq=""}catch(e){console.error("[Construct 3] Failed to load state from storage: ",
e),await this.jb(d.m.Da.G.LP,null)}}async Bea(){const c={c3save:!0,version:1,rt:{time:this.Wg(),timeRaw:this.oF(),walltime:this.FF(),timescale:this.Nd,tickcount:this.jl,execcount:this.qt,next_uid:this.Ex,running_layout:this.Wb().gb,start_time_offset:Date.now()-this.Qo},types:{},layouts:{},events:this.Ea.ya(),timelines:this.Rb.ya(),user_script_data:null};for(var e of this.od)e.hb||e.IO()||(c.types[e.gb.toString()]=e.ya());for(const h of this.ib.xj)c.layouts[h.gb.toString()]=h.ya();e=this.oH("save");
e.saveData=null;await this.up(e);c.user_script_data=e.saveData;return JSON.stringify(c)}async YR(c){var e=this.ib;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.fc.dispatchEvent(d.F(d.Event,"beforeload"));for(var h of this.Eha())h.Ts();this.Zk=!0;h=c.rt;this.wJ.Set(h.time);h.hasOwnProperty("timeRaw")&&this.xJ.Set(h.timeRaw);this.ML.Set(h.walltime);
this.Nd=h.timescale;this.jl=h.tickcount;this.qt=h.execcount;this.Qo=Date.now()-h.start_time_offset;var g=h.running_layout;if(g!==this.Wb().gb)if(g=e.rF(g))await this.TR(g);else return;for(const [l,n]of Object.entries(c.types))g=this.Iz(parseInt(l,10)),!g||g.hb||g.IO()||g.Fa(n);this.pe();this.qT();this.Zk=!1;this.Ex=h.next_uid;for(const [l,n]of Object.entries(c.layouts))(h=e.rF(parseInt(l,10)))&&h.Fa(n);this.Ea.Fa(c.events);for(const l of this.od)if(!l.hb&&l.Gc())for(const n of l.ua()){h=n.xp();for(const p of l.Fj.Nm)if(p!==
l){g=p.ua();if(0>h||h>=g.length)throw Error("missing sibling instance");n.Ls(g[h])}}this.Rb.Fa(c.timelines);e.Tp();e.Sp();this.fc.dispatchEvent(d.F(d.Event,"afterload"));e=this.oH("load");e.saveData=c.user_script_data;await this.up(e);this.aa()}async JY(c){c=(await Promise.all(c.map(e=>this.Ab.Dl(e)))).map(e=>URL.createObjectURL(e));this.jx.M2(c)}HY(){this.jx.S6()}IY(c){this.jx.T6(c)}zE(c,e,h){return this.jx.zE(c,e,h)}QF(c,e){this.Wl("runtime","invoke-download",{url:c,filename:e})}async k6(c){var e=
e||2048;var h=h||2048;return this.Se?(await this.Op("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:e,surfaceHeight:h,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,e,h)}rs(){this.SU||(this.SU=!0,this.Wl("runtime","enable-device-orientation"))}On(){this.RU||(this.RU=!0,this.Wl("runtime","enable-device-motion"))}Xl(){return this.oha()}oba(){const c=this.Fp();return{fps:this.hC,cpu:this.ZC,gpu:this.Gz(),layout:this.Wb()?this.Wb().na:
"",renderer:c?c.ky:"<unavailable>"}}ds(){return this.Bb?b.ds():!1}Rr(c){return this.Re?b.Rr(c):Promise.resolve()}xc(){return this.Re?b.sla():!1}AA(c){c?this.bJ--:this.bJ++;this.Rfa()}Rfa(){this.Re=this.Bb&&this.sga&&0===this.bJ}SF(){return this.Bb&&b.SF()}YO(){return this.Bb&&this.ac().oj()&&b.YO()}async kz(c){if(c)for(const e of c)await this.Rr(e)}AN(c){return this.kz(this.fc.fia(c))}eB(c){return this.Ea.eB(c.name,c.params)}oH(c){c=d.F(d.Event,c,!1);c.Rc=this.Tj;return c}Hba(){var c={};for(const e of this.od)c[e.cj()]=
{value:e.Qw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Tj=new self.A2(this,c);this.pX={tick:this.oH("tick")}}Dba(){const c={};for(const e of this.xa().BI)c[e.cj()]=e.DS();this.Tj.Eba(c)}ZS(c,e){this.Jga.set(c,e)}};self.C3_CreateRuntime=d.rQ.ab;self.C3_InitRuntime=(c,e)=>c.Zg(e)}
{"use strict";const d=self.D;d.X3=class extends d.ta{constructor(b,a){super();this.j=b;this.Nq=new Map;this.hha=0;this.Tw=a.inputPort;a.outputPort.onmessage=f=>this.kT(f);this.eW=a.maxNumWorkers;this.kx=1;this.oV=this.Ww=!1}async Zg(){}M2(b){this.Tw.postMessage({type:"_import_scripts",scripts:b})}S6(){this.Tw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}T6(b){this.Tw.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}zE(b,a,f){f||(f=[]);const c=this.hha++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:f};a=new Promise((e,h)=>{this.Nq.set(c,{resolve:e,progress:void 0,reject:h,YL:!1})});this.Tw.postMessage(b,f);this.$S();return a}kT(b){b=b.data;const a=b.type,f=b.jobId;switch(a){case "result":this.bda(f,b.result);break;case "progress":this.ada(f,b.progress);break;case "error":this.$ca(f,b.error);break;case "ready":this.cda();break;default:throw Error(`unknown message from worker '${a}'`);}}bda(b,a){const f=this.Nq.get(b);if(!f)throw Error("invalid job ID");
f.YL||f.resolve(a);this.Nq.delete(b)}ada(b,a){b=this.Nq.get(b);if(!b)throw Error("invalid job ID");!b.YL&&b.progress&&b.progress(a)}$ca(b,a){const f=this.Nq.get(b);if(!f)throw Error("invalid job ID");f.YL||f.reject(a);this.Nq.delete(b)}cda(){this.Ww&&(this.Ww=!1,this.kx++,this.kx<this.eW?this.$S():this.Tw.postMessage({type:"_no_more_workers"}))}async $S(){if(!(this.kx>=this.eW||this.Ww||this.oV||this.Nq.size<=this.kx))try{this.Ww=!0,(await this.j.Op("runtime","create-job-worker")).outputPort.onmessage=
b=>this.kT(b)}catch(b){this.oV=!0,this.Ww=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.kx} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const d=self.D;let b=null,a="",f="",c=[],e="",h="",g="";const l=d.F(d.$Y);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}d.m.Da=class extends d.kj{constructor(p){super(p);this.$f=this.j.xa().$f;this.je=this.j.xa().wd();this.Rw=this.Eq=0;this.iV=new Map}A(){super.A()}aa(){this.j.aa()}la(p){this.j.la(p,null,null)}Lz(p,q){b&&p===a&&q===f||(b=new RegExp(p,q),a=p,f=q);b.lastIndex=0;return b}rO(p,q,r){if(p===e&&q===
h&&r===g)return c;const x=this.Lz(q,r);c=p.match(x);e=p;h=q;g=r;return c}async LH(p,q){if(q.length){this.Eq+=q.length;var r=[];for(const x of q)r.push(p.nP(x));await d.b6(r,()=>{this.Rw++});this.Rw++;this.Rw===this.Eq&&(this.j.la(d.m.Da.G.n5,null,null),this.Eq=this.Rw=0)}}pU(p,q){for(const r of q)0===r.J.length&&p.v4(r)}vS(){return l}Zda(p){var q=this.j.xa();const r=q.wd(),x=r.Mf(),w=x.Sb(),v=w.Sd();var t=x.yk();const A=r.Ya(w),y=q.$f,E=y.Ya();if(t)for(t=0;t<p&&!E.Bc;++t)q.hf(v),E.Wc(t),w.hh(x,A),
q.Xb(v);else for(q=0;q<p&&!E.Bc;++q)E.Wc(q),w.hh(x,A);r.Wa();y.Wa();return!1}*S$(p){var q=this.j.xa();const r=q.wd(),x=r.Mf(),w=x.Sb(),v=w.Sd();var t=x.yk();const A=r.Ya(w),y=q.$f,E=y.Ya();if(t)for(t=0;t<p&&!E.Bc;++t)q.hf(v),E.Wc(t),yield*w.Rg(x,A),q.Xb(v);else for(q=0;q<p&&!E.Bc;++q)E.Wc(q),yield*w.Rg(x,A);r.Wa();y.Wa();return!1}cga(){var p=this.j.xa();const q=p.wd(),r=q.Mf(),x=r.Sb(),w=x.Sd();var v=r.yk();const t=q.Ya(x),A=p.$f,y=A.Ya();if(v)for(v=0;!y.Bc;++v)p.hf(w),y.Wc(v),x.hh(r,t)||y.mh(),p.Xb(w);
else for(p=0;!y.Bc;++p)y.Wc(p),x.hh(r,t)||y.mh();q.Wa();A.Wa();return!1}*kaa(){var p=this.j.xa();const q=p.wd(),r=q.Mf(),x=r.Sb(),w=x.Sd();var v=r.yk();const t=q.Ya(x),A=p.$f,y=A.Ya();if(v)for(v=0;!y.Bc;++v)p.hf(w),y.Wc(v),(yield*x.Rg(r,t))||y.mh(),p.Xb(w);else for(p=0;!y.Bc;++p)y.Wc(p),(yield*x.Rg(r,t))||y.mh();q.Wa();A.Wa();return!1}Uaa(p,q,r){var x=this.j.xa();const w=x.wd(),v=w.Mf(),t=v.Sb(),A=t.Sd(),y=v.yk(),E=w.Ya(t),F=x.$f,H=F.Ya();H.HA(p);if(r<q)if(y)for(p=q;p>=r&&!H.Bc;--p)x.hf(A),H.Wc(p),
t.hh(v,E),x.Xb(A);else for(x=q;x>=r&&!H.Bc;--x)H.Wc(x),t.hh(v,E);else if(y)for(p=q;p<=r&&!H.Bc;++p)x.hf(A),H.Wc(p),t.hh(v,E),x.Xb(A);else for(x=q;x<=r&&!H.Bc;++x)H.Wc(x),t.hh(v,E);w.Wa();F.Wa();return!1}*P$(p,q,r){var x=this.j.xa();const w=x.wd(),v=w.Mf(),t=v.Sb(),A=t.Sd(),y=v.yk(),E=w.Ya(t),F=x.$f,H=F.Ya();H.HA(p);if(r<q)if(y)for(p=q;p>=r&&!H.Bc;--p)x.hf(A),H.Wc(p),yield*t.Rg(v,E),x.Xb(A);else for(x=q;x>=r&&!H.Bc;--x)H.Wc(x),yield*t.Rg(v,E);else if(y)for(p=q;p<=r&&!H.Bc;++p)x.hf(A),H.Wc(p),yield*t.Rg(v,
E),x.Xb(A);else for(x=q;x<=r&&!H.Bc;++x)H.Wc(x),yield*t.Rg(v,E);w.Wa();F.Wa();return!1}Vaa(p){var q=this.j.xa();const r=q.wd(),x=r.Mf(),w=x.Sb(),v=w.Sd();var t=x.yk();const A=r.Ya(w),y=q.$f,E=y.Ya(),F=p.Gc(),H=p.ga(),J=l.Ya();d.Qd(J,H.ua());if(t)for(let M=0,P=J.length;M<P&&!E.Bc;++M)q.hf(v),t=J[M],p.ga().Fk(t),F&&t.nj(),E.Wc(M),w.hh(x,A),q.Xb(v);else{H.Le(!1);p=H.J;d.H(p);p.push(null);for(let M=0,P=J.length;M<P&&!E.Bc;++M)q=J[M],p[0]=q,F&&q.nj(),E.Wc(M),w.hh(x,A)}r.Wa();y.Wa();d.H(J);l.Wa();return!1}*Q$(p){var q=
this.j.xa();const r=q.wd(),x=r.Mf(),w=x.Sb(),v=w.Sd();var t=x.yk();const A=r.Ya(w),y=q.$f,E=y.Ya(),F=p.Gc(),H=p.ga(),J=l.Ya();d.Qd(J,H.ua());if(t)for(let M=0,P=J.length;M<P&&!E.Bc;++M)q.hf(v),t=J[M],p.ga().Fk(t),F&&t.nj(),E.Wc(M),yield*w.Rg(x,A),q.Xb(v);else{H.Le(!1);p=H.J;d.H(p);p.push(null);for(let M=0,P=J.length;M<P&&!E.Bc;++M)q=J[M],p[0]=q,F&&q.nj(),E.Wc(M),yield*w.Rg(x,A)}r.Wa();y.Wa();d.H(J);l.Wa();return!1}Waa(p,q){var r=this.j.xa();const x=r.wd(),w=r.Kf(),v=x.Mf(),t=v.Sb(),A=t.Sd(),y=v.yk(),
E=x.Ya(t),F=r.$f,H=F.Ya(),J=p.Gc(),M=p.ga(),P=l.Ya();d.H(P);const S=M.ua();for(let T=0,V=S.length;T<V;++T)P.push([S[T],w.Fv(1,T)]);P.sort(n);1===q&&P.reverse();if(y)for(let T=0,V=P.length;T<V&&!H.Bc;++T)r.hf(A),q=P[T][0],p.ga().Fk(q),J&&q.nj(),H.Wc(T),t.hh(v,E),r.Xb(A);else{M.Le(!1);p=M.J;d.H(p);p.push(null);for(let T=0,V=P.length;T<V&&!H.Bc;++T)r=P[T][0],p[0]=r,J&&r.nj(),H.Wc(T),t.hh(v,E)}x.Wa();F.Wa();d.H(P);l.Wa();return!1}*R$(p,q){var r=this.j.xa();const x=r.wd(),w=r.Kf(),v=x.Mf(),t=v.Sb(),A=
t.Sd(),y=v.yk(),E=x.Ya(t),F=r.$f,H=F.Ya(),J=p.Gc(),M=p.ga(),P=l.Ya();d.H(P);const S=M.ua();for(let T=0,V=S.length;T<V;++T)P.push([S[T],w.Fv(1,T)]);P.sort(n);1===q&&P.reverse();if(y)for(let T=0,V=P.length;T<V&&!H.Bc;++T)r.hf(A),q=P[T][0],p.ga().Fk(q),J&&q.nj(),H.Wc(T),yield*t.Rg(v,E),r.Xb(A);else{M.Le(!1);p=M.J;d.H(p);p.push(null);for(let T=0,V=P.length;T<V&&!H.Bc;++T)r=P[T][0],p[0]=r,J&&r.nj(),H.Wc(T),yield*t.Rg(v,E)}x.Wa();F.Wa();d.H(P);l.Wa();return!1}ZA(p,q){let r=this.iV.get(p);if(r)return r;
if(!q)return null;r={gp:null,tE:new Map};this.iV.set(p,r);return r}laa(p,q,r,x,w){q.df().L6(r);x&&p.Xb(w)}*N$(p,q,r,x,w){yield*q.df().b_(r);x&&p.Xb(w)}}}{"use strict";const d=self.D;d.m.Da.Ke=class extends d.ta{constructor(b){super();this.R=b;this.j=b.K();this.yi=b.Tb()}cc(){}A(){this.yi=this.j=this.R=null}}}{"use strict";const d=self.D;d.m.Da.Instance=class extends d.ta{constructor(b){super();this.I=b;this.R=this.I.L();this.mb=this.R.mb;this.j=this.I.K()}A(){this.j=this.mb=this.R=this.I=null}}}
{"use strict";const d=self.D,b=[];d.m.Da.G={v0(){return!0},JP(){return!0},r5(){return!0},H5(){return!0},E5(){return!0},Gn(){return this.j.Gn()},IN(){const a=this.j.Lf();return a.jJ?!1:!a.Oq},V8(){const a=this.j.Kf().Of();let f=a.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,a.set("TriggerOnce_lastTick",-1));const c=this.j.jl;a.set("TriggerOnce_lastTick",c);return this.j.VJ||f!==c-1},u0(a){const f=this.j.Kf().Of(),c=f.get("Every_lastTime")||0,e=this.j.Wg();f.has("Every_seconds")||f.set("Every_seconds",
a);const h=f.get("Every_seconds");if(e>=c+h)return f.set("Every_lastTime",c+h),e>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",e),f.set("Every_seconds",a),!0;e<c-.1&&f.set("Every_lastTime",e);return!1},hs(a){return(a=this.j.xa().$N(a))&&a.hs()},ks(){return this.j.ks()},dA(){return d.md.dA},MP(){return!0},V4(){return!0},mna(){return!0},F5(){return!0},G5(){return!0},KP(){return!0},LP(){return!0},uqa(a){return!!this.j.ef(a)},rpa(a){switch(a){case 0:return"browser"===d.md.ME;case 1:return"iOS"===
d.md.os;case 2:return"Android"===d.md.os;case 8:return"cordova"===d.md.ME;case 9:return"scirra-arcade"===this.j.Nj;case 10:return"nwjs"===d.md.ME;case 13:return"windows-uwp"===this.j.Nj;default:return!1}},Rra(a,f,c){return this.Lz(f,c).test(a)},EZ(a,f,c){return d.compare(a,f,c)},ema(a,f,c){return a>=f&&a<=c},HZ(a,f,c){return d.compare(a.wa(),f,c)},fma(a){return!!a.wa()},rma(a,f){const c=this.j.Wg();return 0===a?(a=this.j.Kf().Of(),!a.get("CompareTime_executed")&&c>=f?(a.set("CompareTime_executed",
!0),!0):!1):d.compare(c,a,f)},opa(a){return isNaN(a)},TY(a,f,c){return d.Dr(d.Ba(a),d.Ba(c))<=d.Ba(f)},x3(a,f){return d.De(d.Ba(a),d.Ba(f))},v3(a,f,c){a=d.Ba(a);f=d.Ba(f);c=d.Ba(c);return d.De(c,f)?d.De(a,f)&&!d.De(a,c):!(!d.De(a,f)&&d.De(a,c))},Epa(a,f){return"number"===typeof a?0===f:1===f},sna(a){return!!a},Vqa(a,f,c,e){if(!a)return!1;const h=this.vS(),g=h.Ya(),l=a.ga();d.Qd(g,l.ua());l.ic&&d.H(l.tc);const n=this.j.Kf();let p=0;for(let q=0,r=g.length;q<r;++q){const x=g[q];g[p]=x;f=n.Fv(1,q);e=
n.Fv(3,q);d.compare(f,c,e)?++p:l.ao(x)}d.Ee(g,p);l.Gv(g);f=!!g.length;d.H(g);h.Wa();a.qc();return f},Wqa(a,f){if(!a)return!1;const c=this.vS(),e=c.Ya(),h=a.ga();d.Qd(e,h.ua());h.ic&&d.H(h.tc);const g=this.j.Kf();let l=0;for(let n=0,p=e.length;n<p;++n){const q=e[n];e[l]=q;(f=g.Fv(1,n))?++l:h.ao(q)}d.Ee(e,l);h.Gv(e);f=!!e.length;d.H(e);c.Wa();a.qc();return f},bra(a,f){if(!a)return!1;const c=a.ga(),e=c.ua();f=Math.floor(f);if(f>=e.length)return!1;c.Kn(e[f]);a.qc();return!0},gra(a){if(!a)return!1;const f=
a.ga(),c=f.ua(),e=Math.floor(this.j.Xl()*c.length);if(e>=c.length)return!1;f.Kn(c[e]);a.qc();return!0},Uqa(a){if(!a||!a.J.length)return!1;a.ga().Le(!0);a.qc();return!0},dra(a,f,c){if(!a)return!1;const e=a.ga();var h=e.ua();const g=this.j.Sb().le,l=this.j.Kf().si;e.ic?(d.Qd(b,h),e.$y(),e.Le(!1)):g?(d.Qd(b,e.tc),d.H(e.tc)):(d.Qd(b,e.J),d.H(e.J));for(let n=0,p=b.length;n<p;++n)h=b[n],d.xor(h.C().Qr(f,c),l)?e.cq(h):e.ao(h);a.qc();return d.xor(!!e.J.length,l)},ara(a){if(!a)return!1;var f=a.hb;let c=null;
const e=this.j.Cm;for(let h=e.length-1;0<=h;--h){const g=e[h];if(f){if(g.L().FE(a)){c=g;break}}else if(g.L()===a){c=g;break}}c||(f=a.ua(),f.length&&(c=f[f.length-1]));if(!c)return!1;a.ga().Kn(c);a.qc();return!0},Yra(a){return this.j.Re?this.S$(a):this.Zda(a)},r9(){return this.j.Re?this.kaa():this.cga()},Dna(a,f,c){return this.j.Re?this.P$(a,f,c):this.Uaa(a,f,c)},Ena(a){return this.j.Re?this.Q$(a):this.Vaa(a)},Fna(a,f,c){return this.j.Re?this.R$(a,c):this.Waa(a,c)},Npa(a){return a?a.Vd():!1},Lpa(a){return a?
!a.J.length:!1},a4(a,f,c){return a?d.compare(100*a.Rd(),f,c):!1},n5(){return!0},lpa(){return 0<this.Eq}}}
{"use strict";const d=self.D;function b(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function a(g,l){return g[1]-l[1]}const f=[],c=[],e=d.F(d.Rect),h=d.F(d.pb);d.m.Da.oa={k8(g,l){g.jh(l)},QY(g,l){g.En()&&"number"!==typeof l&&(l=parseFloat(l));g.jh(g.wa()+l)},L8(g,l){g.En()&&g.jh(g.wa()-l)},tta(g,l){g.jh(!!l)},Iva(g){g.jh(!g.wa())},Msa(){this.j.xa().B6()},yN(g,l,n,p,q){g&&l&&(n=this.j.PE(g,l,n,p,q))&&(q&&l.VG(n),l=this.j.xa(),l.Ze(!0),n.qB(),l.Ze(!1),g.ga().Fk(n),n.Gc()&&n.nj())},Nma(g,l,n,p,q){g&&
l&&(g=this.j.tF(g))&&d.m.Da.oa.yN.call(this,g,l,n,p,q)},Ev(g,l,n,p,q,r,x,w,v,t){if(g){var A=this.j.Xa();if(r&&(A=this.j.ib.Wr(r),!A))return;r=null;if("number"!==typeof x||0<=x)if(r=A.qa(x),!r)return;e.set(l,n,p,q);l=A.Ev(g,e,r,w,v,t);g.ga().Gv(l);g.qc()}},bva(){const g=this.$f;g.ZO()&&g.Tr().mh()},Up(g,l){(g=this.j.xa().$N(g))&&(0===l?g.Up(!1):1===l?g.Up(!0):g.Up(!g.hs()))},Gua(g){this.j.PG(g)},yua(g,l){0>l&&(l=0);if(g){g=g.ga().ua();for(const n of g)n.PG(l)}},Qsa(g){if(g){g=g.ga().ua();for(const l of g)l.I6()}},
cH(g){if(!(0>g))return this.j.xa().BE().o3(g),!0},l9(g){this.j.xa().BE().m3(g);return!0},owa(){const g=this.j.xa();g.BE().a3(g.M1());return!0},w8(g){g=g.toLowerCase();for(const l of this.j.xa().Jg)l.P3()&&l.Tx===g&&l.LG()},async cR(g,l,n,p,q,r){const x=this.j.ea;x&&(this.aa(),await x.cR(0===g?"image/png":"image/jpeg",l/100,n,p,q,r),await this.j.jb(d.m.Da.G.V4,null))},xta(g,l){if(!(0>=g||0>=l)){this.j.Tv(g,l);var n=this.j.Xa();n.Wy();for(const p of n.nc)p.bH();if(n=this.j.ea)"off"!==n.hv()&&this.j.L7(g,
l),n.sc(n.sl,n.rl,!0),this.j.aa()}},Pta(g){const l=this.j.ea;l&&"off"!==l.hv()&&(l.IQ(0!==g?"high":"low"),l.sc(l.sl,l.rl,!0))},Rp(g){this.j.Q6(g)},Tpa(g){this.j.j4(g)},Upa(g){this.j.fG(g)},Rta(){},Nsa(){for(const g of this.j.ib.xj)g.F6()},Cua(g){this.j.N7(0!==g)},RQ(g){this.j.RQ(g)},Qua(g,l){if(g){var n=g.ga().ua(),p=this.j.Xa(),q=g.hb;g=g.Oj;for(let x=0,w=n.length;x<w;++x){var r=n[x];const v=r.C();if(!v)continue;let t;t=q?r.ff(l+r.L().cO(g)):r.ff(l);f.push([v.qa().Na(),v.Zh()]);c.push([r,t])}if(f.length){f.sort(b);
c.sort(a);l=!1;for(let x=0,w=f.length;x<w;++x)n=c[x][0],q=p.nv(f[x][0]),g=f[x][1],r=q.J,r[g]!==n&&(r[g]=n,n.C().qw(q),q.kh(),l=!0);l&&this.j.aa();d.H(f);d.H(c)}}},X1(g){if(!this.j.Yk){var l=this.j.ib;l.js()||l.Yy(g)}},doa(g){if(!this.j.Yk){var l=this.j.ib;l.js()||(g=l.Wr(g))&&l.Yy(g)}},oqa(g){if(!this.j.Yk){var l=this.j.ib;if(!l.js()){var n=l.xj,p=n.indexOf(l.Wb());g&&0===p||(g||p!==n.length-1)&&l.Yy(n[p+(g?-1:1)])}}},H6(){if(!this.j.Yk){var g=this.j.ib;g.js()||(g.Yy(g.Wb()),this.j.xa().C6())}},H7(g,
l){g&&g.he(l)},F7(g,l){g&&g.kf(l/100)},G7(g,l){g&&g.SQ(l)},fua(g,l){g&&g.R7(l)},Zta(g,l){g&&g.lc(d.Ba(+l))},gua(g,l,n){g&&(g.Lv(!0),g.lj(l),g.mj(n))},Psa(g){g&&g.Lv(!1)},eua(g,l,n){g&&g.M7(l/100,n/100)},iua(g,l){g&&g.nf(+l)},$ta(g,l){g&&(h.Py(l),h.fa(),g=g.mm,g.ip(h)||(g.hn(h),this.aa()))},hua(g,l){g&&g.g8(l)},aua(g,l){g&&g.Sf(l)},bua(g,l,n){g&&(g=g.$a,n=g.Il(n))&&(l=1===l,n.Ub!==l&&(n.xA(l),g.Yn(),this.j.aa()))},cua(g,l,n,p){if(g&&(g=g.$a,l=g.Il(l))&&(g=g.Ug(l.Na()),n=Math.floor(n),!(0>n||n>=g.length))){var q=
l.tb.Jz(n);if("color"===q){h.Py(p);n=g[n];if(h.ip(n))return;n.hn(h)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}l.Ub&&this.j.aa()}},dua(g,l){g&&g.s7(l)},mua(g){this.j.Xa().Vn(+g)},jua(g){this.j.Xa().lc(d.Ba(+g))},kua(g,l){const n=this.j.Xa().$a;if(l=n.Il(l))g=1===g,l.Ub!==g&&(l.xA(g),n.Yn(),this.j.aa())},lua(g,l,n){var p=this.j.Xa().$a;if(g=p.Il(g))if(p=p.Ug(g.Na()),l=Math.floor(l),!(0>l||l>=p.length)){var q=g.tb.Jz(l);if("color"===q){h.Py(n);l=p[l];if(h.ip(l))return;l.hn(h)}else{"percent"===
q&&(n/=100);if(p[l]===n)return;p[l]=n}g.Ub&&this.j.aa()}},nua(g,l){this.j.Xa().j8(g/100,l/100)},gta(g){this.j.Xa().lj(g)},hta(g){this.j.Xa().mj(g)},eta(g,l){const n=this.j.Xa();n.lj(g);n.mj(l)},fta(g){if(g&&(g=g.Vg())&&(g=g.C())){var l=this.j.Xa();l.lj(g.O());l.mj(g.P())}},async l4(g){const l=this.j.Wb();l&&g&&!this.j.Yk&&await this.LH(l,g.hb?g.qo:[g])},async Spa(g){await d.m.Da.oa.l4.call(this,this.j.tF(g))},$va(g){const l=this.j.Wb();l&&g&&this.pU(l,g.hb?g.qo:[g])},X8(g){d.m.Da.oa.X8.call(this,
this.j.tF(g))},awa(){const g=this.j.Wb();if(g){var l=g.sba();this.pU(g,l)}},async Qpa(g){const l=this.j.Wb();g&&l&&!this.j.Yk&&await this.LH(l,g.xS())},async Rpa(g){const l=this.j.Wb();(g=this.j.ib.Wr(g))&&l&&!this.j.Yk&&await this.LH(l,g.xS())},EA(g){const l=this.je.S0();if(l)switch(l.jV){case 1:"number"===typeof g&&l.EA(g);break;case 2:"string"===typeof g&&l.EA(g);break;case 3:l.EA(g)}},Zpa(g,l,n){var p=this.ZA(g.toLowerCase(),!0);const q=p.tE,r=l.toLowerCase();q.has(r)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);
(p=d.first(q.values())||p.gp)&&0!==p.Sm!==(0!==n.Sm)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(r,n)},$pa(g,l){const n=this.ZA(g.toLowerCase(),!0);n.gp&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=d.first(n.tE.values())||n.gp;p&&0!==p.Sm!==(0!==l.Sm)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):
n.gp=l},Lla(g,l,n){n=Math.floor(n);var p=this.ZA(g.toLowerCase(),!1);if(p){var q=p.tE.get(l.toLowerCase());if(!q)if(p.gp)q=p.gp,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(q.sg())if(0!==q.Sm)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);else{g=this.j;l=g.xa();var r=l.Sb();p=r.Td();var x=0<p.length;x&&l.eh(p);
var w=[];if(r=l.XE(r)){r=r.xh;for(let v=n,t=r.length;v<t;++v)w.push(r[v].wa())}n=q.xh;for(let v=w.length,t=n.length;v<t;++v)w.push(n[v].sb);return g.Re?this.N$(l,q,w,x,p):this.laa(l,q,w,x,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.D;d.m.Da.Sa={Vxa:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},pxa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},pn(b){return b.toString()},Fy(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.j.Xl()*b:this.j.Xl()*(a-b)+b},EX(...b){return b[Math.floor(this.j.Xl()*b.length)]},Gya(){return Math.PI},Txa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},hza(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(d.Ba(b))},cos(b){return Math.cos(d.Ba(b))},tan(b){return Math.tan(d.Ba(b))},asin(b){return d.Sc(Math.asin(b))},acos(b){return d.Sc(Math.acos(b))},atan(b){return d.Sc(Math.atan(b))},exp(b){return Math.exp(b)},Ria(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let f=1,c=b.length;f<c;++f){let e=b[f];"number"===typeof e&&a<e&&(a=e)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let f=1,c=b.length;f<c;++f){let e=b[f];"number"===typeof e&&a>e&&(a=e)}return a},fa(b,a,f){return d.fa(b,a,f)},zy(b,a,f,c){return d.hg(b,a,f,c)},angle(b,a,f,c){return d.Sc(d.Hf(b,a,f,c))},Ec(b,a,f){return d.Ec(b,a,f)},uE(b,a,f){return d.uE(b,a,f)},lE(b,a,f,c){return d.lE(b,a,f,c)},HX(b,a,f,c,e){return d.HX(b,
a,f,c,e)},GX(b,a,f){return d.GX(b,a,f)},Lwa(b,a){return d.Sc(d.Dr(d.Ba(b),d.Ba(a)))},Mwa(b,a,f){return d.Sc(d.TL(d.Ba(b),d.Ba(a),f))},Nwa(b,a,f){return d.Sc(d.UL(d.Ba(b),d.Ba(a),d.Ba(f)))},sza(b,a,f){a|=0;return(b|0)&~(1<<a)|(0!==f?1:0)<<a},Bza(b,a){return(b|0)^1<<(a|0)},Nxa(b,a){return(b|0)&1<<(a|0)?1:0},xya(){return"\n"},Iza(b){return"string"===typeof b?b.toUpperCase():""},pya(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,f){return"string"!==
typeof b?"":0>f?b.substr(a):b.substr(a,f)},right(b,a){return"string"===typeof b?b.substr(b.length-a):""},trim(b){return"string"===typeof b?b.trim():""},Cza(b,a,f){if("string"!==typeof b||"string"!==typeof f)return"";b=b.split(f);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},Dza(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(d.Wu(a),"i")):-1},oxa(b,a){return"string"===typeof b&&"string"===
typeof a?b.search(new RegExp(d.Wu(a),"")):-1},replace(b,a,f){return"string"===typeof b&&"string"===typeof a&&"string"===typeof f?b.replace(new RegExp(d.Wu(a),"gi"),f):"string"===typeof b?b:""},Tya(b,a,f){a=this.Lz(a,f);return b?b.search(a):-1},Sya(b,a,f,c){a=this.Lz(a,f);return b?b.replace(a,c):""},Rya(b,a,f){return(b=this.rO(b.toString(),a,f))?b.length:0},Qya(b,a,f,c){c=Math.floor(c);b=this.rO(b.toString(),a,f);return!b||0>c||c>=b.length?"":b[c]},Qza(b,a){let f=0>b?"-":"";0>b&&(b=-b);f+="0".repeat(Math.max(a-
b.toString().length,0));return f+b.toString()},Kza(b){return encodeURIComponent(b)},Jza(b){return decodeURIComponent(b)},LX(){return this.j.UB},zza(){return this.j.Nd},Pza(){return(Date.now()-this.j.Qo)/1E3},Gza(){return Date.now()},time(){return this.j.Wg()},yza(){return this.j.jl},Bya(){return this.j.GK},rxa(){return this.j.hC},$wa(){return this.j.ZC},Oxa(){return this.j.Gz()},Pja(){return this.j.ea.li},Oja(){return this.j.ea.ki},dja(){return this.j.Dh},cja(){return this.j.Ch},Dya(){return this.j.Dh},
Cya(){return this.j.Ch},jza(){return this.j.Xa().og()},kza(){return this.j.Xa().pg()},kya(){return this.j.Xa().na},lya(){return this.j.Xa().hc},jya(){return d.Sc(this.j.Xa().pa())},mya(){return this.j.Xa().T()},Nia(){return this.j.Xa().U()},Kja(b){return(b=this.j.Xa().qa(b))?b.de.X:0},Mja(b){return(b=this.j.Xa().qa(b))?b.de.S:0},Lja(b){return(b=this.j.Xa().qa(b))?b.de.ca:0},Jja(b){return(b=this.j.Xa().qa(b))?b.de.ba:0},Oza(b){return(b=this.j.Xa().qa(b))?b.de.width():0},Nza(b){return(b=this.j.Xa().qa(b))?
b.de.height():0},Vwa(b,a,f){return(b=this.j.Xa().qa(b))?b.Ti(a,f)[0]:0},Wwa(b,a,f){return(b=this.j.Xa().qa(b))?b.Ti(a,f)[1]:0},gya(b,a,f){return(b=this.j.Xa().qa(b))?b.Mp(a,f)[0]:0},hya(b,a,f){return(b=this.j.Xa().qa(b))?b.Mp(a,f)[1]:0},Mia(b){return(b=this.j.Xa().qa(b))?b.hc:0},$xa(b){return(b=this.j.Xa().qa(b))?d.Sc(b.Ne):0},Lia(b){return(b=this.j.Xa().qa(b))?100*b.Rd():0},dya(b){return(b=this.j.Xa().qa(b))?b.ck:0},eya(b){return(b=this.j.Xa().qa(b))?b.og():0},fya(b){return(b=this.j.Xa().qa(b))?
b.pg():0},bya(b){return(b=this.j.Xa().qa(b))?100*b.zf:0},cya(b){return(b=this.j.Xa().qa(b))?100*b.Af:0},iya(b){return(b=this.j.Xa().qa(b))?b.qb():0},aya(b){return(b=this.j.Xa().qa(b))?b.Na():-1},Uwa(){const b=this.j.ea;return b?b.jL:""},oya(b){const a=this.$f;return a.ZO()?b?(b=a.A0(b))?b.Na():0:a.Tr().Na():0},iza(){return this.j.Rq},Twa(b,a,...f){var c=this.ZA(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var e=c.tE.get(a.toLowerCase());
if(!e)if(c.gp)e=c.gp;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=e.Sm;const h=e.jv();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!e.sg())return h;b=this.j.xa();a=b.Sb().Td();const g=0<a.length;g&&b.eh(a);const l=e.xh;for(let n=f.length,p=l.length;n<p;++n)f.push(l[n].sb);
e=e.df();f=e.yG(e.Td(),c,h,...f);g&&b.Xb(a);return f},Sia(){return this.j.Ab.QC},Rxa(){return 0===this.Eq?1:this.Rw/this.Eq},If(){return this.j.sv()?"webgpu":"webgl"},Wya(){return this.j.sv()?"<unavailable>":this.j.Fp().ky},Sxa(){let b=this.j.ac().X0();return Math.round(100*b/1048576)/100},Xya(b,a,f){return d.O5(b,a,f)},$ya(b,a,f){return d.VP(b/100,a/100,f/100)},Yya(b,a,f,c){return d.qA(b/100,a/100,f/100,c/100)},aza(b,a,f){return d.VP(b/255,a/255,f/255)},Zya(b,a,f,c){return d.qA(b/255,a/255,f/255,
c/255)},gja(){return this.j.mD},Lya(){return this.j.AW},cxa(){return this.j.Sb().qd.na},bxa(){return this.j.Sb().mt}}}{"use strict";const d=self.D;d.m.qe=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D;function b(a){switch(a){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}d.m.qe.Ke=class extends d.Yl{constructor(a,f){super(a);this.gn=this.fn="repeat";f&&(this.fn=b(f[0]),this.gn=b(f[1]))}A(){super.A()}cc(){this.kd().lA(this.j)}Np(a){return this.kd().In(a,{Og:this.j.gd,Mu:this.fn,Nu:this.gn})}Nn(){this.kd().fh()}}}
{"use strict";const d=self.D,b=d.F(d.Rect),a=d.F(d.yd),f=d.F(d.Rect),c=d.F(d.yd);d.m.qe.Instance=class extends d.vA{constructor(h,g){super(h);this.Bt=this.At=0;this.Dt=this.Ct=1;this.zm=0;this.Xq=null;g&&(this.C().he(!!g[0]),this.At=g[4],this.Bt=g[5],this.Ct=g[6],this.Dt=g[7],this.zm=d.Ba(g[8]))}A(){this.uT();super.A()}uT(){this.Xq&&(this.Xq.A(),this.Xq=null)}Fe(h){var g=this.ee(),l=g.Ud();if(null!==l){h.wg(l);l=g.T();g=g.U();var n=this.At/l,p=this.Bt/g,q=this.C();f.set(0,0,q.T()/(l*this.Ct),q.U()/
(g*this.Dt));f.offset(-n,-p);q.rg()?this.zH(q,h):this.AH(q,h)}}AH(h,g){let l=h.$i();this.j.$k&&(l=h.Bv(l));0===this.zm?g.Ln(l,f):(c.OM(f,-this.zm),g.i6(l,c))}zH(h,g){const l=h.GO();if(h.bP()){h.Qu(b,a,!1);let n=a;this.j.$k&&(n=h.Bv(n));let p=f;0!==this.zm&&(c.OM(f,-this.zm),p=c);l.lN(h.wk(),n,p);h.GA(!1)}l.Fe(g)}ee(){return this.Xq||this.R.kd()}Fn(){return!0}Ud(){return this.ee().Ud()}rw(){this.C().GA(!0)}VT(h){this.At!==h&&(this.At=h,this.j.aa(),this.rw())}WT(h){this.Bt!==h&&(this.Bt=h,this.j.aa(),
this.rw())}XT(h){this.Ct!==h&&(this.Ct=h,this.j.aa(),this.rw())}YT(h){this.Dt!==h&&(this.Dt=h,this.j.aa(),this.rw())}UT(h){this.zm!==h&&(this.zm=h,this.j.aa(),this.rw())}$b(h){switch(h){case 4:return this.At;case 5:return this.Bt;case 6:return this.Ct;case 7:return this.Dt;case 8:return this.zm}}Ie(h,g){switch(h){case 4:this.VT(g);break;case 5:this.WT(g);break;case 6:this.XT(g);break;case 7:this.YT(g);break;case 8:this.UT(g)}}Pf(){return self.F2}};const e=new WeakMap;self.F2=class extends self.wv{constructor(){super();
e.set(this,self.es.em().ra)}get imageWidth(){return e.get(this).ee().T()}get imageHeight(){return e.get(this).ee().U()}}}"use strict";self.D.m.qe.G={pA(){return!0},lG(){return!0}};
{"use strict";const d=self.D;d.m.qe.oa={Uta(b){this.VT(b)},Vta(b){this.WT(b)},Wta(b){this.XT(b/100)},Xta(b){this.YT(b/100)},Tta(b){this.UT(d.Ba(b))},GQ(b){this.C().Sf(b);this.j.aa()},async n4(b){if(!this.Xq||this.Xq.Ki!==b){var a=this.j,f=d.F(d.xv);try{await f.jP(a,b);if(!f.cA())throw Error("image failed to load");if(this.Js())return f.A(),null;if(!await f.In(a.ac(),{Og:this.j.gd,Mu:"repeat",Nu:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",c);this.la(d.m.qe.G.lG);return}this.Js()?
f.A():(this.uT(),this.Xq=f,a.aa(),await this.jb(d.m.qe.G.pA))}}}}{"use strict";const d=self.D;d.m.qe.Sa={L2(){return this.ee().T()},J2(){return this.ee().U()},Doa(){return this.At},Eoa(){return this.Bt},Ioa(){return 100*this.Ct},Joa(){return 100*this.Dt},Aoa(){return d.Sc(this.zm)}}}{"use strict";const d=self.D;d.m.Ta=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D;d.m.Ta.Ke=class extends d.Yl{constructor(b){super(b);this.ie=b.ie}A(){d.H(this.ie);super.A()}cc(){for(const b of this.ie)b.e4(this.j)}Np(b){const a={Og:this.j.gd};return Promise.all(this.ie.map(f=>f.f4(b,a)))}Nn(){for(const b of this.ie)b.n6()}oA(){this.sU()}sU(){for(const b of this.R.yia())b.ra.oI()}$u(b){d.m.Ta.Jaa(this,b)}}}
{"use strict";const d=self.D,b=d.F(d.Rect),a=d.F(d.yd),f=d.F(d.Uv);d.m.Ta.Instance=class extends d.vA{constructor(e,h){super(e);let g=!0,l="",n=0,p=!0;h&&(g=!!h[0],l=h[1],n=h[2],p=h[3]);this.ec=this.R.RN(l)||this.R.ie[0];this.Mb=d.fa(n,0,this.ec.ke.length-1);this.uf=this.ec.wn(this.Mb);h=this.uf.kd();this.it=h.Ud();this.Gw=h.Xh();this.b2();e.Jv(2,!0);e.Jv(1,0<=this.ec.Nl());this.Qk=Math.abs(this.ec.Nl());this.gt=this.ec.KW;this.zB=d.F(d.ms);this.Nk=this.Qj=0;this.DU="";this.Dw=-1;this.$s="";this.JU=
0;e=this.C();this.rga=e.$i();e.he(g);e.Hv(p);e.As(this.uf.nk());e.Bs(this.uf.pk());e.NG(this.uf.qq);e.Aa();1===this.R.ie.length&&1===this.R.ie[0].ke.length||0===this.Qk||this.te()}A(){this.zB=this.it=this.uf=this.ec=null;super.A()}ee(){return this.uf.kd()}Fn(){return!0}ps(){this.it=null}UP(){this.oI()}Fe(e){var h=this.it;null!==h&&(e.wg(h),h=this.C(),h.rg()?this.zH(h,e):this.AH(h,e))}AH(e,h){let g=this.rga;this.j.$k&&(g=e.Bv(g));h.Ln(g,this.Gw)}zH(e,h){const g=e.GO();if(e.bP()){e.Qu(b,a,!1);let l=
a;this.j.$k&&(l=e.Bv(l));g.lN(e.wk(),l,this.Gw);e.GA(!1)}g.Fe(h)}cv(){return this.zB.ia()}Zz(){return this.I.mF(2)}ws(e){this.I.Jv(2,e)}eA(){return this.I.mF(1)}Ov(e){this.I.Jv(1,e)}YF(){return this.I.mF(4)}LQ(e){this.I.Jv(4,e)}Ad(){this.$s&&this.SR();0<=this.Dw&&this.yH();const e=this.Qk;if(this.Zz()&&0!==e){this.zB.wc(this.j.Uh(this.I));var h=this.cv(),g=this.uf,l=g.WU/e;if(!(h<this.Qj+l)){var n=this.ec,p=this.gt,q=n.ke.length,r=n.yn(),x=n.BC,w=n.Sga;this.eA()?this.Mb++:this.Mb--;this.Qj+=l;this.Mb>=
q&&(w?(this.Ov(!1),this.Mb=q-2):x?this.Mb=p:(this.Nk++,this.Nk>=r?this.CH(!1):this.Mb=p));0>this.Mb&&(w?(this.Mb=1,this.Ov(!0),x||(this.Nk++,this.Nk>=r&&this.CH(!0))):x?this.Mb=p:(this.Nk++,this.Nk>=r?this.CH(!0):this.Mb=p));this.Mb=d.fa(this.Mb,0,q-1);l=n.wn(this.Mb);h>this.Qj+l.WU/e&&(this.Qj=h);this.hB(g,l)}}else this.im()}CH(e){this.Mb=e?0:this.ec.ke.length-1;this.ws(!1);this.DU=this.ec.na;this.LQ(!0);this.la(d.m.Ta.G.Q4);this.la(d.m.Ta.G.P4);this.LQ(!1);this.Nk=0}hB(e,h){if(e!==h){var g=this.C(),
l=e.kd();e=h.kd();var n=l.T();l=l.U();var p=e.T(),q=e.U();n!==p&&g.Je(g.T()*(p/n));l!==q&&g.Uf(g.U()*(q/l));g.As(h.nk());g.Bs(h.pk());g.NG(h.qq);g.Aa();this.uf=h;this.it=e.Ud();this.Gw=e.Xh();h=this.Oa().Yc;for(let r=0,x=h.length;r<x;++r);this.la(d.m.Ta.G.j5);this.j.aa()}}Efa(e){this.ws(!0);this.Qj=this.cv();1===e&&0!==this.Mb&&(this.Dw=0,this.YF()||this.yH());this.te()}Iea(e,h){this.$s=e;this.JU=h;this.te();this.YF()||this.SR()}qS(){return this.$s?this.$s:this.ec.na}Jea(e){isFinite(e)&&(this.Dw=
e,this.YF()||this.yH())}Lea(e){this.Qk=Math.abs(e);this.Ov(0<=e);0<this.Qk&&this.te()}lS(){return this.eA()?this.Qk:-this.Qk}Kea(e){this.gt=e=d.fa(Math.floor(e),0,this.ec.ke.length-1)}SR(){const e=this.uf;var h=this.R.RN(this.$s);this.$s="";!h||h===this.ec&&this.Zz()||(this.ec=h,this.Ov(0<=h.Nl()),this.Qk=Math.abs(h.Nl()),this.gt=h.KW,this.Mb=d.fa(this.Mb,0,this.ec.ke.length-1),1===this.JU&&(this.Mb=0),this.ws(!0),this.Qj=this.cv(),h=this.ec.wn(this.Mb),this.hB(e,h))}yH(){const e=this.uf;var h=this.Mb;
this.Mb=d.fa(Math.floor(this.Dw),0,this.ec.ke.length-1);this.Dw=-1;h!==this.Mb&&(h=this.ec.wn(this.Mb),this.hB(e,h),this.Qj=this.cv())}oI(){const e=this.uf.kd();this.it=e.Ud();this.Gw=e.Xh();this.C().GA(!0)}Ud(){return this.it}Xh(){return this.Gw}pF(){return this.uf.pF()}Kl(e){const h=this.uf,g=this.C();if("string"===typeof e)e=h.p1(e);else if("number"===typeof e)e=h.o1(e-1);else throw new TypeError("expected string or number");if(!e)return[g.O(),g.P()];f.Ka(e.Ep());if(g.rg()){const [l,n]=g.wk().kR(f.da,
f.Y);f.set(l,n)}f.offset(-h.nk(),-h.pk());f.scale(g.T(),g.U());f.rotate(g.pa());f.offset(g.O(),g.P());return[f.da,f.Y]}Q0(){return this.C().Ol().BM()}WN(e){e=Math.floor(e);const h=this.C();var g=h.Ol();const l=g.BM();e===l&&(e=0);if(0>e||e>=l)return[0,0];g=g.Md;return[g[2*e]+h.O(),g[2*e+1]+h.P()]}Ac(){const e={a:this.ec.gb};0!==this.Qj&&(e.fs=this.Qj);var h=this.cv();0!==h&&(e.at=h);0!==this.Mb&&(e.f=this.Mb);0!==this.Qk&&(e.cas=this.Qk);1!==this.Nk&&(e.ar=this.Nk);0!==this.gt&&(e.rt=this.gt);this.Zz()||
(e.ap=this.Zz());this.eA()||(e.af=this.eA());h=this.C();h.bh()&&(e.ce=h.bh());return e}rc(e){var h=this.L().J0(e.a);h&&(this.ec=h);this.Qj=e.hasOwnProperty("fs")?e.fs:0;this.zB.Set(e.hasOwnProperty("at")?e.at:0);h=e.hasOwnProperty("f")?e.f:0;this.Mb=d.fa(h,0,this.ec.ke.length-1);this.Qk=e.hasOwnProperty("cas")?e.cas:0;this.Nk=e.hasOwnProperty("ar")?e.ar:1;h=e.hasOwnProperty("rt")?e.rt:0;this.gt=d.fa(h,0,this.ec.ke.length-1);this.ws(e.hasOwnProperty("ap")?!!e.ap:!0);this.Ov(e.hasOwnProperty("af")?
!!e.af:!0);this.uf=h=this.ec.wn(this.Mb);this.oI();const g=this.C();g.As(h.nk());g.Bs(h.pk());g.NG(h.qq);g.Hv(!!e.ce)}$b(e){const h=this.C();switch(e){case 3:return h.bh();case 2:return d.fa(this.Mb,0,this.ec.ke.length-1)}}Ie(e,h){var g=this.C();switch(e){case 3:g.Hv(!!h);break;case 2:this.ws(!1);e=this.ec.ke.length-1;g=h=d.fa(h,0,e);h=this.ec.wn(this.Mb);const l=this.ec.wn(g);this.hB(h,l);this.Mb=d.fa(g,0,e)}}Pf(){return self.D2}};const c=new WeakMap;self.D2=class extends self.wv{constructor(){super();
c.set(this,self.es.em().ra)}get animationName(){return c.get(this).qS()}get imageWidth(){return c.get(this).ee().T()}get imageHeight(){return c.get(this).ee().U()}}}
{"use strict";const d=self.D,b=d.F(d.Rect),a=[],f=[];let c=!1,e=null,h=!1;const g=new Set;function l(r,x,w,v){x.Gb<w.Gb?r.Set(x,w,v):r.Set(w,x,v)}function n(r,x,w){x.Gb<w.Gb?r.tp(x,w):r.tp(w,x)}function p(r,x,w){return x.Gb<w.Gb?r.ia(x,w):r.ia(w,x)}function q(r,x,w,v){if(!x)return!1;r=r.Oa();const t=0!==w||0!==v,A=r.C(),y=r.K(),E=y.sf;var F=y.Kf();const H=F.df().le;var J=F.L();F=F.si;const M=x.ga();J=J!==x;e=x;c=J&&!F;h=!1;let P=0,S=0,T=!1;M.ic?(b.Ka(A.Uc()),b.offset(w,v),E.yz(A.qa(),x,b,f),x=f):
H?y.A3()&&!M.tc.length&&M.J.length?x=M.J:(x=M.tc,h=!0):x=M.J;t&&(P=A.O(),S=A.P(),A.Ul(w,v),A.Aa());for(const V of x)if(E.Gk(r,V)){T=!0;if(F)break;J&&g.add(V)}t&&(A.zd(P,S),A.Aa());d.H(f);return T}d.m.Ta.Jaa=function(r,x){if(c){if(x){{r=r.K().Sb().le;x=e.ga();const w=x.J,v=x.tc;x.ic?(x.Qv(g),r&&(d.H(v),x.$M(g,e.ua()))):r?h?x.S8(g):(x.$M(g,w),x.Qv(g)):x.Qv(g);e.qc()}}g.clear();e=null;c=!1}};d.m.Ta.G={X4(r){if(this.j.Re)return d.m.Ta.G.ZZ.call(this,r);if(!r)return!1;var x=this.j;const w=x.sf,v=x.xa(),
t=v.wd();var A=v.Kf();const y=A.L();var E=A.Of(),F=A.rv();A=t.Mf();const H=x.jl,J=H-1,M=A.Sb(),P=t.Ya(M);let S=E.get("collmemory");S||(S=d.F(d.Av),E.set("collmemory",S));F.get("spriteCreatedDestroyCallback")||(F.set("spriteCreatedDestroyCallback",!0),x.Kb().addEventListener("instancedestroy",ea=>{S.DN(ea.instance)}));x=r.ga();E=y.ga().ua();F=null;for(let ea=0;ea<E.length;++ea){const X=E[ea];x.ic?(w.yz(X.C().qa(),r,X.C().Uc(),a),F=a,w.aN(X,r,F)):F=x.ua();for(let na=0;na<F.length;++na){const ja=F[na];
if(w.Gk(X,ja)||w.qN(X,ja)){var T=p(S,X,ja),V=!1,ba=-2;"number"===typeof T&&(V=!0,ba=T);T=!V||ba<J;l(S,X,ja,H);T&&(T=M.Sd(),v.hf(T),ba=y.ga(),V=r.ga(),ba.Le(!1),V.Le(!1),y===r?(V=ba.J,d.H(V),V.push(X),V.push(ja),y.qc()):(ba=ba.J,V=V.J,d.H(ba),d.H(V),ba.push(X),V.push(ja),y.qc(),r.qc()),M.hh(A,P),v.Xb(T))}else n(S,X,ja)}d.H(a)}t.Wa();return!1},*ZZ(r){if(!r)return!1;var x=this.j;const w=x.sf,v=x.xa(),t=v.wd(),A=t.Mf(),y=x.jl,E=y-1,F=A.Sb(),H=t.Ya(F);var J=v.Kf();const M=J.L();var P=J.Of();J=J.rv();let S=
P.get("collmemory");S||(S=d.F(d.Av),P.set("collmemory",S));J.get("spriteCreatedDestroyCallback")||(J.set("spriteCreatedDestroyCallback",!0),x.Kb().addEventListener("instancedestroy",ea=>{S.DN(ea.instance)}));x=r.ga();P=M.ga().ua();J=null;for(let ea=0;ea<P.length;++ea){const X=P[ea];x.ic?(w.yz(X.C().qa(),r,X.C().Uc(),a),J=a,w.aN(X,r,J)):J=x.ua();for(let na=0;na<J.length;++na){const ja=J[na];if(w.Gk(X,ja)||w.qN(X,ja)){var T=p(S,X,ja),V=!1,ba=-2;"number"===typeof T&&(V=!0,ba=T);T=!V||ba<E;l(S,X,ja,y);
T&&(T=F.Sd(),v.hf(T),ba=M.ga(),V=r.ga(),ba.Le(!1),V.Le(!1),M===r?(V=ba.J,d.H(V),V.push(X),V.push(ja),M.qc()):(ba=ba.J,V=V.J,d.H(ba),d.H(V),ba.push(X),V.push(ja),M.qc(),r.qc()),yield*F.Rg(A,H),v.Xb(T))}else n(S,X,ja)}d.H(a)}t.Wa();return!1},I3(r){return q(this,r,0,0)},wpa(r,x,w){return q(this,r,x,w)},u3(r){return d.Nh(this.qS(),r)},GZ(r,x){return d.compare(this.Mb,r,x)},dma(r,x){return d.compare(this.lS(),r,x)},P4(r){return d.Nh(this.DU,r)},Q4(){return!0},j5(){return!0},npa(){return 0>this.C().T()},
dpa(){return 0>this.C().U()},pA(){return!0},lG(){return!0},bh(){return this.C().bh()}}}
{"use strict";const d=self.D;d.m.Ta.oa={B8(b,a,f,c){if(b&&a){var [e,h]=this.Kl(f);if(f=this.j.PE(b,a,e,h,c)){c&&a.VG(f);b.Tb().ls()&&(a=f.C(),a.lc(this.C().pa()),a.Aa());a=this.j.xa();a.Ze(!0);f.qB();a.Ze(!1);c=this.j.gv().Of();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.j.qt)a=!0,c.set("Spawn_LastExec",this.j.qt);if(b!==this.L()&&(b=b.ga(),b.Le(!1),b=b.J,a&&d.H(b),b.push(f),f.Gc()))for(const g of f.Yd)f=g.L().ga(),a?f.Fk(g):(f.Le(!1),f.cq(g))}}},$ua(){this.ws(!1)},F8(b){this.Efa(b)},
W6(b,a){this.Iea(b,a)},X6(b){this.Jea(b)},ota(b){this.Lea(b)},nta(b){this.Kea(b)},vua(b){const a=this.C(),f=a.T();b=Math.abs(f)*(0===b?-1:1);f!==b&&(a.Je(b),a.Aa())},Mta(b){const a=this.C(),f=a.U();b=Math.abs(f)*(0===b?-1:1);f!==b&&(a.Uf(b),a.Aa())},Vn(b){const a=this.uf.kd(),f=this.C();var c=0>f.T()?-1:1;const e=0>f.U()?-1:1;c*=a.T()*b;b=a.U()*b*e;if(f.T()!==c||f.U()!==b)f.sc(c,b),f.Aa()},async n4(b,a){const f=this.uf.kd(),c=this.C(),e=this.j;if(f.Ki===b)0===a&&(c.sc(f.T(),f.U()),c.Aa()),this.la(d.m.Ta.G.pA);
else{var h=d.F(d.xv);try{await h.jP(e,b);if(!h.cA())throw Error("image failed to load");await h.In(e.ac(),{Og:this.j.gd})}catch(g){console.error("Load image from URL failed: ",g);this.la(d.m.Ta.G.lG);return}f.z6(h);this.mb.sU();this.Js()||0!==a||(c.sc(f.T(),f.U()),c.Aa());e.aa();this.Js()||await this.jb(d.m.Ta.G.pA)}},zta(b){this.C().Hv(b)},MG(b,a){this.C().MG(0===b,a)},GQ(b){this.C().Sf(b);this.j.aa()}}}"use strict";
self.D.m.Ta.Sa={Kka(){return this.Mb},Lka(){return this.ec.ke.length},Mka(){return this.ec.na},Nka(){return this.lS()},Lqa(){return this.ec.Nl()},Goa(d){return this.Kl(d)[0]},Hoa(d){return this.Kl(d)[1]},Foa(){return this.pF()},L2(){return this.ee().T()},J2(){return this.ee().U()},zra(d){return this.WN(d)[0]},Ara(d){return this.WN(d)[1]},yra(){return this.Q0()}};{"use strict";const d=self.D;d.m.Audio=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D;d.m.Audio.Ke=class extends d.Yl{constructor(b){super(b)}A(){super.A()}cc(){}Pf(){return self.s2}};self.s2=class extends self.vv{constructor(b){super(b)}}}
{"use strict";const d=self.D,b=["interactive","balanced","playback"];d.m.Audio.Instance=class extends d.Pn{constructor(a,f){super(a,"audio");this.Bh=0;this.zL="";this.Nx=this.iX=0;this.QK=!1;this.TU=this.tW=1;this.Ao=this.j.eg/2;this.Bo=this.j.dg/2;this.Tq=-600;this.FW=600;this.dW=1E4;this.MW=1;this.vi=null;this.UC=-1;this.Ut=1;this.Fg=!1;this.OW=0;this.WB=new Map;this.UK=this.VK=0;this.Qm=new Map;a="interactive";f&&(this.iX=f[0],this.Nx=f[1],this.QK=f[2],a=b[f[3]],this.tW=f[4],this.TU=f[5],this.Tq=
-f[6],this.FW=f[7],this.dW=f[8],this.MW=f[9]);this.zh=[];this.It=[];this.OC=[];this.YM([["state",c=>this.rda(c)],["fxstate",c=>this.qda(c)],["trigger",c=>this.pda(c)]]);f=this.K().Kb();this.Cd=new d.sn(d.yb.Lb(f,"instancedestroy",c=>this.PH(c.instance)),d.yb.Lb(f,"afterload",()=>this.aq()),d.yb.Lb(f,"suspend",()=>this.RH()),d.yb.Lb(f,"resume",()=>this.QH()));this.j.AE(this.zk("create-audio-context",{preloadList:this.j.Ab.K0().map(c=>({originalUrl:c.bja,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.j.cK,timeScaleMode:this.iX,latencyHint:a,panningModel:this.tW,distanceModel:this.TU,refDistance:this.FW,maxDistance:this.dW,rolloffFactor:this.MW,listenerPos:[this.Ao,this.Bo,this.Tq]}).then(c=>{this.OW=c.sampleRate}));this.te()}A(){this.vi=null;super.A()}PH(a){this.vi===a&&(this.vi=null)}gz(a){return Math.pow(10,a/20)}Gd(a){a=this.gz(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}d4(a){return Math.log(a)/Math.log(10)*20}hP(a){return this.d4(Math.max(Math.min(a,1),0))}RH(){this.QK||
this.cb("set-suspended",{isSuspended:!0})}QH(){this.QK||this.cb("set-suspended",{isSuspended:!1})}rda(a){const f=a.tickCount,c=this.zh.filter(e=>e.hasOwnProperty("placeholder")&&(e.placeholder>f||-1===e.placeholder));this.zh=a.audioInstances;this.OC=a.analysers;0<c.length&&d.ep(this.zh,c)}qda(a){this.It=a.fxstate}YA(a){for(const f of this.zh)if(d.Nh(f.tag,a))return f;return null}US(a){return this.zh.some(f=>d.Nh(a,f.tag)&&f.isPlaying)}Ss(a,f,c,e){if(this.US(a))return null;a={tag:a,duration:0,volume:e,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:f,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.zh.push(a);return a}async pda(a){const f=a.type;this.zL=a.tag;a=a.aiid;if("ended"===f){for(const c of this.zh)if(c.aiid===a){c.isPlaying=!1;break}await this.jb(d.m.Audio.G.e5)}else"fade-ended"===f&&await this.jb(d.m.Audio.G.g5)}Ad(){const a={timeScale:this.j.Nd,gameTime:this.j.oF(),instPans:this.r1(),tickCount:this.j.Wm};
if(this.vi){const f=this.vi.C();this.Ao=f.O();this.Bo=f.P();a.listenerPos=[this.Ao,this.Bo,this.Tq]}this.cb("tick",a)}HM(a,f,c,e,h){if(0===c)return[a,f];const g=Math.sin(c);c=Math.cos(c);a-=e;f-=h;const l=a*g;a=a*c-f*g;return[a+e,f*c+l+h]}r1(){return this.zh.filter(a=>-1!==a.uid).map(a=>this.j.ef(a.uid)).filter(a=>a).map(a=>{const f=a.C(),c=f.qa().pa(),[e,h]=this.HM(f.O(),f.P(),-c,this.Ao,this.Bo);return{uid:a.Gb,x:e,y:h,angle:f.pa()-c}})}rz(a,f){for(const c of this.OC)if(c.index===f&&d.Nh(c.tag,
a))return c;return null}gi(a){this.WB.set(a,(this.WB.get(a)||0)+1)}Bfa(a){return a.hasOwnProperty("placeholder")||3===this.Nx?!1:a.isMusic&&1===this.Nx?!1:a.isMusic||2!==this.Nx?!0:!1}Ac(){return{isSilent:this.Fg,masterVolume:this.Ut,listenerZ:this.Tq,listenerUid:this.vi?this.vi.Gb:-1,remoteUrls:[...this.Qm.entries()],playing:this.zh.filter(a=>this.Bfa(a)),effects:this.It,analysers:this.OC}}rc(a){this.Fg=a.isSilent;this.Ut=a.masterVolume;this.Tq=a.listenerZ;this.vi=null;this.UC=a.listenerUid;this.Qm.clear();
if(a.remoteUrls)for(const [f,c]of a.remoteUrls)this.Qm.set(f,c);this.zh=a.playing;this.It=a.effects;this.OC=a.analysers}aq(){if(-1!==this.UC&&(this.vi=this.j.ef(this.UC),this.UC=-1,this.vi)){var a=this.vi.C();this.Ao=a.O();this.Bo=a.P()}for(var f of this.zh)(a=this.j.Ab.Xg(f.bufferOriginalUrl))?(f.bufferUrl=a.url,f.bufferType=a.type):f.bufferUrl=null;for(const c of Object.values(this.It))for(const e of c)e.hasOwnProperty("bufferOriginalUrl")&&(f=this.j.Ab.Xg(e.bufferOriginalUrl))&&(e.bufferUrl=f.url,
e.bufferType=f.type);this.cb("load-state",{saveLoadMode:this.Nx,timeScale:this.j.Nd,gameTime:this.j.oF(),listenerPos:[this.Ao,this.Bo,this.Tq],isSilent:this.Fg,masterVolume:this.Ut,playing:this.zh.filter(c=>null!==c.bufferUrl),effects:this.It})}}}{"use strict";const d=self.D;d.m.Audio.G={e5(b){return d.Nh(this.zL,b)},g5(b){return d.Nh(this.zL,b)},Fra(){return this.UK===this.VK},xka(){return!0},Apa(){return this.Fg},Qoa(){for(const b of this.zh)if(b.isPlaying)return!0;return!1},Cpa(b){return this.US(b)}}}
{"use strict";const d=self.D,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.m.Audio.oa={async Play(a,f,c,e){if(!this.Fg){var h=a[1],g=this.j.Ab.Xg(a[0]);if(g){var l=this.Bh;this.Bh=0;var n=this.Ss(e.toLowerCase(),h,0!==f,this.Gd(c));try{await this.zk("play",{originalUrl:a[0],url:g.url,type:g.type,isMusic:h,tag:e.toLowerCase(),isLooping:0!==f,vol:this.Gd(c),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Wm)}}}},async mra(a,
f,c,e,h,g,l,n,p,q){if(!this.Fg){var r=a[1],x=this.j.Ab.Xg(a[0]);if(x){var w=this.Bh;this.Bh=0;var v=this.Ss(q.toLowerCase(),r,0!==f,this.Gd(c));try{await this.zk("play",{originalUrl:a[0],url:x.url,type:x.type,isMusic:r,tag:q.toLowerCase(),isLooping:0!==f,vol:this.Gd(c),pos:0,off:w,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:h,angle:d.Ba(g),innerAngle:d.Ba(l),outerAngle:d.Ba(n),outerGain:this.Gd(p)}})}finally{v&&(v.placeholder=this.j.Wm)}}}},async kra(a,f,c,e,h,g,l,n){if(!this.Fg&&
e&&(e=e.Vg())&&e.C()){var p=e.C(),q=p.qa().pa(),[r,x]=this.HM(p.O(),p.P(),-q,this.Ao,this.Bo),w=a[1],v=this.j.Ab.Xg(a[0]);if(v){var t=this.Bh;this.Bh=0;var A=this.Ss(n.toLowerCase(),w,0!==f,this.Gd(c));try{await this.zk("play",{originalUrl:a[0],url:v.url,type:v.type,isMusic:w,tag:n.toLowerCase(),isLooping:0!==f,vol:this.Gd(c),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:x,angle:p.pa()-q,innerAngle:d.Ba(h),outerAngle:d.Ba(g),outerGain:this.Gd(l),uid:e.Gb}})}finally{A&&
(A.placeholder=this.j.Wm)}}}},async R5(a,f,c,e,h){if(!this.Fg){a=1===a;var g=this.j.Ab.Xg(f)||this.Qm.get(f.toLowerCase());if(g){var l=this.Bh;this.Bh=0;var n=this.Ss(h.toLowerCase(),a,0!==c,this.Gd(e));try{await this.zk("play",{originalUrl:f,url:g.url,type:g.type,isMusic:a,tag:h.toLowerCase(),isLooping:0!==c,vol:this.Gd(e),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Wm)}}}},async nra(a,f,c,e,h,g,l,n,p,q,r){if(!this.Fg){a=1===a;var x=this.j.Ab.Xg(f)||
this.Qm.get(f.toLowerCase());if(x){var w=this.Bh;this.Bh=0;var v=this.Ss(r.toLowerCase(),a,0!==c,this.Gd(e));try{await this.zk("play",{originalUrl:f,url:x.url,type:x.type,isMusic:a,tag:r.toLowerCase(),isLooping:0!==c,vol:this.Gd(e),pos:0,off:w,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:h,y:g,angle:d.Ba(l),innerAngle:d.Ba(n),outerAngle:d.Ba(p),outerGain:this.Gd(q)}})}finally{v&&(v.placeholder=this.j.Wm)}}}},async lra(a,f,c,e,h,g,l,n,p){if(!this.Fg&&!this.Fg&&h&&(h=h.Vg())&&h.C()){var q=
h.C(),r=q.qa().pa(),[x,w]=this.HM(q.O(),q.P(),-r,this.Ao,this.Bo);a=1===a;var v=this.j.Ab.Xg(f)||this.Qm.get(f.toLowerCase());if(v){var t=this.Bh;this.Bh=0;var A=this.Ss(p.toLowerCase(),a,0!==c,this.Gd(e));try{await this.zk("play",{originalUrl:f,url:v.url,type:v.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.Gd(e),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x,y:w,angle:q.pa()-r,innerAngle:d.Ba(g),outerAngle:d.Ba(l),outerGain:this.Gd(n),uid:h.Gb}})}finally{A&&(A.placeholder=
this.j.Wm)}}}},rua(a,f){this.cb("set-looping",{tag:a.toLowerCase(),isLooping:0===f})},xua(a,f){this.cb("set-muted",{tag:a.toLowerCase(),isMuted:0===f})},p8(a,f){this.cb("set-volume",{tag:a.toLowerCase(),vol:this.Gd(f)})},xna(a,f,c,e){this.cb("fade-volume",{tag:a.toLowerCase(),vol:this.Gd(f),duration:c,stopOnEnd:0===e})},async Y5(a){const f=a[1],c=this.j.Ab.Xg(a[0]);c&&(this.VK++,await this.zk("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:f}),this.UK++)},async Era(a,f){a=1===a;const c=
this.j.Ab.Xg(f)||this.Qm.get(f.toLowerCase());c&&(this.VK++,await this.zk("preload",{originalUrl:f,url:c.url,type:c.type,isMusic:a}),this.UK++)},Mv(a,f){this.cb("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(f,0)})},mh(a){this.cb("stop",{tag:a.toLowerCase()})},Zua(){this.cb("stop-all")},zua(a,f){this.cb("set-paused",{tag:a.toLowerCase(),paused:0===f})},jta(a,f){this.cb("seek",{tag:a.toLowerCase(),pos:f})},Eua(a){2===a&&(a=this.Fg?1:0);a=0===a;this.Fg!==a&&(this.Fg=a,this.cb("set-silent",{isSilent:a}))},
tua(a){a=this.Gd(a);this.Ut!==a&&(this.Ut=a,this.cb("set-master-volume",{vol:a}))},kka(a,f,c,e,h,g,l){a=a.toLowerCase();f=b[f];this.gi(a);this.cb("add-effect",{type:"filter",tag:a,params:[f,c,e,h,g,d.fa(l/100,0,1)]})},hka(a,f,c,e){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"delay",tag:a,params:[f,this.Gd(c),d.fa(e/100,0,1)]})},mka(a,f,c,e,h,g){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"flanger",tag:a,params:[f/1E3,c/1E3,e,h/100,d.fa(g/100,0,1)]})},rka(a,f,c,e,h,g,l){a=a.toLowerCase();
this.gi(a);this.cb("add-effect",{type:"phaser",tag:a,params:[f,c,e,h,g,d.fa(l/100,0,1)]})},gka(a,f,c,e){a=a.toLowerCase();const h=this.j.Ab.Xg(f[0]);h&&(this.gi(a),this.cb("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:f[0],bufferUrl:h.url,bufferType:h.type,params:[0===c,d.fa(e/100,0,1)]}))},nka(a,f){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"gain",tag:a,params:[this.Gd(f)]})},qka(a){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"gain",tag:a,params:[0]})},vka(a,f,
c){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"tremolo",tag:a,params:[f,d.fa(c/100,0,1)]})},uka(a,f,c){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"ringmod",tag:a,params:[f,d.fa(c/100,0,1)]})},ika(a,f,c,e,h,g){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"distortion",tag:a,params:[this.gz(f),this.gz(c),e,this.gz(h),d.fa(g/100,0,1)]})},fka(a,f,c,e,h,g){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"compressor",tag:a,params:[f,c,e,h/1E3,g/1E3]})},eka(a,
f,c){a=a.toLowerCase();this.gi(a);this.cb("add-effect",{type:"analyser",tag:a,params:[f,c]})},Tra(a){a=a.toLowerCase();this.WB.set(a,0);this.cb("remove-effects",{tag:a});this.It={}},Gta(a,f,c,e,h,g){this.cb("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(f),param:c,value:e,ramp:h,time:g})},pua(a){a&&(a=a.Vg())&&a.C()&&(this.vi=a)},qua(a){this.Tq=a},ata(a){this.Bh=Math.max(a,0)},Yva(a){const f=a[1];(a=this.j.Ab.Xg(a[0]))&&this.cb("unload",{url:a.url,type:a.type,isMusic:f})},Zva(a,f){a=1===
a;(f=this.j.Ab.Xg(f)||this.Qm.get(f.toLowerCase()))&&this.cb("unload",{url:f.url,type:f.type,isMusic:a})},Xva(){this.cb("unload-all")},tka(a,f,c){this.Qm.set(c.toLowerCase(),{url:a,type:f})}}}"use strict";
self.D.m.Audio.Sa={kna(d){return(d=this.YA(d))?d.duration:0},pra(d){return(d=this.YA(d))?d.playbackTime:0},ora(d){return(d=this.YA(d))?d.playbackRate:0},nwa(d){return(d=this.YA(d))?this.hP(d.volume):0},cqa(){return this.hP(this.Ut)},lna(d){return this.WB.get(d.toLowerCase())||0},Cka(d,b){return(d=this.rz(d,Math.floor(b)))?d.binCount:0},Bka(d,b,a){d=this.rz(d,Math.floor(b));if(!d)return 0;a=Math.floor(a);return 0>a||a>=d.binCount?0:d.freqBins[a]},Dka(d,b){return(d=this.rz(d,Math.floor(b)))?d.peak:
0},Eka(d,b){return(d=this.rz(d,Math.floor(b)))?d.rms:0},$sa(){return this.OW},Tma(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.D;d.m.Fc=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.m.Fc.Ke=class extends d.Yl{constructor(b){super(b)}A(){super.A()}cc(){}}}
{"use strict";const d=self.D;d.m.Fc.Instance=class extends d.Pn{constructor(b){super(b,"browser");this.Vk="";this.ax=!1;this.UU=this.GW="";this.HV=!1;this.PL=this.QW=this.RW=0;this.cx=!1;this.YM([["online-state",a=>this.jda(a)],["backbutton",()=>this.Nca()],["sw-message",a=>this.mda(a)],["hashchange",a=>this.Xca(a)]]);b=this.K().Kb();this.Cd=new d.sn(d.yb.Lb(b,"afterfirstlayoutstart",()=>this.Mca()),d.yb.Lb(b,"window-resize",()=>this.VH()),d.yb.Lb(b,"suspend",()=>this.RH()),d.yb.Lb(b,"resume",()=>
this.QH()));this.j.AE(this.zk("get-initial-state",{exportType:this.j.Nj}).then(a=>{this.Vk=a.location;this.ax=a.isOnline;this.GW=a.referrer;this.UU=a.title;this.HV=a.isCookieEnabled;this.RW=a.screenWidth;this.QW=a.screenHeight;this.PL=a.windowOuterWidth;this.cx=a.isScirraArcade}))}A(){super.A()}Mca(){this.cb("ready-for-sw-messages")}async jda(b){b=!!b.isOnline;this.ax!==b&&((this.ax=b)?await this.jb(d.m.Fc.G.y5):await this.jb(d.m.Fc.G.w5))}async VH(){await this.jb(d.m.Fc.G.D5)}RH(){this.la(d.m.Fc.G.z5)}QH(){this.la(d.m.Fc.G.A5)}async Nca(){await this.jb(d.m.Fc.G.U4)}mda(b){b=
b.type;"downloading-update"===b?this.la(d.m.Fc.G.K5):"update-ready"===b||"update-pending"===b?this.la(d.m.Fc.G.L5):"offline-ready"===b&&this.la(d.m.Fc.G.x5)}Xca(b){this.Vk=b.location;this.la(d.m.Fc.G.k5)}}}"use strict";
self.D.m.Fc.G={tpa(){return this.ax},y5(){return!0},w5(){return!0},D5(){return!0},Jma(){return this.HV},fpa(){return this.j.ea.Jq},U4(){return!0},xpa(d){return(this.j.ea.sl<=this.j.ea.rl?0:1)===d},K5(){return!0},L5(){return!0},x5(){return!0},k5(){return!0},Mqa(){return!this.j.Gn()},z5(){return!0},A5(){return!0},roa(){return!1},apa(){return!1},yqa(){return!1},zqa(){return!1},mpa(){return!1},Uoa(){return!0},ova(){return!0}};
{"use strict";const d=self.D,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.m.Fc.oa={zka(a){this.cb("alert",{message:a.toString()})},BZ(){this.cx||(this.j.Bb?self.mg.Wla():this.cb("close"))},Cna(){this.cb("set-focus",{isFocus:!0})},qla(){this.cb("set-focus",{isFocus:!1})},aoa(){this.cx||this.cb("navigate",{type:"back"})},boa(){this.cx||this.cb("navigate",{type:"forward"})},coa(){},Sra(){this.cx||(this.j.Bb?this.j.X5():this.cb("navigate",
{type:"reload"}))},eoa(a,f){this.gm("navigate",{type:"url",url:a,target:f,exportType:this.j.Nj})},Y1(a,f){this.gm("navigate",{type:"new-window",url:a,tag:f,exportType:this.j.Nj})},A6(a,f){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=d.JE.hS(a);this.j.ea.j7(a);this.gm("request-fullscreen",{navUI:f})},oZ(){this.gm("exit-fullscreen")},mwa(a){a=a.split(",");for(let f=0,c=a.length;f<c;++f)a[f]=parseInt(a[f],10);this.gm("vibrate",{pattern:a})},async QF(a,f){a&&f&&(a=await this.j.Ab.Kz(a),this.j.QF(a,f))},Poa(a,
f,c){c&&(a=`data:${f},${encodeURIComponent(a)}`,this.j.QF(a,c))},Fma(a,f){f=f.toString();0===a?console.log(f):1===a?console.warn(f):2===a&&console.error(f)},Dma(a){console.group(a)},Ema(){console.groupEnd()},una(a){try{eval(a)}catch(f){console.error("Error executing JavaScript: ",f)}},Xpa(a){a=Math.floor(a);0>a||a>=b.length||this.gm("lock-orientation",{orientation:b[a]})},bwa(){this.gm("unlock-orientation")},lP(a){this.j.Ab.lP(a)},Sta(a){this.cb("set-hash",{hash:a})}}}"use strict";
self.D.m.Fc.Sa={URL(){return this.j.Se?this.Vk:location.toString()},Jra(){return this.j.Se?(new URL(this.Vk)).protocol:location.protocol},fna(){return this.j.Se?(new URL(this.Vk)).hostname:location.hostname},Dra(){return this.j.Se?(new URL(this.Vk)).port:location.port},Oqa(){return this.j.Se?(new URL(this.Vk)).pathname:location.pathname},toa(){return this.j.Se?(new URL(this.Vk)).hash:location.hash},pG(){return this.j.Se?(new URL(this.Vk)).search:location.search},Lra(d){const b=this.j.Se?(new URL(this.Vk)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(b))?decodeURIComponent(d[1].replace(/\+/g," ")):""},Qra(){return this.GW},Gva(){return this.UU},Jpa(){return navigator.language},md(){return navigator.platform},gwa(){return navigator.userAgent},tna(d){let b=0;try{b=eval(d)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},B4(){return navigator.appName},lwa(){return navigator.appVersion},Ira(){return navigator.product},
kwa(){return navigator.vendor},kla(){return 1},lla(){return Infinity},jla(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},cna(){return self.devicePixelRatio},dta(){return this.RW},cta(){return this.QW},ywa(){return this.j.ea.sl},xwa(){return this.j.ea.rl},Awa(){return this.PL},zwa(){return this.PL}};{"use strict";const d=self.D;d.m.Keyboard=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D;d.m.Keyboard.Ke=class extends d.Yl{constructor(b){super(b)}A(){super.A()}cc(){}Pf(){return self.u2}};self.u2=class extends self.vv{constructor(b){super(b);b.K().ct.keyboard=this}}}
{"use strict";const d=self.D;d.m.Keyboard.Instance=class extends d.Pn{constructor(b){super(b);this.qx=new Set;this.Ht=new Set;this.ll=0;this.iy=this.MD="";b=this.K().Kb();this.Cd=new d.sn(d.yb.Lb(b,"keydown",a=>this.dda(a.data)),d.yb.Lb(b,"keyup",a=>this.eda(a.data)),d.yb.Lb(b,"window-blur",()=>this.oT()),d.yb.Lb(b,"keyboard-blur",()=>this.oT()))}A(){super.A()}dda(b){const a=b.which,f=b.code||a.toString();b=b.key;this.qx.has(f)||(this.qx.add(f),this.Ht.add(a),this.MD=f,this.ll=a,this.iy=b,this.la(d.m.Keyboard.G.T4),
this.la(d.m.Keyboard.G.p5),this.la(d.m.Keyboard.G.s5),this.la(d.m.Keyboard.G.q5))}eda(b){const a=b.which,f=b.code||a.toString();b=b.key;this.qx.delete(f);this.Ht.delete(a);this.MD=f;this.ll=a;this.iy=b;this.la(d.m.Keyboard.G.xP);this.la(d.m.Keyboard.G.HP);this.la(d.m.Keyboard.G.t5);this.la(d.m.Keyboard.G.GP)}oT(){for(const b of this.Ht)this.Ht.delete(b),this.ll=b,this.la(d.m.Keyboard.G.xP),this.la(d.m.Keyboard.G.HP),this.la(d.m.Keyboard.G.GP);this.qx.clear()}Ac(){return{tk:this.ll,tkk:this.iy}}rc(b){this.ll=
b.tk;b.hasOwnProperty("tkk")&&(this.iy=b.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.D.m.Keyboard.G={ipa(b){return this.Ht.has(b)},p5(b){return this.ll===b},T4(){return!0},xP(){return!0},HP(b){return this.ll===b},hpa(b){b=Math.floor(b);return this.Ht.has(b)},q5(b){return this.ll===b},GP(b){return this.ll===b},s5(b){return this.MD===d[b]},t5(b){return this.MD===d[b]},jpa(b){return this.qx.has(d[b])}}}"use strict";
self.D.m.Keyboard.oa={};
{"use strict";function d(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.D.m.Keyboard.Sa={Kpa(){return this.ll},eva(b){return d(b)},Sva(){return this.iy}}}{"use strict";const d=self.D;d.m.He=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.m.He.Ke=class extends d.Yl{constructor(b){super(b)}A(){super.A()}cc(){}Pf(){return self.x2}};self.x2=class extends self.vv{constructor(b){super(b);b.K().ct.sM=this}}}
{"use strict";const d=self.D;d.m.He.Instance=class extends d.Pn{constructor(b){super(b,"mouse");this.oq=[!1,!1,!1];this.lX=this.ND=this.wr=this.Ho=this.Go=0;b=this.K().Kb();this.Cd=new d.sn(d.yb.Lb(b,"pointermove",a=>this.lw(a.data)),d.yb.Lb(b,"pointerdown",a=>this.kw(a.data)),d.yb.Lb(b,"pointerup",a=>this.bq(a.data)),d.yb.Lb(b,"dblclick",a=>this.Rca(a.data)),d.yb.Lb(b,"wheel",a=>this.hda(a.data)),d.yb.Lb(b,"window-blur",()=>this.UH()))}A(){super.A()}kw(b){"mouse"===b.pointerType&&(this.Go=b.pageX-
this.j.El(),this.Ho=b.pageY-this.j.Fl(),this.hH(b.lastButtons,b.buttons))}lw(b){"mouse"===b.pointerType&&(this.Go=b.pageX-this.j.El(),this.Ho=b.pageY-this.j.Fl(),this.hH(b.lastButtons,b.buttons))}bq(b){"mouse"===b.pointerType&&this.hH(b.lastButtons,b.buttons)}hH(b,a){this.gH(b,a,1,0);this.gH(b,a,4,1);this.gH(b,a,2,2)}gH(b,a,f,c){!(b&f)&&a&f?this.fda(c):b&f&&!(a&f)&&this.gda(c)}fda(b){this.oq[b]=!0;this.la(d.m.He.G.R4);this.wr=b;this.ND=0;this.la(d.m.He.G.yP);this.la(d.m.He.G.NP)}gda(b){this.oq[b]&&
(this.oq[b]=!1,this.wr=b,this.la(d.m.He.G.OP))}Rca(b){this.wr=b.button;this.ND=1;this.la(d.m.He.G.yP);this.la(d.m.He.G.NP)}hda(b){this.lX=0>b.deltaY?1:0;this.la(d.m.He.G.N5)}UH(){for(let b=0,a=this.oq.length;b<a&&this.oq[b];++b)this.oq[b]=!1,this.wr=b,this.la(d.m.He.G.OP)}mO(b){const a=this.j.Wb(),f=this.Go,c=this.Ho;return"undefined"===typeof b?a.nv(0).oN(f,c):(b=a.qa(b))?b.Ti(f,c):[0,0]}TS(){return 0<=this.Go&&0<=this.Ho&&this.Go<this.j.VN()&&this.Ho<this.j.UN()}}}
{"use strict";const d=self.D;d.m.He.G={yP(b,a){return this.wr===b&&this.ND===a},R4(){return!0},w3(b){return this.oq[b]},OP(b){return this.wr===b},vpa(b){if(!this.TS())return!1;const a=this.j.Kf().si;return d.xor(this.j.sf.Hs(b,this.Go,this.Ho,a),a)},NP(b,a,f){return b===this.wr&&a===this.ND&&this.TS()?this.j.sf.Hs(f,this.Go,this.Ho,!1):!1},N5(b){return this.lX===b}}}
{"use strict";const d=self.D;let b=null;const a="auto pointer text crosshair move help wait none".split(" ");d.m.He.oa={Ata(f){f=a[f];b!==f&&(b=f,this.cb("cursor",f))},f7(f){if(!d.md.dA&&f&&(f=f.Vg())){var c=f.C(),e=f.ee();c&&e&&b!==e&&(b=e,e.w0().then(h=>d.Su(h)).then(h=>{h=`url(${URL.createObjectURL(h)}) ${Math.round(c.nk()*e.T())} ${Math.round(c.pk()*e.U())}, auto`;this.cb("cursor","");this.cb("cursor",h)}))}}}}"use strict";
self.D.m.He.Sa={Xv(d){return this.mO(d)[0]},Ks(d){return this.mO(d)[1]},yY(){return this.Go},zY(){return this.Ho}};{"use strict";const d=self.D;d.m.Touch=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D,b=self.Pg;d.m.Touch.Ke=class extends d.Yl{constructor(f){super(f)}A(){super.A()}cc(){}Pf(){return self.G2}};let a=null;self.G2=class extends self.vv{constructor(f){super(f);a=f;f.K().ct.UM=this}requestPermission(f){b.jf(f);const c=a.vk().ra;if("orientation"===f)return c.WH(0);if("motion"===f)return c.WH(1);throw Error("invalid type");}}}
{"use strict";const d=self.D;d.m.Touch.Instance=class extends d.Pn{constructor(b,a){super(b,"touch");this.Ed=new Map;this.CC=this.mX=!1;this.kC=this.ni=this.mi=this.yL=this.LD=this.nu=this.tI=this.sI=this.rI=this.wI=this.vI=this.uI=this.JK=this.IK=this.HK=this.fD=0;this.hD=[];a&&(this.mX=a[0]);this.yE("permission-result",f=>this.kda(f));b=this.K().Kb();this.Cd=new d.sn(d.yb.Lb(b,"pointerdown",f=>this.kw(f.data)),d.yb.Lb(b,"pointermove",f=>this.lw(f.data)),d.yb.Lb(b,"pointerup",f=>this.bq(f.data,!1)),
d.yb.Lb(b,"pointercancel",f=>this.bq(f.data,!0)),d.yb.Lb(b,"deviceorientation",f=>this.Pca(f.data)),d.yb.Lb(b,"deviceorientationabsolute",f=>this.Qca(f.data)),d.yb.Lb(b,"devicemotion",f=>this.Oca(f.data)),d.yb.Lb(b,"tick2",()=>this.SH()))}A(){this.Ed.clear();super.A()}kw(b){if("mouse"===b.pointerType)if(this.mX)this.CC=!0;else return;const a=b.pointerId;if(!this.Ed.has(a)){var f=b.pageX-this.j.El();b=b.pageY-this.j.Fl();var c=performance.now(),e=this.Ed.size;this.nu=e;this.LD=a;var h=d.F(d.m.Touch.Q8);
h.Zg(c,f,b,a,e);this.Ed.set(a,h);this.la(d.m.Touch.G.v5);this.la(d.m.Touch.G.SP);this.mi=f;this.ni=b;this.la(d.m.Touch.G.RP)}}lw(b){if("mouse"!==b.pointerType||this.CC){var a=this.Ed.get(b.pointerId);if(a){var f=performance.now();2>f-a.Pa()||a.am(f,b.pageX-this.j.El(),b.pageY-this.j.Fl(),b.width,b.height,b.pressure)}}}bq(b,a){if("mouse"===b.pointerType)if(this.CC)this.CC=!1;else return;const f=performance.now();b=b.pointerId;const c=this.Ed.get(b);c&&(this.nu=c.Kg,this.LD=c.lk(),this.la(d.m.Touch.G.u5),
this.la(d.m.Touch.G.QP),a||(a=c.v8(f),"single-tap"===a?(this.la(d.m.Touch.G.I5),this.mi=c.O(),this.ni=c.P(),this.la(d.m.Touch.G.J5)):"double-tap"===a&&(this.la(d.m.Touch.G.a5),this.mi=c.O(),this.ni=c.P(),this.la(d.m.Touch.G.b5))),c.A(),this.Ed.delete(b))}WH(b){this.gm("request-permission",{type:b});return new Promise((a,f)=>{this.hD.push({type:b,resolve:a,reject:f})})}kda(b){const a=b.result,f=b.type;this.yL=f;b=this.hD.filter(c=>c.type===f);for(const c of b)c.resolve(a?"granted":"denied");this.hD=
this.hD.filter(c=>c.type!==f);a?(this.la(d.m.Touch.G.C5),0===f?this.j.rs():this.j.On()):this.la(d.m.Touch.G.B5)}Pca(b){"number"===typeof b.webkitCompassHeading?this.fD=b.webkitCompassHeading:b.absolute&&(this.fD=b.alpha);this.HK=b.alpha;this.IK=b.beta;this.JK=b.gamma}Qca(b){this.fD=b.alpha}Oca(b){const a=b.acceleration;a&&(this.uI=a.x,this.vI=a.y,this.wI=a.z);if(b=b.accelerationIncludingGravity)this.rI=b.x,this.sI=b.y,this.tI=b.z}SH(){const b=performance.now();let a=0;for(const f of this.Ed.values())f.Pa()<=
b-50&&f.hfa(b),f.u8(b)&&(this.nu=f.Kg,this.LD=f.lk(),this.kC=a,this.la(d.m.Touch.G.l5),this.mi=f.O(),this.ni=f.P(),this.la(d.m.Touch.G.m5),this.kC=0),++a}sj(b){b=Math.floor(b);for(const a of this.Ed.values()){if(0===b)return a;--b}return null}fw(b,a){return 0<=b&&0<=a&&b<this.j.VN()&&a<this.j.UN()}}}
{"use strict";const d=self.D,b=[];d.m.Touch.G={SP(){return!0},QP(){return!0},F3(){return 0<this.Ed.size},RP(a){return a&&this.fw(this.mi,this.ni)?this.j.sf.Hs(a,this.mi,this.ni,!1):!1},T3(a){if(!a)return!1;const f=a.ga();var c=f.ua();for(const e of c){c=e.C();const h=c.qa();for(const g of this.Ed.values()){if(!this.fw(g.O(),g.P()))continue;const [l,n]=h.Ti(g.O(),g.P(),c.Yh());if(c.Qr(l,n)){b.push(e);break}}}return b.length?(f.Gv(b),a.qc(),d.H(b),!0):!1},sma(a,f,c){return(a=this.sj(a))?d.compare(a.Nl(),
f,c):!1},Jqa(){return!0},gqa(){return!0},nma(a,f,c){this.j.rs();return d.compare(0===a?this.HK:1===a?this.IK:this.JK,f,c)},cma(a,f,c){this.j.On();return d.compare(0===a?this.rI:1===a?this.sI:2===a?this.tI:3===a?this.uI:4===a?this.vI:this.wI,f,c)},v5(a){a=Math.floor(a);return a===this.nu},u5(a){a=Math.floor(a);return a===this.nu},soa(a){a=Math.floor(a);return this.Ed.size>=a+1},l5(){return!0},I5(){return!0},a5(){return!0},m5(a){return a&&this.fw(this.mi,this.ni)?this.j.sf.Hs(a,this.mi,this.ni,!1):
!1},J5(a){return a&&this.fw(this.mi,this.ni)?this.j.sf.Hs(a,this.mi,this.ni,!1):!1},b5(a){return a&&this.fw(this.mi,this.ni)?this.j.sf.Hs(a,this.mi,this.ni,!1):!1},C5(a){return this.yL===a},B5(a){return this.yL===a}}}"use strict";self.D.m.Touch.oa={asa(d){this.WH(d)}};
{"use strict";const d=self.D;d.m.Touch.Sa={Nva(){return this.Ed.size},Xv(b){const a=this.sj(this.kC);return a?a.$r(this.j.Xa(),b,!0):0},Ks(b){const a=this.sj(this.kC);return a?a.$r(this.j.Xa(),b,!1):0},Bwa(b,a){return(b=this.sj(b))?b.$r(this.j.Xa(),a,!0):0},Dwa(b,a){return(b=this.sj(b))?b.$r(this.j.Xa(),a,!1):0},Cwa(b,a){return(b=this.Ed.get(b))?b.$r(this.j.Xa(),a,!0):0},Ewa(b,a){return(b=this.Ed.get(b))?b.$r(this.j.Xa(),a,!1):0},yY(){const b=this.sj(0);return b?b.O():0},zY(){const b=this.sj(0);return b?
b.P():0},Tja(b){return(b=this.sj(b))?b.O():0},Vja(b){return(b=this.sj(b))?b.P():0},Uja(b){return(b=this.Ed.get(b))?b.O():0},Wja(b){return(b=this.Ed.get(b))?b.P():0},Vua(b){return(b=this.sj(b))?b.Nl():0},Wua(b){return(b=this.Ed.get(b))?b.Nl():0},Fka(b){return(b=this.sj(b))?d.Sc(b.pa()):0},Gka(b){return(b=this.Ed.get(b))?d.Sc(b.pa()):0},Cma(){this.j.rs();return this.fD},Aka(){this.j.rs();return this.HK},mla(){this.j.rs();return this.IK},Qna(){this.j.rs();return this.JK},Zja(){this.j.On();return this.rI},
aka(){this.j.On();return this.sI},cka(){this.j.On();return this.tI},Yja(){this.j.On();return this.uI},$ja(){this.j.On();return this.vI},bka(){this.j.On();return this.wI},Pva(){return this.nu},Ova(){return this.LD},vwa(b){return(b=this.Ed.get(b))?b.T():0},uoa(b){return(b=this.Ed.get(b))?b.U():0},Gra(b){return(b=this.Ed.get(b))?b.zW:0}}}
{"use strict";const d=self.D;let b=-1E3,a=-1E3,f=-1E4;d.m.Touch.Q8=class extends d.ta{constructor(){super();this.zW=this.W=this.Z=this.bl=this.al=this.Y=this.da=this.CD=this.BD=this.TC=this.hd=this.Qo=this.Kg=this.wW=0;this.JC=this.CJ=!1}A(){}Zg(c,e,h,g,l){this.wW=g;this.Kg=l;this.Qo=this.TC=this.hd=c;this.BD=e;this.CD=h;this.da=e;this.Y=h;this.al=e;this.bl=h}am(c,e,h,g,l,n){this.TC=this.hd;this.hd=c;this.al=this.da;this.bl=this.Y;this.da=e;this.Y=h;this.Z=g;this.W=l;this.zW=n;!this.JC&&15<=d.hg(this.BD,
this.CD,this.da,this.Y)&&(this.JC=!0)}lk(){return this.wW}Pa(){return this.hd}hfa(c){this.TC=c}O(){return this.da}P(){return this.Y}Nl(){const c=d.hg(this.da,this.Y,this.al,this.bl),e=(this.hd-this.TC)/1E3;return 0<e?c/e:0}pa(){return d.Hf(this.al,this.bl,this.da,this.Y)}T(){return this.Z}U(){return this.W}u8(c){return this.CJ?!1:500<=c-this.Qo&&!this.JC&&15>d.hg(this.BD,this.CD,this.da,this.Y)?this.CJ=!0:!1}v8(c){if(this.CJ)return"";if(333>=c-this.Qo&&!this.JC&&15>d.hg(this.BD,this.CD,this.da,this.Y)){if(666>=
c-f&&25>d.hg(b,a,this.da,this.Y))return a=b=-1E3,f=-1E4,"double-tap";b=this.da;a=this.Y;f=c;return"single-tap"}return""}$r(c,e,h){return"undefined"===typeof e?c.nv(0).oN(this.da,this.Y)[h?0:1]:(c=c.qa(e))?c.Ti(this.da,this.Y)[h?0:1]:0}}}{"use strict";const d=self.D;d.m.Nb=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.m.Nb.Ke=class extends d.Yl{constructor(b){super(b)}A(){super.A()}cc(){}}}
{"use strict";const d=self.D;d.m.Nb.Instance=class extends d.Pn{constructor(b){super(b);this.rb=this.Bg="";this.nx=[];this.YU="";this.Zq=this.Yq=0;this.Lg=this.j.BS()}A(){super.A()}async eo(b){this.YU=this.eba(b);await this.jb(d.m.Nb.G.f5)}eba(b){return b?"string"===typeof b?b:"string"===typeof b.message?b.message:"string"===typeof b.name?b.name:"string"===typeof b.data?b.data:"unknown error":"unknown error"}}}
{"use strict";const d=self.D;d.m.Nb.G={FP(b){return this.Bg===b},wP(){return!0},DP(b){return this.Bg===b},vP(){return!0},o5(b){return this.Bg===b},S4(){return!0},W4(){return!0},O4(){return!0},f5(){return!0},CP(b){return this.Bg===b},EP(b){return this.Bg===b},ima(b,a){return d.compare(this.Bg,b,a)},uma(b,a){return d.compare(this.rb,b,a)},ypa(){return 0<this.Zq},K3(){return 0<this.Yq},uP(){return!0},tP(){return!0}}}
{"use strict";const d=self.D;function b(a){return"string"===typeof a||"number"===typeof a}d.m.Nb.oa={async D7(a,f){this.Zq++;try{const c=await this.Lg.setItem(a,f);await this.Ck(async()=>{this.Bg=a;this.rb=c;await this.jb(d.m.Nb.G.wP);await this.jb(d.m.Nb.G.FP)})}catch(c){await this.eo(c)}finally{this.Zq--,0===this.Zq&&await this.jb(d.m.Nb.G.uP)}},async rta(a,f){if(f&&(f=f.Vg(this.I))&&(f=f.ra)){f=f.Tna();this.Zq++;try{await this.Lg.setItem(a,f),await this.Ck(async()=>{this.Bg=a;this.rb="";await this.jb(d.m.Nb.G.wP);
await this.jb(d.m.Nb.G.FP)})}catch(c){await this.eo(c)}finally{this.Zq--,0===this.Zq&&await this.jb(d.m.Nb.G.uP)}}},async Zna(a){this.Yq++;try{const f=await this.Lg.getItem(a);await this.Ck(async()=>{this.Bg=a;this.rb=b(f)?f:"";await this.jb(d.m.Nb.G.vP);await this.jb(d.m.Nb.G.DP)})}catch(f){await this.eo(f)}finally{this.Yq--,0===this.Yq&&await this.jb(d.m.Nb.G.tP)}},async Vna(a,f){if(f&&(f=f.Vg(this.I))){var c=f.ra;this.Yq++;try{let e=await this.Lg.getItem(a);e=e instanceof ArrayBuffer?e:new ArrayBuffer(0);
await this.Ck(async()=>{this.rb="";this.Bg=a;c.pta(e);await this.jb(d.m.Nb.G.vP);await this.jb(d.m.Nb.G.DP)})}catch(e){await this.eo(e)}finally{this.Yq--,0===this.Yq&&await this.jb(d.m.Nb.G.tP)}}},async tZ(a){try{const f=await this.Lg.getItem(a);await this.Ck(async()=>{this.Bg=a;"undefined"===typeof f||null===f?(this.rb="",await this.jb(d.m.Nb.G.EP)):(this.rb=b(f)?f:"",await this.jb(d.m.Nb.G.CP))})}catch(f){await this.eo(f)}},async Wra(a){try{await this.Lg.removeItem(a),await this.Ck(async()=>{this.Bg=
a;this.rb="";await this.jb(d.m.Nb.G.S4);await this.jb(d.m.Nb.G.o5)})}catch(f){await this.eo(f)}},async Ula(){try{await this.Lg.clear(),await this.Ck(async()=>{this.rb=this.Bg="";d.H(this.nx);await this.jb(d.m.Nb.G.W4)})}catch(a){await this.eo(a)}},async Sna(){try{const a=await this.Lg.keys();await this.Ck(async()=>{this.nx=a;await this.jb(d.m.Nb.G.O4)})}catch(a){await this.eo(a)}}}}"use strict";
self.D.m.Nb.Sa={W3(){return this.rb},Fpa(){return this.Bg},Hpa(){return this.nx.length},Gpa(d){d=Math.floor(d);return 0>d||d>=this.nx.length?"":this.nx[d]},pna(){return this.YU}};{"use strict";const d=self.D;d.m.pf=class extends d.kj{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D;d.m.pf.Ke=class extends d.Yl{constructor(b){super(b);this.Eb=d.F(self.C8)}A(){super.A()}cc(){this.kd().lA(this.j)}Np(b){return this.kd().In(b,{Og:this.j.gd})}Nn(){this.kd().fh()}e9(b,a,f,c){const e=this.kd(),h=this.Eb;h.Je(e.T());h.Uf(e.U());h.zA(b);h.DG(a);h.EG(f);h.OG(c);h.oR()}}}
{"use strict";const d=self.D,b=self.Pg,a=["left","center","right"],f=["top","center","bottom"];d.m.pf.Instance=class extends d.vA{constructor(h,g){super(h);this.pc="";this.po=!0;this.zg=this.rf=16;this.lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";h="";this.Dj=1;this.me=this.ve=this.Cc=this.Ej=0;this.dn=!0;this.Ae=null;this.ml=this.ou=-1;this.jy=0;g&&(this.pc=g[0],this.po=g[1],this.rf=g[2],this.zg=g[3],this.lo=g[4],h=g[5],this.Dj=
g[6],this.Ej=g[7],this.Cc=g[8],this.ve=g[9],this.me=g[10],this.dn=0===g[11],this.C().he(g[12]));this.mb.e9(this.rf,this.zg,this.lo,h);this.Ae=d.F(self.E8,this.mb.Eb);g=this.C();this.Ae.sc(g.T(),g.U());this.ph()}A(){this.Zn();this.Ae.A();this.Ae=null;super.A()}ph(){const h=this.Ae;h&&(h.xQ(this.po),h.Ds(this.pc),h.aR(this.dn?"word":"character"),h.v7(a[this.ve]),h.n8(f[this.me]),h.VQ(this.Ej),h.FA(this.Cc))}Fe(h){const g=this.R.kd();var l=g.Ud();if(l){h.wg(l);l=this.C();var n=l.$i(),p=this.Ae;p.Vn(this.Dj);
p.S7(l.sO());this.j.$k&&(n=l.Bv(n));p.sc(l.T(),l.U());p.Eb.W7(g.Xh());p.Dk(l.Db);p.Fe(h,n.jc,n.kc,l.pa())}}Ac(){const h={t:this.pc,ebbc:this.po,csc:this.Dj,csp:this.Ej,lh:this.Cc,ha:this.ve,va:this.me,w:this.dn,cw:this.mb.Eb.rf,ch:this.mb.Eb.zg,cs:this.mb.Eb.lo,sd:this.mb.Eb.fu};-1!==this.ml&&(h.tw={st:this.ou,en:this.ml,l:this.jy});return h}rc(h){this.Zn();this.pc=h.t;this.po=h.ebbc;this.Dj=h.csc;this.Ej=h.csp;this.Cc=h.lh;this.ve=h.ha;this.me=h.va;this.dn=h.w;if(h.hasOwnProperty("tw")){var g=h.tw;
this.ou=g.st;this.ml=g.en;this.jy=h.l}g=this.mb.Eb;g.zA(h.cw);g.DG(h.ch);g.EG(h.cs);g.OG(h.sd);this.ph();-1!==this.ml&&this.te()}$b(h){switch(h){case 0:return this.pc;case 1:return this.po;case 2:return this.mb.Eb.rf;case 3:return this.mb.Eb.zg;case 4:return this.mb.Eb.lo;case 5:return this.mb.Eb.fu;case 6:return this.Dj;case 7:return this.Ej;case 8:return this.Cc;case 9:return this.ve;case 10:return this.me;case 11:return this.dn?1:0}}Ie(h,g){switch(h){case 0:if(this.pc===g)break;this.pc=g;this.ph();
break;case 1:if(this.po===!!g)break;this.po=!!g;this.ph();break;case 2:this.mb.Eb.zA(g);break;case 3:this.mb.Eb.DG(g);break;case 4:this.mb.Eb.EG(g);break;case 5:this.mb.Eb.OG(g);break;case 6:if(this.Dj===g)break;this.Dj=g;this.ph();break;case 7:if(this.Ej===g)break;this.Ej=g;this.ph();break;case 8:if(this.Cc===g)break;this.Cc=g;this.ph();break;case 9:if(this.ve===g)break;this.ve=g;this.ph();break;case 10:if(this.me===g)break;this.me=g;this.ph();break;case 11:this.dn!==(0===g)&&(this.dn=0===g,this.ph())}}nB(h){this.pc!==
h&&(this.pc=h,this.Ae.Ds(h),this.j.aa())}Ffa(h,g){this.nB(h);this.ou=this.j.FF();this.ml=this.ou+g/this.Oa().H0();this.jy=d.Al.fR(h).length;this.Ae.CA(0);this.te()}Zn(){this.ml=this.ou=-1;this.jy=0;this.Ae.CA(-1);this.im()}Kaa(){-1!==this.ml&&(this.Zn(),this.la(d.m.pf.G.TP),this.j.aa())}qfa(h){this.Dj!==h&&(this.Dj=h,this.Ae.Vn(this.Dj),this.j.aa())}Pea(h){this.Ej!==h&&(this.Ej=h,this.Ae.VQ(this.Ej),this.j.aa())}ZT(h){this.Cc!==h&&(this.Cc=h,this.Ae.FA(this.Cc),this.j.aa())}$ea(h){this.ve!==h&&(this.ve=
h,this.ph(),this.j.aa())}gU(h){this.me!==h&&(this.me=h,this.ph(),this.j.aa())}zfa(h){h=!!h;this.dn!==h&&(this.dn=h,this.ph(),this.j.aa())}Ad(){var h=this.j.FF();h>=this.ml?(this.Zn(),this.la(d.m.pf.G.TP),this.j.aa()):(h=d.mja(this.ou,this.ml,h,this.jy),h=Math.floor(h),h!==this.Ae.vh&&(this.Ae.CA(h),this.j.aa()))}Pf(){return self.C2}};const c=new WeakMap,e=new Map([["top",0],["center",1],["bottom",2]]);self.C2=class extends self.wv{constructor(){super();c.set(this,self.es.em().ra)}get text(){return c.get(this).pc}set text(h){b.jf(h);
const g=c.get(this);g.Zn();g.nB(h)}set lineHeight(h){b.gh(h);c.get(this).ZT(h)}get lineHeight(){return c.get(this).Cc}set verticalAlign(h){b.jf(h);h=e.get(h);if("undefined"===typeof h)throw Error("invalid mode");c.get(this).gU(h)}get verticalAlign(){return f[c.get(this).me]}}}{"use strict";const d=self.D;d.m.pf.G={qma(b,a){return a?this.pc===b:d.Nh(this.pc,b)},zpa(){return-1!==this.ml},TP(){return!0}}}"use strict";
self.D.m.pf.oa={Ds(d){this.Zn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.nB(d.toString())},Oka(d){this.Zn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.nB(this.pc+d)},Uva(d,b){this.Zn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Ffa(d.toString(),b)},Tva(){this.Kaa()},Vn(d){this.qfa(d)},yta(d){this.Pea(d)},FA(d){this.ZT(d)},zA(d,b){let a=!1;const f=this.mb.Eb;for(const c of d)if(" "===c)f.T7(b),a=!0;else if(d=f.wz(c))d.FQ(b),
a=!0;a&&f.c7();this.j.aa()},GQ(d){this.C().Sf(d);this.j.aa()},Qta(d){this.$ea(d)},Hua(d){this.gU(d)},Kua(d){this.zfa(0===d)}};{"use strict";const d=self.D;d.m.pf.Sa={Sla(b){return(b=this.mb.Eb.wz(b))?b.gF():this.mb.Eb.rf},Pla(){return this.zg},Qla(){return this.Dj},Rla(){return this.Ej},Opa(){return this.Cc},Text(){return this.pc},jra(){return this.po?d.Al.fR(this.pc):this.pc},qva(){const b=this.C();this.Ae.sc(b.T(),b.U());return this.Ae.DO()},pva(){const b=this.C();this.Ae.sc(b.T(),b.U());return this.Ae.CO()}}}
{"use strict";const d=self.D;self.D8=class{constructor(b,a,f,c){a=b.rf;let e=b.zg;this.Eb=b;this.DW=new d.Rect(f,c,f+a,c+e);this.il=new d.Rect;this.eJ=-1;this.yU()}A(){this.il=this.DW=this.Eb=null}yU(){let b=this.Eb.T(),a=this.Eb.U();this.il.Ka(this.DW);this.il.wl(b,a);this.il.Pia(this.Eb.Xh())}Xh(){return this.il}FQ(b){this.eJ=b}gF(){return 0>this.eJ?this.Eb.rf:this.eJ}}}
{"use strict";const d=self.D,b=new d.Rect,a=new d.yd,f=new d.pb,c=new Set(["left","center","right"]),e=new Set(["top","center","bottom"]),h=new Set(["word","character"]);self.E8=class{constructor(g){this.Eb=g;this.tm=this.tf=0;this.pc="";this.Qe=!1;this.yj=null;this.Gf=d.F(d.Wv);this.Cr="word";this.RL=!1;this.ve="left";this.me="top";this.Qx=this.hc=1;this.Cc=this.lr=0;this.Db=d.F(d.pb);this.vh=-1;this.uh=0;this.Bx=(l,n)=>this.jw(l,n);this.Eb.M9(this)}A(){this.Eb.Xda(this);this.Bx=this.Db=null;this.Gf.Tc();
this.yj=this.Eb=this.Gf=null}jw(g,l){var n=this.nd(l,"scale"),p=(n?parseFloat(n.Pd):this.hc)*this.Qx;n=this.nd(l,"scalex");n=(n?parseFloat(n.Pd):1)*p;l=this.nd(l,"scaley");l=this.Eb.zg*(l?parseFloat(l.Pd):1)*p+this.Cc;const q=this.Eb;p=q.rf*n;const r=this.lr;if(q.yt){let w=0,v=0;for(var x of g){g=p;const t=q.wz(x);t?g=t.gF()*n:" "===x&&(g=q.AO()*n);v+=g;++w}return{width:v+w*r,height:l}}x=[...g].length;return{width:p*x+Math.max(x,0)*r,height:l}}Lk(){this.RL=!0;this.Gf.Tc()}sc(g,l){0>=g||0>=l||this.tf===
g&&this.tm===l||(this.tf!==g&&this.Lk(),this.tf=g,this.tm=l)}CA(g){this.vh=Math.floor(g)}nd(g,l){for(let n=g.length-1;0<=n;--n){const p=g[n];if(p.tag===l)return p}return null}$n(g,l){return!!this.nd(g,l)}$p(){if(this.RL){!this.Qe||this.yj&&this.yj.toString()===this.pc||(this.yj=new d.Al(this.pc,{YX:!0}));var g=-this.lr;this.Gf.Wv(this.Qe?this.yj.pY():this.pc,this.Bx,this.tf,this.Cr,g);this.RL=!1}}Fe(g,l,n,p){this.$p();let q=this.uh=0;const r=this.Cc,x=d.VD(this.Gf.dl),w=Math.sin(p);p=Math.cos(p);
var v=x.reduce((t,A)=>t+A.height,0)-r;"center"===this.me?q=Math.max(Math.floor(this.tm/2-v/2),0):"bottom"===this.me&&(q=Math.floor(this.tm-v));for(let t=0,A=x.length;t<A;++t){v=x[t];const y=v.height;if(0<t&&q>this.tm-(y-r))break;0<=q&&this.yaa(g,v,l,n,q,w,p);q+=y}}yaa(g,l,n,p,q,r,x){const w=l.height;let v=0;"center"===this.ve?v=Math.max(Math.floor((this.tf-l.width)/2),0):"right"===this.ve&&(v=Math.max(Math.floor(this.tf-l.width),0));for(const t of l.cM)this.qaa(g,t,n,p,v,q,r,x,w),v+=t.width}qaa(g,
l,n,p,q,r,x,w,v){var t=l.text,A=l.width,y=l.vd;if(-1!==this.vh){if(this.uh>=this.vh)return;this.uh+t.length>this.vh&&(t=t.substr(0,this.vh-this.uh),A=this.jw(t,y).width);this.uh+=t.length}var E=this.nd(y,"background");if(!(d.fA(t)&&!E||this.$n(y,"hide"))){l=this.nd(y,"scale");var F=(l?parseFloat(l.Pd):this.hc)*this.Qx;l=this.nd(y,"scalex");l=(l?parseFloat(l.Pd):1)*F;var H=this.nd(y,"scaley");F*=this.Eb.zg*(H?parseFloat(H.Pd):1);r+=v-this.Cc-F;v=this.nd(y,"offsetx");q+=v?parseFloat(v.Pd):0;v=this.nd(y,
"offsety");r+=v?parseFloat(v.Pd):0;E&&(g.FG(),f.cY(E.Pd),f.Oh(1),g.Dk(f),b.set(q,r,q+A,r+F),b.ca>this.tf&&b.tja(this.tf),a.nE(b,x,w),a.offset(n,p),g.yd(a),g.ci());(A=this.nd(y,"color"))?(f.cY(A.Pd),f.Oh(this.Db.fb)):f.Ka(this.Db);(A=this.nd(y,"opacity"))&&f.Oh(f.fb*parseFloat(A.Pd)/100);f.kE();g.Dk(f);A=this.Eb.rf*l;y=Math.abs(this.lr);for(const J of t)if(t=this.Eb.wz(J)){E=t.gF()*l;if(q+E>this.tf+y+1E-5)break;b.set(q,r,q+A,r+F);a.nE(b,x,w);a.offset(n,p);g.Ln(a,t.Xh());q+=E+this.lr}else q+=this.Eb.AO()*
l+this.lr}}xQ(g){g=!!g;this.Qe!==g&&(this.Qe=g,this.Lk())}Ds(g){this.pc!==g&&(this.pc=g,this.Lk())}aR(g){if(!h.has(g))throw Error("invalid word wrap mode");this.Cr!==g&&(this.Cr=g,this.Lk())}v7(g){if(!c.has(g))throw Error("invalid alignment");this.ve=g}n8(g){if(!e.has(g))throw Error("invalid alignment");this.me=g}Vn(g){this.hc!==g&&(this.hc=g,this.Lk())}S7(g){this.Qx!==g&&(this.Qx=g,this.Lk())}sO(){return this.Qx}VQ(g){this.lr!==g&&(this.lr=g,this.Lk())}FA(g){this.Cc=g;this.Lk()}kf(g){g=d.fa(g,0,
1);this.Db.bp=g}Dk(g){this.Db.jd(g)||this.Db.Ka(g)}DO(){this.$p();return this.Gf.jO()}CO(){this.$p();const g=this.Cc;return this.Gf.dl.length*(this.Eb.zg*this.hc+g)-g}}}
{"use strict";const d=self.D,b={width:256,height:256,DX:16,CX:16,characterSet:""};self.C8=class{constructor(a){a=Object.assign({},b,a);if(0>=a.width||0>=a.height||0>=a.DX||0>=a.CX)throw Error("invalid size");this.Z=a.width;this.W=a.height;this.rf=a.DX;this.zg=a.CX;this.lo=a.characterSet;this.fu="";this.Wx=null;this.yt=!1;this.kr=-1;this.il=new d.Rect(0,0,1,1);this.pq=new Map;this.Eo=!0;this.kq=new Set}A(){this.il=null;this.sT();this.pq=null;this.kq&&this.kq.clear();this.kq=null}sT(){for(let a of this.pq.values())a.A();
this.pq.clear()}M9(a){this.kq.add(a)}Xda(a){this.kq.delete(a)}oR(){if(this.Eo){this.sT();var a=[...this.lo],f=Math.floor(this.Z/this.rf),c=f*Math.floor(this.W/this.zg);for(let e=0,h=a.length;e<h&&!(e>=c);++e){let g=a[e];this.pq.set(g,d.F(self.D8,this,g,e%f*this.rf,Math.floor(e/f)*this.zg))}this.yt=!1;this.kr=-1;if(Array.isArray(this.Wx))for(let e of this.Wx)if(Array.isArray(e)&&2===e.length&&(a=e[0],f=e[1],"number"===typeof a&&isFinite(a)&&"string"===typeof f&&a!==this.rf))for(let h of f)(f=this.pq.get(h))?
(f.FQ(a),this.yt=!0):" "===h&&(this.kr=a,this.yt=!0);this.Eo=!1;for(let e of this.kq)e.Lk()}}c7(){this.yt=!0;for(const a of this.kq)a.Lk()}wz(a){this.oR();return this.pq.get(a)||null}Je(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.Z!==a&&(this.Z=a,this.Eo=!0)}T(){return this.Z}Uf(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.W!==a&&(this.W=a,this.Eo=!0)}U(){return this.W}W7(a){if(!this.il.jd(a)){this.il.Ka(a);for(const f of this.pq.values())f.yU()}}Xh(){return this.il}zA(a){a=
Math.floor(a);if(0>=a)throw Error("invalid size");this.rf!==a&&(this.rf=a,this.Eo=!0)}DG(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.zg!==a&&(this.zg=a,this.Eo=!0)}EG(a){this.lo!==a&&(this.lo=a,this.Eo=!0)}OG(a){if(this.fu!==a&&(this.fu=a,this.Eo=!0,this.Wx=null,this.fu.length))try{this.Wx=JSON.parse(this.fu)}catch(f){this.Wx=null}}T7(a){0>a&&(a=-1);this.kr!==a&&(this.kr=a,0<=this.kr&&(this.yt=!0))}AO(){return 0>this.kr?this.rf:this.kr}}}{"use strict";const d=self.D;d.N.Yi=class extends d.ts{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.D;d.N.Yi.Ke=class extends d.vs{constructor(b){super(b)}A(){super.A()}cc(){}}}
{"use strict";const d=self.D;d.N.Yi.Instance=class extends d.us{constructor(b,a){super(b);this.xm=this.ol=this.Sk=0;this.uB=this.lt=!0;this.TW=!1;this.Dd=0;this.gl=d.F(d.ms);this.Fo=this.I.C().Rd()||1;a&&(this.Sk=a[0],this.ol=a[1],this.xm=a[2],this.lt=!!a[3],this.Dd=(this.uB=!!a[4])?0:3);this.uB&&(0===this.Sk?(this.Dd=1,0===this.ol&&(this.Dd=2)):(this.I.C().kf(0),this.j.aa()));this.te()}A(){super.A()}Ac(){return{fit:this.Sk,wt:this.ol,fot:this.xm,d:this.lt,s:this.Dd,st:this.gl.ia(),mo:this.Fo}}rc(b){this.Sk=
b.fit;this.ol=b.wt;this.xm=b.fot;this.lt=b.d;this.Dd=b.s;this.gl.Set(b.st);this.Fo=b.mo}Ad(){this.gl.wc(this.j.Uh(this.I));const b=this.I.C();0===this.Dd&&(b.kf(this.gl.ia()/this.Sk*this.Fo),this.j.aa(),b.Rd()>=this.Fo&&(b.kf(this.Fo),this.Dd=1,this.gl.Vc(),this.la(d.N.Yi.G.h5)));1===this.Dd&&this.gl.ia()>=this.ol&&(this.Dd=2,this.gl.Vc(),this.la(d.N.Yi.G.M5));2===this.Dd&&0!==this.xm&&(b.kf(this.Fo-this.gl.ia()/this.xm*this.Fo),this.j.aa(),0>=b.Rd()&&(this.Dd=3,this.gl.Vc(),this.la(d.N.Yi.G.i5),
this.lt&&this.j.tn(this.I)))}Wn(){this.Dd=0;this.gl.Vc();0===this.Sk?(this.Dd=1,0===this.ol&&(this.Dd=2)):(this.I.C().kf(0),this.j.aa())}$b(b){switch(b){case 0:return this.Sk;case 1:return this.ol;case 2:return this.xm;case 3:return this.lt}}Ie(b,a){switch(b){case 0:this.Sk=a;break;case 1:this.ol=a;break;case 2:this.xm=a;break;case 3:this.lt=!!a}}}}"use strict";self.D.N.Yi.G={i5(){return!0},h5(){return!0},M5(){return!0}};"use strict";
self.D.N.Yi.oa={G8(){this.uB||this.TW||(this.Fo=this.I.C().Rd()||1,this.TW=!0);3===this.Dd&&this.Wn()},Osa(){this.Wn()},Kta(d){0>d&&(d=0);this.Sk=d},Iua(d){0>d&&(d=0);this.ol=d},Lta(d){0>d&&(d=0);this.xm=d}};"use strict";self.D.N.Yi.Sa={vna(){return this.Sk},pwa(){return this.ol},wna(){return this.xm}};{"use strict";const d=self.D;d.N.Sg=class extends d.ts{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.N.Sg.Ke=class extends d.vs{constructor(b){super(b)}A(){super.A()}cc(){}}}
{"use strict";const d=self.D;d.N.Sg.Instance=class extends d.us{constructor(b){super(b);this.kl=this.hl=this.Dd=this.dD=this.eD=0;this.te()}A(){super.A()}Ac(){return{on:this.eD,off:this.dD,s:this.Dd,stl:this.hl,tl:this.kl}}rc(b){this.eD=b.on;this.dD=b.off;this.Dd=b.s;this.hl=b.stl;this.kl=null===b.tl?Infinity:b.tl}Ad(){if(!(0>=this.kl)){var b=this.j.Uh(this.I);this.kl-=b;if(0>=this.kl)return this.kl=0,this.I.C().he(!0),this.j.aa(),this.Tu(d.N.Sg.G.BP);this.hl-=b;0>=this.hl&&(0===this.Dd?(this.I.C().he(!1),
this.Dd=1,this.hl+=this.dD):(this.I.C().he(!0),this.Dd=0,this.hl+=this.eD),this.j.aa())}}}}"use strict";self.D.N.Sg.G={D3(){return 0<this.kl},BP(){return!0}};"use strict";self.D.N.Sg.oa={Sg(d,b,a){this.eD=d;this.dD=b;this.Dd=1;this.hl=b;this.kl=a;this.I.C().he(!1);this.j.aa()},ava(){this.kl=0;this.I.C().he(!0);this.j.aa()}};"use strict";self.D.N.Sg.Sa={};{"use strict";const d=self.D;d.N.ik=class extends d.ts{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.N.ik.Ke=class extends d.vs{constructor(b){super(b)}A(){super.A()}cc(){}}}
{"use strict";const d=self.D,b=self.Pg,a=self.Xz;d.N.ik.Instance=class extends d.us{constructor(c,e){super(c);c=this.C();this.Qa=this.qh=this.Xx=0;this.wo=this.fl=this.Bj=!1;this.V=!0;this.Ib=this.Pb=0;this.al=c.O();this.bl=c.P();this.Yj=c.pa();this.ur=0;this.ED=Math.min(Math.abs(c.T()),Math.abs(c.U())/2);this.tL=!1;e&&(this.Xx=e[0],this.qh=e[1],this.Qa=e[2],this.Bj=!!e[3],this.fl=!!e[4],this.wo=!!e[5],this.V=!!e[6]);e=c.pa();this.Pb=Math.cos(e)*this.Xx;this.Ib=Math.sin(e)*this.Xx;this.V&&(this.te(),
this.Bj&&this.kI())}A(){super.A()}Ac(){const c={dx:this.Pb,dy:this.Ib,lx:this.al,ly:this.bl,lka:this.Yj,t:this.ur};0!==this.qh&&(c.acc=this.qh);0!==this.Qa&&(c.g=this.Qa);this.wo&&(c.st=this.wo);this.V||(c.e=this.V);this.Bj&&(c.bos=this.Bj);this.fl&&(c.sa=this.fl);return c}rc(c){this.Pb=c.dx;this.Ib=c.dy;this.al=c.lx;this.bl=c.ly;this.Yj=c.lka;this.ur=c.t;this.qh=c.hasOwnProperty("acc")?c.acc:0;this.Qa=c.hasOwnProperty("g")?c.g:0;this.wo=c.hasOwnProperty("st")?c.st:!1;this.Bj=c.hasOwnProperty("bos")?
c.bos:!1;this.fl=c.hasOwnProperty("sa")?c.sa:!1;this.oh(c.hasOwnProperty("e")?c.e:!0)}Ad(){if(this.V){var c=this.j.Uh(this.I),e=this.I.C();if(e.pa()!==this.Yj){var h=e.pa();if(this.fl){var g=d.hg(0,0,this.Pb,this.Ib);this.Pb=Math.cos(h)*g;this.Ib=Math.sin(h)*g}this.Yj=h}h=g=0;if(0!==this.qh){let l=d.hg(0,0,this.Pb,this.Ib),n;n=0===this.Pb&&0===this.Ib?e.pa():d.Hf(0,0,this.Pb,this.Ib);l+=this.qh*c;g=Math.cos(n)*this.qh;h=Math.sin(n)*this.qh;0>l&&(h=g=l=0);this.Pb=Math.cos(n)*l;this.Ib=Math.sin(n)*
l}0!==this.Qa&&(this.Ib+=this.Qa*c,h+=this.Qa);this.al=e.O();this.bl=e.P();if(0!==this.Pb||0!==this.Ib)g=this.Pb*c+.5*g*c*c,c=this.Ib*c+.5*h*c*c,h=d.hg(0,0,g,c),this.Hca(g,c,h),this.ur+=h,!this.fl||0===g&&0===c||(e.lc(d.Hf(0,0,g,c)),this.Yj=e.pa()),e.Aa()}}Hca(c,e,h){const g=this.C();if(!this.wo||h<=this.ED)g.Ul(c,e),g.Aa(),this.wo&&this.la(d.N.ik.G.kG);else{this.tL=!1;var l=g.O(),n=g.P(),p=l+c,q=n+e;e=d.Hf(0,0,c,e);c=Math.cos(e)*this.ED;e=Math.sin(e)*this.ED;h=Math.floor(h/this.ED);for(let r=1;r<=
h;++r)if(g.zd(l+c*r,n+e*r),g.Aa(),this.la(d.N.ik.G.kG),this.I.UF()||this.tL)return;g.zd(p,q);g.Aa();this.la(d.N.ik.G.kG)}}mG(){if(this.V&&this.Bj&&(0!==this.Pb||0!==this.Ib)){var c=this.j.Uh(this.I),e=this.I.C(),h=this.j.sf,g=h.Xn(this.I);if(g){h.cQ(this.I,g);g=d.hg(0,0,this.Pb,this.Ib);const l=h.jN(this.I,this.al,this.bl);this.Pb=Math.cos(l)*g;this.Ib=Math.sin(l)*g;e.Ul(this.Pb*c,this.Ib*c);e.Aa();this.fl&&(e.lc(l),this.Yj=e.pa(),e.Aa());h.ZP(this.I,this.Pb/g,this.Ib/g,Math.max(2.5*g*c,30))||h.$P(this.I)}}}$b(c){switch(c){case 0:return this.GH();
case 1:return this.qh;case 2:return this.Qa;case 4:return this.fl;case 5:return this.wo;case 6:return this.V}}Ie(c,e){switch(c){case 0:this.hI(e);break;case 1:this.qh=e;break;case 2:this.Qa=e;break;case 4:this.fl=!!e;break;case 5:this.wo=!!e;break;case 6:this.oh(!!e)}}hI(c){const e=d.Hf(0,0,this.Pb,this.Ib);this.Pb=Math.cos(e)*c;this.Ib=Math.sin(e)*c}GH(){return d.LM(d.hg(0,0,this.Pb,this.Ib))}KT(c){this.qh=c}Zea(c){this.Qa=c}Gea(c){const e=d.hg(0,0,this.Pb,this.Ib);this.Pb=Math.cos(c)*e;this.Ib=
Math.sin(c)*e}Yaa(){return d.Hf(0,0,this.Pb,this.Ib)}Nea(c){c=!!c;this.Bj!==c&&(this.Bj=c,this.V&&(this.Bj?this.kI():this.lI()))}Uea(c){this.ur=c}oh(c){(this.V=!!c)?(this.te(),this.Bj&&this.kI()):(this.im(),this.lI())}Pf(){return self.t2}};const f=new WeakMap;self.t2=class extends a{constructor(){super();f.set(this,a.em().ra)}get speed(){return f.get(this).GH()}set speed(c){b.gh(c);f.get(this).hI(c)}get acceleration(){return f.get(this).qh}set acceleration(c){b.gh(c);f.get(this).KT(c)}get isEnabled(){return f.get(this).V}set isEnabled(c){f.get(this).oh(c)}}}
{"use strict";const d=self.D;d.N.ik.G={pma(b,a){return d.compare(Math.sqrt(this.Pb*this.Pb+this.Ib*this.Ib),b,a)},tma(b,a){return d.compare(this.ur,b,a)},kG(){return!0},sg(){return this.V}}}
{"use strict";const d=self.D;d.N.ik.oa={Fua(b){this.hI(b)},kta(b){this.KT(b)},JQ(b){this.Zea(b)},lta(b){this.Gea(d.Ba(b))},rla(b){if(b&&(b=b.Vg(this.I))){var a=this.I.C(),f=this.j.sf,c=this.j.Uh(this.I),e=d.hg(0,0,this.Pb,this.Ib),h=f.jN(this.I,this.al,this.bl,b);this.Pb=Math.cos(h)*e;this.Ib=Math.sin(h)*e;a.Ul(this.Pb*c,this.Ib*c);a.Aa();this.fl&&(a.lc(h),this.Yj=a.pa(),a.Aa());0!==e&&(this.Bj?f.ZP(this.I,this.Pb/e,this.Ib/e,Math.max(2.5*e*c,30))||f.$P(this.I):f.g6(this.I,this.Pb/e,this.Ib/e,Math.max(2.5*
e*c,30),b))}},uta(b){this.Nea(b)},Dta(b){this.Uea(b)},Iv(b){this.oh(b)},cva(){this.tL=!0}}}{"use strict";const d=self.D;d.N.ik.Sa={Uua(){return this.GH()},Xja(){return this.qh},Hka(){return d.Sc(this.Yaa())},ena(){return this.ur},foa(){return this.Qa}}}{"use strict";const d=self.D;d.N.Fs=class extends d.ts{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.D;d.N.Fs.Ke=class extends d.vs{constructor(b){super(b)}A(){super.A()}cc(){}}}
{"use strict";const d=self.D,b=self.Xz,a=2*Math.PI,f=Math.PI/2,c=3*Math.PI/2,e=[0,1,8,3,4,2,5,6,9,7];d.N.Fs.Instance=class extends d.us{constructor(g,l){super(g);this.Mc=this.Ue=this.$o=this.Gg=this.Lc=0;this.V=!0;this.pD=this.Jt=this.Yf=this.Fq=this.sb=this.uK=this.OK=this.PK=this.EB=this.FU=this.GB=0;l&&(this.Gg=e[l[0]],this.$o=l[1],this.PK=this.j.Xl()*l[3],this.GB=l[2],this.Ue=l[2],this.Ue+=this.PK,this.FU=l[4],0!==this.Ue&&(this.OK=this.j.Xl()*l[5],this.Lc=l[4]/this.Ue*a,this.Lc+=this.OK/this.Ue*
a),this.uK=this.j.Xl()*l[7],this.EB=l[6],this.Mc=l[6],this.Mc+=this.uK,this.V=!!l[8]);5===this.Gg&&(this.Mc=d.Ba(this.Mc));this.Zg();this.V&&this.te()}A(){super.A()}Ac(){return{i:this.Lc,e:this.V,mv:this.Gg,w:this.$o,p:this.Ue,mag:this.Mc,iv:this.sb,iv2:this.Fq,r:this.pD,lkv:this.Yf,lkv2:this.Jt}}rc(g){this.Lc=g.i;this.oh(g.e);this.Gg=g.mv;this.$o=g.w;this.Ue=g.p;this.Mc=g.mag;this.sb=g.iv;this.Fq=g.iv2;this.pD=g.r;this.Yf=g.lkv;this.Jt=g.lkv2}Zg(){const g=this.I.C();switch(this.Gg){case 0:this.sb=
g.O();break;case 1:this.sb=g.P();break;case 2:this.sb=g.T();this.pD=g.U()/g.T();break;case 3:this.sb=g.T();break;case 4:this.sb=g.U();break;case 5:this.sb=g.pa();break;case 6:this.sb=g.Rd();break;case 7:this.sb=0;break;case 8:this.sb=g.O();this.Fq=g.P();break;case 9:this.sb=g.qb()}this.Yf=this.sb;this.Jt=this.Fq}di(g){g%=a;switch(this.$o){case 0:return Math.sin(g);case 1:return g<=f?g/f:g<=c?1-2*(g-f)/Math.PI:(g-c)/f-1;case 2:return 2*g/a-1;case 3:return-2*g/a+1;case 4:return g<Math.PI?-1:1}return 0}Ad(){const g=
this.j.Uh(this.I);this.V&&0!==g&&(this.Lc=0===this.Ue?0:(this.Lc+g/this.Ue*a)%a,this.wU())}wU(){const g=this.I.C();switch(this.Gg){case 0:g.O()!==this.Yf&&(this.sb+=g.O()-this.Yf);g.Vf(this.sb+this.di(this.Lc)*this.Mc);this.Yf=g.O();break;case 1:g.P()!==this.Yf&&(this.sb+=g.P()-this.Yf);g.mf(this.sb+this.di(this.Lc)*this.Mc);this.Yf=g.P();break;case 2:g.Je(this.sb+this.di(this.Lc)*this.Mc);g.Uf(g.T()*this.pD);break;case 3:g.Je(this.sb+this.di(this.Lc)*this.Mc);break;case 4:g.Uf(this.sb+this.di(this.Lc)*
this.Mc);break;case 5:g.pa()!==this.Yf&&(this.sb=d.td(this.sb+(g.pa()-this.Yf)));g.lc(this.sb+this.di(this.Lc)*this.Mc);this.Yf=g.pa();break;case 6:g.kf(this.sb+this.di(this.Lc)*this.Mc/100);break;case 8:g.O()!==this.Yf&&(this.sb+=g.O()-this.Yf);g.P()!==this.Jt&&(this.Fq+=g.P()-this.Jt);g.Vf(this.sb+Math.cos(g.pa())*this.di(this.Lc)*this.Mc);g.mf(this.Fq+Math.sin(g.pa())*this.di(this.Lc)*this.Mc);this.Yf=g.O();this.Jt=g.P();break;case 9:g.nf(this.sb+this.di(this.Lc)*this.Mc)}g.Aa()}nfa(g){this.Ue=
g}ifa(g){this.Mc=g}jfa(g){5===this.Gg&&(g=d.Ba(g));this.ifa(g)}EH(){let g=this.Mc;5===this.Gg&&(g=d.Sc(g));return g}mfa(g){5===this.Gg&&5!==g&&(this.Mc=d.Sc(this.Mc));this.Gg=g;this.Zg()}ofa(g){this.Lc=d.fa(g,0,2*Math.PI);this.wU()}oh(g){(this.V=!!g)?this.te():this.im()}$b(g){switch(g){case 0:return this.Gg;case 1:return this.$o;case 2:return this.GB;case 6:return this.EB;case 8:return this.V}}Ie(g,l){switch(g){case 0:this.Gg=e[l];this.Zg();break;case 1:this.$o=l;break;case 2:this.GB=l;this.Ue=this.GB+
this.PK;this.V||(0!==this.Ue?(this.Lc=this.FU/this.Ue*a,this.Lc+=this.OK/this.Ue*a):this.Lc=0);break;case 6:this.EB=l;this.Mc=this.EB+this.uK;5===this.Gg&&(this.Mc=d.Ba(this.Mc));break;case 8:this.V=!!l}}Pf(){return self.B2}};const h=new WeakMap;self.B2=class extends b{constructor(){super();h.set(this,b.em().ra)}get value(){const g=h.get(this);return g.di(g.Lc)*g.Mc}set isEnabled(g){h.get(this).oh(!!g)}get isEnabled(){return h.get(this).V}}}
{"use strict";const d=self.D;d.N.Fs.G={sg(){return this.V},lma(b){return this.Gg===b},oma(b,a){return d.compare(this.Ue,b,a)},jma(b,a){return d.compare(this.EH(),b,a)},xma(b){return this.$o===b}}}"use strict";self.D.N.Fs.oa={Iv(d){this.oh(0!==d)},Aua(d){this.nfa(d)},sua(d){this.jfa(d)},wua(d){this.mfa(d)},Jua(d){this.$o=d},Bua(d){const b=2*Math.PI;this.ofa(d*b%b)},ewa(){this.Zg()}};"use strict";
self.D.N.Fs.Sa={Yma(){return this.Lc/(2*Math.PI)},Qqa(){return this.Ue},Ypa(){return this.EH()},hwa(){return this.di(this.Lc)*this.EH()}};
{"use strict";const d=self.D;let b=null,a=null,f=[],c=null;function e(h,g,l){var n=h.Of();const p=g.Of();l?((n=n.get("Physics_DisabledCollisions"))&&n.delete(g.gb),(g=p.get("Physics_DisabledCollisions"))&&g.delete(h.gb)):(l=n.get("Physics_DisabledCollisions"),l||(l=new Set,n.set("Physics_DisabledCollisions",l)),n=p.get("Physics_DisabledCollisions"),n||(n=new Set,p.set("Physics_DisabledCollisions",n)),l.add(g.gb),n.add(h.gb))}d.N.bb=class extends d.ts{constructor(h){h.rja=self.y2;super(h);this.Ye=
null;this.QL=10;this.vc=.02;this.uX=null;this.WV=-1;this.cX=1;this.rX=8;this.xW=3;this.AU=!0;this.j.AE(this.aca())}async aca(){const h=await this.j.Ab.Kz("box2d.wasm");await new Promise(g=>{self.Box2DWasmModule({wasmBinaryFile:h}).then(l=>{c=l;this.Cba();g()})})}Cba(){const h=this.j.sf;b=d.N.bb.Ep(0,0);a=d.N.bb.Ep(0,0);this.Ye=new c.b2World(d.N.bb.EF(0,this.QL),!0);var g=new c.JSContactListener;g.BeginContact=l=>{var n=c.wrapPointer(l,c.b2Contact);l=d.N.bb.Instance.nA(n.GetFixtureA().GetBody());n=
d.N.bb.Instance.nA(n.GetFixtureB().GetBody());h.cQ(l.I,n.I)};g.EndContact=()=>{};g.PreSolve=()=>{};g.PostSolve=()=>{};this.Ye.SetContactListener(g);g=new c.JSContactFilter;g.ShouldCollide=(l,n)=>{if(this.AU)return!0;l=c.wrapPointer(l,c.b2Fixture);n=c.wrapPointer(n,c.b2Fixture);l=d.N.bb.Instance.nA(l.GetBody());n=d.N.bb.Instance.nA(n.GetBody());l=l.I.L();const p=n.I.L();n=l.gb;const q=p.gb;return(l=l.Of().get("Physics_DisabledCollisions"))&&l.has(q)?!1:(l=p.Of().get("Physics_DisabledCollisions"))&&
l.has(n)?!1:!0};this.Ye.SetContactFilter(g);this.uX=new c.b2WorldManifold}A(){super.A()}P0(){return c}WQ(h){this.cX=h}E7(h){this.WV=h}m8(h){this.rX=Math.max(h,1)}P7(h){this.xW=Math.max(h,1)}OQ(h,g){this.m8(h);this.P7(g)}JQ(h){h!==this.QL&&(this.Ye.SetGravity(d.N.bb.EF(0,h)),this.QL=h,this.aga())}aga(){for(const g of this.ua()){var h=d.N.bb.Instance.Tl(g);h&&(h=h.Ha)&&h.SetAwake(!0)}}l_(){this.AU=!1}d7(h,g,l){l=!!l;if(h&&g){if(g.hb)for(const n of g.qo)e(h,n,l);else e(h,g,l);this.l_()}}static Ep(h,
g){if(f.length){const l=f.pop();l.set_x(h);l.set_y(g);return l}return new c.b2Vec2(h,g)}static qz(h){f.push(h)}static EF(h,g){b.set_x(h);b.set_y(g);return b}static R1(h,g){a.set_x(h);a.set_y(g);return a}static RE(h){const g=new c.b2PolygonShape,l=c._malloc(8*h.length);var n=0;for(let p=0;p<h.length;++p)c.HEAPF32[l+n>>2]=h[p].get_x(),c.HEAPF32[l+(n+4)>>2]=h[p].get_y(),n+=8;n=c.wrapPointer(l,c.b2Vec2);g.Set(n,h.length);c._free(l);return g}};self.y2=class extends self.LO{constructor(h){super(h)}}}
{"use strict";const d=self.D;d.N.bb.Ke=class extends d.vs{constructor(b){super(b)}A(){super.A()}cc(){}}}
{"use strict";const d=self.D,b=self.Pg,a=self.Xz,f=new WeakMap,c=new WeakMap,e=new WeakMap,h=d.N.bb.EF,g=d.N.bb.R1,l=d.F(d.Rect),n=d.F(d.yd);d.N.bb.Instance=class extends d.us{constructor(q,r){super(q);q=this.bf();const x=this.C();this.ji=q.P0();this.Ye=q.Ye;this.vc=q.vc;this.Zw=!1;this.LU=0;this.Lo=!1;this.uq=1;this.Bq=.5;this.hr=.2;this.Sq=0;this.lq=.01;this.uo=!1;this.V=!0;this.Ha=null;this.ut=[];this.Ah=[];this.yf=[];this.yo=new Set;this.Kt=x.O();this.Lt=x.P();this.Yj=x.pa();this.eK=this.lK=0;
this.tx=!1;r&&(this.Zw=!!r[0],this.LU=r[1],this.Lo=!!r[2],this.uq=r[3],this.Bq=r[4],this.hr=r[5],this.Sq=r[6],this.lq=r[7],this.uo=!!r[8],this.V=!!r[9]);r=this.j.Kb();this.Cd=new d.sn(d.yb.Lb(r,"instancedestroy",w=>this.PH(w.instance)),d.yb.Lb(r,"beforeload",()=>this.Ts()),d.yb.Lb(r,"afterload",()=>this.aq()));c.set(this.I,this);this.V&&this.te()}rA(){this.QA()}A(){this.UA();d.H(this.yf);this.yo.clear();this.Ha&&(this.uH(),this.Ye.DestroyBody(this.Ha),this.Ha=null);super.A()}Zv(q){this.Ha&&(q=this.Ha.CreateFixture(q),
this.ut.push(q))}uH(){if(this.Ha){for(const q of this.ut)this.Ha.DestroyFixture(q);d.H(this.ut)}}Os(){const q=this.C();return q.rg()?(q.Qu(l,n,!1),n):q.$i()}rj(q){this.ji.destroy(q)}QA(){if(this.V){var q=this.ji.b2FixtureDef,r=this.ji.b2BodyDef,x=this.C();if(!this.Ha){r=new r;r.set_type(this.Zw?0:2);var w=this.Os();r.set_position(g(w.Pi()*this.vc,w.Qi()*this.vc));r.set_angle(x.pa());r.set_fixedRotation(this.Lo);r.set_linearDamping(this.Sq);r.set_angularDamping(this.lq);r.set_bullet(this.uo);this.Ha=
this.Ye.CreateBody(r);this.rj(r);f.set(this.Ha,this)}this.uH();q=new q;q.set_density(this.uq);q.set_friction(this.Bq);q.set_restitution(this.hr);r=this.LU;x.uv()||this.I.gj()||0!==r||(r=1);w=Math.max(Math.abs(x.T()),1);var v=Math.max(Math.abs(x.U()),1);0===r?this.I.gj()?this.J$(q):this.C$(q,w,v):1===r?this.KR(q,w,v):this.p$(q,w,v);this.lK=x.T();this.eK=x.U();x.UQ(!1);this.rj(q)}}KR(q,r,x){const w=new this.ji.b2PolygonShape;w.SetAsBox(r*this.vc*.5,x*this.vc*.5);q.set_shape(w);this.Zv(q);this.rj(w)}p$(q,
r,x){const w=new this.ji.b2CircleShape;w.set_m_radius(Math.min(r,x)*this.vc*.5);q.set_shape(w);this.Zv(q);this.rj(w)}C$(q,r,x){var w=this.C(),v=0>w.T();const t=0>w.U(),A=this.vc;var y=w.pa();0!==y&&(w.lc(0),w.Aa());var E=this.Os();const F=E.Pi()-w.O();E=E.Qi()-w.P();0!==y&&(w.lc(y),w.Aa());y=w.T0(v?-r:r,t?-x:x).Md;const H=y.length/2;w=[];for(let J=0;J<H;++J)w.push(d.N.bb.Ep(y[2*J]-F,y[2*J+1]-E));v!==t&&w.reverse();v=d.N.bb.vQ.uQ(w,r*x);for(const J of w)d.N.bb.qz(J);if(v.length)for(const J of v){for(const M of J)M.set_x(M.get_x()*
A),M.set_y(M.get_y()*A);r=d.N.bb.RE(J);q.set_shape(r);this.Zv(q);this.rj(r);for(const M of J)d.N.bb.qz(M)}else this.KR(q,r,x)}J$(q){var r=this.C(),x=this.Os();const w=x.Pi()-r.O();r=x.Qi()-r.P();x=this.vc;const v=d.N.bb.Ep,t=d.N.bb.qz,A=[];this.I.ra.Rna(A);const y=[];for(let M=0,P=A.length;M<P;++M){var E=A[M],F=E.N1(),H=E.oO();if(H){var J=e.get(H);if(!J){J=H.Md;const S=H.BM();for(let T=0;T<S;++T)y.push(v(J[2*T],J[2*T+1]));E=E.$na()&3758096384;(-2147483648===E||1073741824===E||536870912===E||E&-2147483648&&
E&1073741824&&E&536870912)&&y.reverse();J=d.N.bb.vQ.uQ(y,F.width()*F.height());e.set(H,J);for(const T of y)t(T);d.H(y)}for(let S=0,T=J.length;S<T;++S){H=J[S];for(let V=0,ba=H.length;V<ba;++V)y.push(v((F.X+H[V].get_x()-w)*x,(F.S+H[V].get_y()-r)*x));H=d.N.bb.RE(y);q.set_shape(H);this.Zv(q);this.rj(H);for(const V of y)t(V);d.H(y)}}else y.push(v((F.X-w)*x,(F.S-r)*x)),y.push(v((F.ca-w)*x,(F.S-r)*x)),y.push(v((F.ca-w)*x,(F.ba-r)*x)),y.push(v((F.X-w)*x,(F.ba-r)*x)),F=d.N.bb.RE(y),q.set_shape(F),this.Zv(q),
this.rj(F);for(const S of y)t(S);d.H(y)}}RR(){this.Ha&&(this.UA(),f.delete(this.Ha),this.uH(),this.Ye.DestroyBody(this.Ha),this.Ha=null)}UA(){for(const q of this.Ah)this.Ye.DestroyJoint(q);d.H(this.Ah)}Fda(){for(const q of this.yf)switch(q.type){case 0:this.UR(...q.lp);break;case 1:this.XR(...q.lp);break;case 2:this.VR(...q.lp);break;case 3:this.WR(...q.lp)}}Jk(q){var r=this.C();return-1===q?[r.O(),r.P()]:0===q&&this.Ha?(q=this.Ha.GetPosition(),r=this.Ha.GetLocalCenter(),[(q.get_x()+r.get_x())/this.vc,
(q.get_y()+r.get_y())/this.vc]):this.I.Kl(q)}q$(q,r,x,w,v){this.V&&r&&r!==this.I&&d.N.bb.Instance.Tl(r)&&(this.yf.push({type:0,lp:[q,r.Gb,x,w,v]}),this.UR(q,r.Gb,x,w,v))}UR(q,r,x,w,v){if(this.V){var t=this.j.ef(r);if(t&&t!==this.I&&c.has(t)){r=d.N.bb.Instance.Tl(t);r.yo.add(this.I);this.jm(!1);r.jm(!1);var [A,y]=this.Jk(q),[E,F]=t.Kl(x);q=A-E;x=y-F;t=this.vc;var H=new this.ji.b2DistanceJointDef;H.Initialize(this.Ha,r.Ha,h(A*t,y*t),g(E*t,F*t));H.set_length(Math.hypot(q,x)*t);H.set_dampingRatio(w);
H.set_frequencyHz(v);this.Ah.push(this.Ye.CreateJoint(H));this.rj(H)}}}F$(q,r){this.V&&r&&r!==this.I&&d.N.bb.Instance.Tl(r)&&(this.yf.push({type:1,lp:[q,r.Gb]}),this.XR(q,r.Gb))}XR(q,r){if(this.V&&(r=this.j.ef(r))&&r!==this.I&&c.has(r)){r=d.N.bb.Instance.Tl(r);r.yo.add(this.I);this.jm(!1);r.jm(!1);var [x,w]=this.Jk(q);q=this.vc;var v=new this.ji.b2RevoluteJointDef;v.Initialize(this.Ha,r.Ha,h(x*q,w*q));this.Ah.push(this.Ye.CreateJoint(v));this.rj(v)}}A$(q,r,x,w){this.V&&r&&r!==this.I&&d.N.bb.Instance.Tl(r)&&
(x=d.Sc(x),w=d.Sc(w),this.yf.push({type:2,lp:[q,r.Gb,x,w]}),this.VR(q,r.Gb,x,w))}VR(q,r,x,w){if(this.V&&(r=this.j.ef(r))&&r!==this.I&&c.has(r)){r=d.N.bb.Instance.Tl(r);r.yo.add(this.I);this.jm(!1);r.jm(!1);var [v,t]=this.Jk(q);q=this.vc;var A=new this.ji.b2RevoluteJointDef;A.Initialize(this.Ha,r.Ha,h(v*q,t*q));A.set_enableLimit(!0);A.set_lowerAngle(d.Ba(x));A.set_upperAngle(d.Ba(w));this.Ah.push(this.Ye.CreateJoint(A));this.rj(A)}}D$(q,r,x,w,v,t,A,y,E){this.V&&r&&r!==this.I&&d.N.bb.Instance.Tl(r)&&
(x=d.Sc(x),y=d.Sc(y),this.yf.push({type:3,lp:[q,r.Gb,x,w,v,t,A,y,E]}),this.WR(q,r.Gb,x,w,v,t,A,y,E))}WR(q,r,x,w,v,t,A,y,E){if(this.V&&(r=this.j.ef(r))&&r!==this.I&&c.has(r)){r=d.N.bb.Instance.Tl(r);r.yo.add(this.I);this.jm(!1);r.jm(!1);var [F,H]=this.Jk(q);x=d.Ba(x);q=Math.cos(x);x=Math.sin(x);var J=this.vc,M=new this.ji.b2PrismaticJointDef;M.Initialize(this.Ha,r.Ha,h(F*J,H*J),g(q,x));M.set_enableLimit(!!w);M.set_lowerTranslation(v*J);M.set_upperTranslation(t*J);M.set_enableMotor(!!A);M.set_motorSpeed(d.Ba(y));
M.set_maxMotorForce(E);this.Ah.push(this.Ye.CreateJoint(M));this.rj(M)}}Tda(){this.V&&(this.UA(),d.H(this.yf),this.yo.clear())}PH(q){const r=q.Gb;let x=0;for(let w=0,v=this.yf.length;w<v;++w)this.yf[x]=this.yf[w],x<this.Ah.length&&(this.Ah[x]=this.Ah[w]),this.yf[w].lp[1]===r?w<this.Ah.length&&this.Ye.DestroyJoint(this.Ah[w]):++x;d.Ee(this.yf,x);x<this.Ah.length&&d.Ee(this.Ah,x);this.yo.delete(q)}static nA(q){return f.get(q)||null}static Tl(q){return c.get(q)||null}Ac(){const q={e:this.V,pr:this.Lo,
d:this.uq,fr:this.Bq,re:this.hr,ld:this.Sq,ad:this.lq,b:this.uo,mcj:this.yf};if(this.V){const r=this.Ha.GetLinearVelocity();q.vx=r.get_x();q.vy=r.get_y();q.om=this.Ha.GetAngularVelocity()}return q}Ts(){this.UA();d.H(this.yf);this.yo.clear()}rc(q){this.RR();this.V=q.e;this.Lo=q.pr;this.uq=q.d;this.Bq=q.fr;this.hr=q.re;this.Sq=q.ld;this.lq=q.ad;this.uo=q.b;this.yf=q.mcj;const r=this.C();this.Kt=r.O();this.Lt=r.P();this.Yj=r.pa();this.lK=r.T();this.eK=r.U();this.V&&(this.QA(),this.Ha.SetLinearVelocity(h(q.vx,
q.vy)),this.Ha.SetAngularVelocity(q.om),0===q.vx&&0===q.vy&&0===q.om||this.Ha.SetAwake(!0),this.yf=q.mcj);this.V?this.te():this.im()}aq(){this.V&&this.Fda()}Ad(){if(this.V){var q=this.j,r=this.bf();if(0===r.cX)var x=q.Nd/60;else x=q.Uh(this.I),x>1/30&&(x=1/30);var w=q.Wm;if(w>r.WV&&0<q.Nd){q=this.j.Bb;let v=0;q&&(v=performance.now());0!==x&&this.Ye.Step(x,r.rX,r.xW);this.Ye.ClearForces();q&&self.mg.ska(performance.now()-v);r.E7(w)}this.jm(!0)}}jm(q){const r=this.I.C();var x=this.vc;(r.T()!==this.lK||
r.U()!==this.eK||r.J3())&&this.QA();var w=this.Ha,v=r.O()!==this.Kt||r.P()!==this.Lt,t=r.pa()!==this.Yj;if(v){var A=this.Os();const y=A.Pi();A=A.Qi();const E=y-this.Kt,F=A-this.Lt;t?w.SetTransform(h(y*x,A*x),r.pa()):w.SetTransform(h(y*x,A*x),w.GetAngle());q&&(w.SetLinearVelocity(h(E,F)),this.tx=!0);w.SetAwake(!0)}else q&&this.tx&&(q=this.Os(),this.tx=!1,w.SetLinearVelocity(h(0,0)),w.SetTransform(h(q.Pi()*x,q.Qi()*x),w.GetAngle()));!v&&t&&(w.SetTransform(w.GetPosition(),r.pa()),w.SetAwake(!0));t=w.GetPosition();
v=t.get_x()/x;x=t.get_y()/x;w=w.GetAngle();if(v!==r.O()||x!==r.P()||w!==r.pa())if(r.zd(v,x),r.lc(w),r.Aa(),x=this.Os(),w=x.Pi()-r.O(),x=x.Qi()-r.P(),0!==w||0!==x)r.Ul(-w,-x),r.Aa();this.Kt=r.O();this.Lt=r.P();this.Yj=r.pa()}$b(q){switch(q){case 2:return this.Lo;case 3:return this.sS();case 4:return this.wS();case 5:return this.tS();case 6:return this.yS();case 7:return this.jS();case 8:return this.uo;case 9:return this.V}}Ie(q,r){switch(q){case 2:this.cU(r);break;case 3:this.PT(r);break;case 4:this.ST(r);
break;case 5:this.RT(r);break;case 6:this.$T(r);break;case 7:this.LT(r);break;case 8:this.OT(r);break;case 9:this.oh(r)}}oh(q){q=!!q;this.V&&!q?(this.RR(),this.V=!1,this.im()):!this.V&&q&&(this.V=!0,this.QA(),this.te())}P9(q,r,x){const [w,v]=this.Jk(x);this.wH(q,r,w,v)}R9(q,r,x,w){const [v,t]=this.Jk(w);r=d.Hf(v,t,r,x);this.wH(Math.cos(r)*q,Math.sin(r)*q,v,t)}Q9(q,r,x){const [w,v]=this.Jk(x);this.wH(Math.cos(r)*q,Math.sin(r)*q,w,v)}wH(q,r,x,w){if(this.V){var v=this.vc;this.Ha.ApplyForce(h(q,r),g(x*
v,w*v),!0)}}S9(q,r,x){const [w,v]=this.Jk(x);this.xH(q,r,w,v)}U9(q,r,x,w){const [v,t]=this.Jk(w);r=d.Hf(v,t,r,x);this.xH(Math.cos(r)*q,Math.sin(r)*q,v,t)}T9(q,r,x){const [w,v]=this.Jk(x);this.xH(Math.cos(r)*q,Math.sin(r)*q,w,v)}xH(q,r,x,w){if(this.V){var v=this.vc;this.Ha.ApplyLinearImpulse(h(q,r),g(x*v,w*v),!0);q=this.C();this.Kt=q.O();this.Lt=q.P();this.tx=!1}}fH(q){this.V&&this.Ha.ApplyTorque(q,!0)}V9(q,r){r=d.De(this.C().pa(),r)?-1:1;this.fH(q*r)}W9(q,r,x){var w=this.C();r=d.Hf(w.O(),w.P(),r,
x);w=d.De(w.pa(),r)?-1:1;this.fH(q*w)}Hea(q){this.V&&(this.Ha.SetAngularVelocity(q),this.Ha.SetAwake(!0))}kS(){return this.V?this.Ha.GetAngularVelocity():0}hU(q,r){if(this.V){var x=this.vc;this.Ha.SetLinearVelocity(h(q*x,r*x));this.Ha.SetAwake(!0);q=this.C();this.Kt=q.O();this.Lt=q.P();this.tx=!1}}tba(){if(!this.V)return[0,0];const q=this.vc,r=this.Ha.GetLinearVelocity();return[r.get_x()/q,r.get_y()/q]}JS(){return this.V?this.Ha.GetLinearVelocity().get_x()/this.vc:0}KS(){return this.V?this.Ha.GetLinearVelocity().get_y()/
this.vc:0}PT(q){if(this.V&&this.uq!==q){this.uq=q;for(const r of this.ut)r.SetDensity(q);this.Ha.ResetMassData()}}sS(){return this.V?this.uq:0}ST(q){if(this.V&&this.Bq!==q){this.Bq=q;for(var r of this.ut)r.SetFriction(q);for(q=this.Ha.GetContactList();this.ji.getPointer(q);q=q.get_next())(r=q.get_contact())&&r.ResetFriction()}}wS(){return this.V?this.Bq:0}RT(q){if(this.V&&this.hr!==q){this.hr=q;for(const r of this.ut)r.SetRestitution(q)}}tS(){return this.V?this.hr:0}$T(q){this.V&&this.Sq!==q&&(this.Sq=
q,this.Ha.SetLinearDamping(q))}yS(){return this.V?this.Sq:0}LT(q){this.V&&this.lq!==q&&(this.lq=q,this.Ha.SetAngularDamping(q))}jS(){return this.V?this.lq:0}dfa(q){this.V&&(q=!!q,this.Zw!==q&&(this.Zw=q,this.Ha.SetType(this.Zw?0:2),this.Ha.SetAwake(!0)))}cU(q){this.V&&(q=!!q,this.Lo!==q&&(this.Lo=q,this.Ha.SetFixedRotation(this.Lo),this.Ha.SetAngularVelocity(0),this.Ha.SetAwake(!0)))}OT(q){this.V&&(q=!!q,this.uo!==q&&(this.uo=q,this.Ha.SetBullet(this.uo),this.Ha.SetAwake(!0)))}AS(){return this.V?
this.Ha.GetMass()/this.vc:0}aba(){return this.V?(this.Ha.GetPosition().get_x()+this.Ha.GetLocalCenter().get_x())/this.vc:0}bba(){return this.V?(this.Ha.GetPosition().get_y()+this.Ha.GetLocalCenter().get_y())/this.vc:0}Uba(){return this.V?!this.Ha.IsAwake():!1}cba(){if(!this.V)return 0;let q=0;for(let x=this.Ha.GetContactList();this.ji.getPointer(x);x=x.get_next()){var r=x.get_contact();r&&(r=r.GetManifold().get_pointCount(),q+=r)}return q}pS(q){q=Math.floor(q);if(!this.V)return[0,0];var r=0;for(let w=
this.Ha.GetContactList();this.ji.getPointer(w);w=w.get_next()){var x=w.get_contact();if(!x)continue;const v=x.GetManifold().get_pointCount();if(q>=r&&q<r+v)return q-=r,r=this.bf().uX,x.GetWorldManifold(r),x=r.get_points(q),[x.get_x()/this.vc,x.get_y()/this.vc];r+=v}return[0,0]}Pf(){return self.z2}};const p=new WeakMap;self.z2=class extends a{constructor(){super();p.set(this,a.em().ra)}get isEnabled(){return p.get(this).V}set isEnabled(q){p.get(this).oh(q)}setVelocity(q,r){b.gh(q);b.gh(r);p.get(this).hU(q,
r)}}}{"use strict";const d=self.D;d.N.bb.G={Q3(){return this.Uba()},vma(b,a,f){if(!this.V)return!1;if(0===b)b=this.JS();else if(1===b)b=this.KS();else{const [c,e]=this.tba();b=Math.hypot(c,e)}return d.compare(b,a,f)},FZ(b,a){if(!this.V)return!1;const f=d.Sc(this.kS());return d.compare(f,b,a)},kma(b,a){if(!this.V)return!1;const f=this.AS();return d.compare(f,b,a)},sg(){return this.V}}}
{"use strict";const d=self.D;d.N.bb.oa={Pka(b,a,f){this.P9(b,a,f)},Qka(b,a,f,c){this.R9(b,a,f,c)},XY(b,a,f){this.Q9(b,d.Ba(a),f)},Rka(b,a,f){this.S9(b,a,f)},Tka(b,a,f,c){this.U9(b,a,f,c)},Ska(b,a,f){this.T9(b,d.Ba(a),f)},Uka(b){this.fH(d.Ba(b))},Vka(b,a){this.V9(d.Ba(b),d.Ba(a))},Wka(b,a,f){this.W9(d.Ba(b),a,f)},V6(b){this.Hea(d.Ba(b))},Kma(b,a,f,c,e){a&&(a=a.Vg(this.I),this.q$(b,a,f,c,e))},Pma(b,a){a&&(a=a.Vg(this.I),this.F$(b,a))},Mma(b,a,f,c){a&&(a=a.Vg(this.I),this.A$(b,a,d.Ba(f),d.Ba(c)))},Oma(b,
a,f,c,e,h,g,l,n){a&&(a=a.Vg(this.I),this.D$(b,a,d.Ba(f),c,e,h,g,d.Ba(l),n))},Xra(){this.Tda()},q8(b){this.bf().JQ(b)},WQ(b){this.bf().WQ(b)},OQ(b,a){this.bf().OQ(b,a)},l8(b,a){this.hU(b,a)},Cta(b){this.PT(b)},Ota(b){this.ST(b)},Hta(b){this.RT(b)},oua(b){this.$T(b)},mta(b){this.LT(b)},Yta(b){this.dfa(b)},ona(b,a){this.bf().d7(this.L(),b,0!==a)},Dua(b){this.cU(0!==b)},vta(b){this.OT(0!==b)},Iv(b){this.oh(0!==b)}}}
{"use strict";const d=self.D;d.N.bb.Sa={iwa(){return this.JS()},jwa(){return this.KS()},Jka(){return d.Sc(this.kS())},bqa(){return this.AS()},Nla(){return this.aba()},Ola(){return this.bba()},bna(){return this.sS()},Jna(){return this.wS()},nna(){return this.tS()},Ppa(){return this.yS()},Ika(){return this.jS()},Gma(){return this.cba()},Hma(b){return this.pS(b)[0]},Ima(b){return this.pS(b)[1]}}}
{"use strict";const d=self.D,b={};d.N.bb.vQ=b;const a=d.N.bb.Ep,f=d.N.bb.qz;function c(h){return a(h.get_x(),h.get_y())}b.cia=function(h,g,l,n,p,q){return h*n+l*q+p*g-g*l-n*p-q*h};b.uia=function(h,g,l,n,p,q,r,x){var w=l-h,v=n-g,t=r-p;const A=x-q;t=(t*(q-g)-A*(p-h))/(v*t-w*A);w=h+t*w;v=g+t*v;p=b.fE(w,v,p,q,r,x);return b.fE(l,n,h,g,w,v)&&p?a(w,v):null};b.fE=function(h,g,l,n,p,q){return(l+.1>=h&&h>=p-.1||l-.1<=h&&h<=p+.1)&&(n+.1>=g&&g>=q-.1||n-.1<=g&&g<=q+.1)&&b.Eia(h,g,l,n,p,q)};b.Eia=function(h,g,
l,n,p,q){return.1<Math.abs(p-l)?.1>Math.abs((q-n)/(p-l)*(h-l)+n-g):.1>Math.abs(h-l)};b.dY=function(h,g,l,n){return.1>Math.abs(l-h)&&.1>Math.abs(n-g)};b.uQ=function(h,g){h=b.Pha(h);let l=[];for(let n=0,p=h.length;n<p;++n){const q=h[n],r=[];let x=0;for(let w=0,v=q.length;w<v;++w){const t=q[w],A=q[(w+1)%v];x+=t.get_x()*A.get_y()-t.get_y()*A.get_x();r.push(a(t.get_x(),t.get_y()))}x=Math.abs(x/2);if(x>=.001*g)l.push(r);else for(let w=0,v=r.length;w<v;w++)f(r[w])}g=l;h=[];for(const n of g)8>=n.length?h.push(n):
h.push.apply(h,e(n));return l=h};b.Pha=function(h){var g;let l;var n;let p;let q,r,x,w;let v;var t=0;let A=0,y,E=[],F=[];for(F.push(h);F.length;){h=F[0];l=h.length;y=!0;for(g=0;g<l;g++){q=g;r=g<l-1?g+1:g+1-l;var H=g<l-2?g+2:g+2-l;x=h[q];w=h[r];H=h[H];H=b.cia(x.get_x(),x.get_y(),w.get_x(),w.get_y(),H.get_x(),H.get_y());if(0>H){y=!1;var J=1E9;for(n=0;n<l;n++)if(n!==q&&n!==r){g=n;H=n<l-1?n+1:0;var M=h[g];var P=h[H];if(M=b.uia(x.get_x(),x.get_y(),w.get_x(),w.get_y(),M.get_x(),M.get_y(),P.get_x(),P.get_y()))P=
w.get_x()-M.get_x(),p=w.get_y()-M.get_y(),P=P*P+p*p,P<J?(A=g,t=H,v=M,J=P):f(M)}if(1E9===J)return[];n=[];J=[];g=A;H=t;M=h[g];P=h[H];t=!1;b.dY(v.get_x(),v.get_y(),P.get_x(),P.get_y())||(n.push(v),t=!0);b.dY(v.get_x(),v.get_y(),M.get_x(),M.get_y())||(J.push(v),t=!0);t||f(v);A=-1;for(t=q;;){if(t!==H)n.push(h[t]);else{if(0>A||A>=l)return[];b.fE(P.get_x(),P.get_y(),h[A].get_x(),h[A].get_y(),x.get_x(),x.get_y())||n.push(h[t]);break}A=t;0>t-1?t=l-1:t--}n.reverse();A=-1;for(t=r;;){if(t!==g)J.push(h[t]);else{if(0>
A||A>=l)return[];t!==g||b.fE(M.get_x(),M.get_y(),h[A].get_x(),h[A].get_y(),w.get_x(),w.get_y())||J.push(h[t]);break}A=t;t+1>l-1?t=0:t++}F.push(n,J);F.shift();break}}y&&E.push(F.shift())}return E};function e(h){const g=[];g.push(h.splice(0,8));const l=g[0][0];let n=g[0][7];for(;h.length;){const p=h.splice(0,Math.min(h.length,6));let q=p[p.length-1];p.push(c(l));p.push(c(n));g.push(p);n=q}return g}}
{"use strict";const d=self.D;d.N.Xi=class extends d.ts{constructor(b){super(b);b=this.j.Kb();this.Cd=new d.sn(d.yb.Lb(b,"pointerdown",a=>this.kw(a.data)),d.yb.Lb(b,"pointermove",a=>this.lw(a.data)),d.yb.Lb(b,"pointerup",a=>this.bq(a.data,!1)),d.yb.Lb(b,"pointercancel",a=>this.bq(a.data,!0)))}A(){this.Cd.A();this.Cd=null;super.A()}kw(b){"mouse"===b.pointerType&&0!==b.button||this.Yca(b.pointerId.toString(),b.pageX-this.j.El(),b.pageY-this.j.Fl())}lw(b){0!==(b.lastButtons&1)&&0===(b.buttons&1)?this.iT(b.pointerId.toString()):
this.Zca(b.pointerId.toString(),b.pageX-this.j.El(),b.pageY-this.j.Fl())}bq(b){"mouse"===b.pointerType&&0!==b.button||this.iT(b.pointerId.toString())}async Yca(b,a,f){var c=this.ua();let e=null,h=null,g=0,l=0;for(const n of c){c=n.cF(d.N.Xi);if(!c.sg()||c.Xk)continue;const p=n.C(),q=p.qa(),[r,x]=q.Ti(a,f,p.Yh());if(!p.Qr(r,x))continue;if(!e){e=n;h=c;g=r;l=x;continue}const w=e.C();if(q.Na()>w.qa().Na()||q.Na()===w.qa().Na()&&p.Zh()>w.Zh())e=n,h=c,g=r,l=x}e&&await h.Sca(b,g,l)}Zca(b,a,f){var c=this.ua();
for(const e of c){c=e.cF(d.N.Xi);if(!c.sg()||!c.Xk||c.Xk&&c.hJ!==b)continue;const h=e.C(),g=h.qa(),[l,n]=g.Ti(a,f,h.Yh());c.ida(l,n)}}async iT(b){var a=this.ua();for(const f of a)a=f.cF(d.N.Xi),a.Xk&&a.hJ===b&&await a.nT()}}}{"use strict";const d=self.D;d.N.Xi.Ke=class extends d.vs{constructor(b){super(b)}A(){super.A()}cc(){}}}
{"use strict";const d=self.D;d.N.Xi.Instance=class extends d.us{constructor(b,a){super(b);this.Xk=!1;this.Ib=this.Pb=0;this.hJ="<none>";this.lm=0;this.V=!0;a&&(this.lm=a[0],this.V=a[1])}A(){super.A()}Ac(){return{a:this.lm,e:this.V}}rc(b){this.lm=b.a;this.V=b.e;this.Xk=!1}sg(){return this.V}async Sca(b,a,f){const c=this.C();this.Pb=a-c.O();this.Ib=f-c.P();this.Xk=!0;this.hJ=b;await this.jb(d.N.Xi.G.c5)}ida(b,a){const f=this.C();b-=this.Pb;a-=this.Ib;if(0===this.lm){if(f.O()!==b||f.P()!==a)f.zd(b,a),
f.Aa()}else 1===this.lm?f.O()!==b&&(f.Vf(b),f.Aa()):2===this.lm&&f.P()!==a&&(f.mf(a),f.Aa())}async nT(){this.Xk=!1;await this.jb(d.N.Xi.G.d5)}$b(b){switch(b){case 0:return this.lm;case 1:return this.V}}Ie(b,a){switch(b){case 0:this.lm=a;break;case 1:this.V=!!a}}}}"use strict";self.D.N.Xi.G={bpa(){return this.Xk},c5(){return!0},d5(){return!0},sg(){return this.V}};"use strict";self.D.N.Xi.oa={Iv(d){this.V=!!d;this.V||(this.Xk=!1)},qta(d){this.lm=d},jna(){this.Xk&&this.nT()}};"use strict";
self.D.N.Xi.Sa={};
{const d=self.D;self.iN=function(){return[d.m.qe,d.m.Ta,d.N.Yi,d.N.Sg,d.N.ik,d.m.Audio,d.m.Fc,d.m.Keyboard,d.m.He,d.m.Touch,d.m.Nb,d.m.pf,d.N.Fs,d.N.bb,d.N.Xi,d.m.Da.G.hs,d.m.Da.G.JP,d.m.Da.oa.k8,d.m.Da.oa.yN,d.m.Da.Sa.Kja,d.m.Da.Sa.Lja,d.m.Da.Sa.Mja,d.m.Da.Sa.Jja,d.N.bb.oa.q8,d.m.Ta.oa.sc,d.m.Ta.Sa.s9,d.m.Ta.Sa.KF,d.m.Da.G.HZ,d.m.Ta.oa.EN,d.m.pf.oa.Ds,d.m.pf.oa.EN,d.m.Ta.G.tN,d.m.Ta.oa.W6,d.m.Touch.G.SP,d.m.Audio.oa.Play,d.N.Yi.oa.G8,d.m.Ta.G.AP,d.m.Ta.oa.JG,d.m.Ta.Sa.eG,d.m.pf.oa.JG,d.m.Ta.Sa.Xv,
d.m.Ta.Sa.Ks,d.m.Ta.oa.O7,d.m.Da.G.u0,d.m.Da.oa.L8,d.m.Da.oa.QY,d.m.Nb.oa.D7,d.m.Da.Sa.gja,d.m.Da.oa.cH,d.m.Da.oa.Up,d.m.Da.oa.l9,d.m.Da.oa.X1,d.m.Ta.G.u3,d.m.Ta.oa.X6,d.m.Touch.G.F3,d.m.Ta.G.Vd,d.m.Ta.oa.Y7,d.m.Touch.Sa.Xv,d.m.Touch.Sa.Ks,d.m.Ta.oa.he,d.m.qe.oa.he,d.m.Ta.G.RO,d.N.Sg.G.D3,d.m.Ta.oa.yQ,d.m.Ta.oa.Je,d.N.Sg.oa.Sg,d.N.Sg.G.BP,d.m.Da.G.EZ,d.m.Ta.Sa.QZ,d.m.Da.G.r9,d.m.Ta.G.I3,d.m.Ta.oa.x4,d.m.Ta.Sa.SY,d.m.qe.oa.JG,d.m.qe.oa.lc,d.m.qe.oa.Je,d.m.Ta.oa.B8,d.m.Ta.oa.lc,d.m.qe.Sa.KF,d.m.qe.oa.mf,
d.m.Da.Sa.cja,d.m.Touch.G.QP,d.m.Audio.oa.R5,d.m.Da.Sa.EX,d.N.bb.oa.XY,d.N.bb.oa.l8,d.N.bb.oa.V6,d.N.bb.G.Q3,d.N.bb.G.FZ,d.m.Ta.G.X4,d.m.Ta.G.GZ,d.N.bb.oa.Iv,d.m.Ta.oa.A4,d.m.Ta.oa.z7,d.m.Audio.oa.Y5,d.m.Da.G.v0,d.m.pf.Sa.eG,d.m.Da.Sa.Sia,d.m.pf.G.RO,d.m.Da.G.MP,d.m.pf.oa.yQ,d.m.Touch.G.RP,d.m.Ta.oa.F8,d.m.Nb.oa.tZ,d.m.Nb.G.CP,d.m.Nb.Sa.W3,d.m.Nb.G.EP,d.m.Da.oa.H6,d.m.Ta.oa.mf,d.m.Da.Sa.Nia,d.m.Ta.oa.z4,d.m.qe.G.tN,d.m.qe.Sa.eG,d.m.Da.G.V8,d.m.Da.oa.F7,d.m.Da.oa.G7,d.m.Da.Sa.Lia,d.m.Da.Sa.Mia,d.m.Ta.oa.Vf,
d.m.Da.Sa.dja,d.m.Nb.G.K3,d.m.Touch.G.T3,d.m.Da.Sa.log10,d.m.Audio.oa.p8,d.m.qe.Sa.Xv,d.m.qe.Sa.Ks,d.m.Da.G.IN,d.m.He.G.w3,d.m.He.oa.f7,d.m.Fc.oa.A6,d.m.Fc.oa.oZ,d.m.Da.Sa.Pja,d.m.Da.Sa.Oja,d.m.Da.oa.H7,d.m.Ta.oa.Vn,d.m.Da.G.a4,d.m.Da.oa.w8,d.m.pf.Sa.KF,d.m.Fc.oa.Y1,d.m.Fc.oa.BZ,d.m.pf.Sa.Ks]};self.jZ=[{B4:0},{Zka:0},{Ina:0},{Nua:0},{Oua:0},{Xma:0},{Wma:0},{Yi:0},{Window:0},{ioa:0},{joa:0},{ooa:0},{poa:0},{woa:0},{Sg:0},{goa:0},{ila:0},{koa:0},{wra:0},{moa:0},{hoa:0},{loa:0},{ik:0},{qoa:0},{noa:0},
{fla:0},{Bra:0},{Audio:0},{Fc:0},{Keyboard:0},{He:0},{Touch:0},{Nb:0},{Kva:0},{Fva:0},{dka:0},{Vpa:0},{Nna:0},{Kqa:0},{tva:0},{wwa:0},{voa:0},{ula:0},{vla:0},{wla:0},{Dla:0},{xla:0},{yla:0},{zla:0},{Ala:0},{Bla:0},{Ela:0},{Gla:0},{Hla:0},{Ila:0},{Jla:0},{Fla:0},{Cla:0},{Lna:0},{Lua:0},{Mna:0},{ola:0},{Ava:0},{vva:0},{Dva:0},{Cva:0},{Bva:0},{yva:0},{zva:0},{xva:0},{uva:0},{wva:0},{sva:0},{rva:0},{bb:0},{Xla:0},{ina:0},{Zla:0},{cwa:0},{gna:0},{Yla:0},{$la:0},{yka:0},{Sma:0},{gla:0},{hla:0},{U5:0},{Qma:0},
{Rma:0},{Kla:0},{ala:0},{ama:0},{Eva:0},{Ona:0},{Pna:0},{Vma:0},{Rva:0},{xra:0},{ura:0},{vra:0},{qra:0},{rra:0},{sra:0},{tra:0},{Mva:0},{Koa:0},{bta:0},{ita:0},{fqa:0},{Jva:0},{Rua:0},{Sua:0},{Tua:0},{jqa:0},{kqa:0},{lqa:0},{$ka:0},{C0:0},{Mua:0},{Uma:0},{$ma:0},{Kna:0},{Zma:0},{Nra:0},{zoa:0}]}
{const d=self.D;function b(a,f){return"string"===typeof a||"string"===typeof f?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof f?(Math.round(1E10*f)/1E10).toString():f):a&&f?1:0}self.iZ=[()=>"Game_Settings",()=>"Ready",()=>"Player_1",()=>0,()=>30,()=>"Gui",a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Gui")+c("Gui"))/2},a=>{const f=a.B(0);return()=>f.$()},()=>"Single_Player",()=>"Score all balls in the pocket in the allotted time. Not to score a cue ball in the pocket, for each such hit one foul point is awarded. 3 fouls and the game will be terminated. Ball number eight must be the last one to score!",
()=>"Two_Players",()=>"Each player scores only his own balls, player 1 balls without strip, player 2 balls with strip. Do not score a cue ball in pocket, as each such hit gets one foul. 3 fouls and the game will be discontinued. Ball number eight should be the last to score!",()=>"Player_2",a=>{const f=a.B(0).Ia;return()=>f.wa()},()=>"Striped",()=>"Shadow_Out_Settings",()=>"Sound",()=>"Instructions",()=>"Play",a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())+e.$()/2+h.wa()},
a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())-e.$()/2-h.wa()},a=>{const f=a.B(0),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f.$()-c.$()/2-e.ng()/2-h.wa()},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3);return()=>(f(c.$())+e(h.$()))/2},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())+e.ng()/2+h.wa()},()=>1,()=>2,()=>"Time_Settings",()=>59,a=>{const f=a.B(0).Ia,c=a.B(1).Ia;return()=>b(b("TIME 0",f.wa())+":",c.wa())},()=>9,a=>{const f=a.B(0).Ia,c=
a.B(1).Ia;return()=>b(b("TIME 0",f.wa())+":0",c.wa())},a=>{const f=a.B(0).Ia,c=a.B(1).Ia;return()=>b(b("TIME ",f.wa())+":",c.wa())},()=>10,a=>{const f=a.B(0).Ia,c=a.B(1).Ia;return()=>b(b("TIME ",f.wa())+":0",c.wa())},()=>"Time_Over_Settings",()=>"Time_Over",a=>{const f=a.B(0).M();return()=>f()+"TotalScore"},()=>"Foreground",a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/2},()=>"Shadow_In_Settings",()=>"Shadow_In",()=>"3_Fouls_Settings",()=>3,()=>"Game_Over",a=>{const f=
a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/2-70},a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/2+67},a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/2-112},a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/2+109},()=>"Gui_Impact_Force_Settings",a=>{const f=a.B(0).Ia;return()=>f.wa()/10},()=>"Inactive",()=>"Active",()=>6,()=>7,()=>8,()=>"Aim",()=>"Touch",a=>{const f=a.B(0).M();return()=>
f()},()=>"Scanner",()=>100,a=>{const f=a.B(0),c=a.B(1).Ia;return()=>f.$()/1.5+c.wa()},()=>.1,a=>{const f=a.B(0),c=a.B(1),e=a.B(2),h=a.B(3);return()=>d.hg(f.$(),c.$(),e.$(),h.$())},a=>{const f=a.B(0),c=a.B(1),e=a.B(2),h=a.B(3),g=a.B(4),l=a.B(5);return()=>f.$()+Math.cos(d.Ba(d.Sc(d.Hf(c.$(),e.$(),h.$(),g.$()))))*(l.$()/2)},a=>{const f=a.B(0),c=a.B(1),e=a.B(2),h=a.B(3),g=a.B(4),l=a.B(5);return()=>f.$()+Math.sin(d.Ba(d.Sc(d.Hf(c.$(),e.$(),h.$(),g.$()))))*(l.$()/2)},a=>{const f=a.B(0);return()=>f.$()+
180},()=>"Collision",a=>{const f=a.B(0),c=a.B(1),e=a.B(2),h=a.B(3);return()=>d.Sc(d.Hf(f.$(),c.$(),e.$(),h.$()))},a=>{const f=a.B(0);return()=>5*f.$()},a=>{const f=a.B(0).M();return()=>-f()},()=>"Hit",a=>{const f=a.B(0).M();return()=>f("Shoot_High","Shoot_Medium","Shoot_Low","Shoot_Tiny")},a=>{const f=a.B(0).Ia;return()=>50*f.wa()},()=>15,a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/2-68},a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/
2+42},()=>"Foul",a=>{const f=a.B(0).M();return()=>f("Pocket_1","Pocket_2","Pocket_3","Pocket_4")},a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/2+79},a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Foreground")+c("Foreground"))/2-79},a=>{const f=a.B(0);return()=>f.ng()},()=>"Cue_Ball",()=>"Other_Settings",()=>"Midground",()=>640,()=>580,a=>{const f=a.B(0).M();return()=>f("Colide_Ball_High","Collide_Ball_Medium","Collide_Ball_Low","Collide_Ball_Tiny")},()=>"Balls",
()=>14,a=>{const f=a.B(0).Ia;return()=>2+f.wa()},()=>"Game_Completed",a=>{const f=a.B(0).Ia,c=a.B(1).Ia,e=a.B(2).Ia;return()=>f.wa()*c.wa()+e.wa()},a=>{const f=a.B(0).M();return()=>f()+"Top_Score"},()=>"Loading_Settings",a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3);return()=>(f(c.$())+e(h.$()))/2-100},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3);return()=>(f(c.$())+e(h.$()))/2+200},()=>"Button_Start",a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())+(e.ng()+
h.wa())},a=>{const f=a.B(0).M();return()=>Math.round(100*f())},()=>99,a=>{const f=a.B(0).M();return()=>b("Loading-",Math.round(100*f()))+"%"},()=>"Loading-100%",a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())-(e.ng()+h.wa())},()=>"Music",()=>"Global_Settings",a=>{const f=a.B(0).Ia;return()=>b("TOP SCORE:",f.wa())},()=>"Button_Menu",()=>"Button_Reload",()=>"Pause_Settings",()=>"Show_Pause_Settings",()=>"Hide_Pause_Settings",()=>"Button_Pause",()=>"Show_Pause",()=>.3,()=>"Pause",
a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>(f("Pause")+c("Pause"))/2},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3),g=a.B(4).Ia,l=a.B(5).Ia,n=a.B(6).Ia;return()=>(f(c.$())+e(h.$()))/2-(g.wa()*l.wa()-n.wa()/2)},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3);return()=>(f(c.$())+e(h.$()))/2-200},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3),g=a.B(4),l=a.B(5).Ia;return()=>(f(c.$())+e(h.$()))/2-2*g.ng()-2*l.wa()},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3);return()=>
(f(c.$())+e(h.$()))/2+220},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3),g=a.B(4),l=a.B(5).Ia;return()=>(f(c.$())+e(h.$()))/2-(g.ng()+l.wa())},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3),g=a.B(4),l=a.B(5).Ia;return()=>(f(c.$())+e(h.$()))/2+(g.ng()+l.wa())},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3),g=a.B(4),l=a.B(5).Ia;return()=>(f(c.$())+e(h.$()))/2+2*g.ng()+2*l.wa()},a=>{const f=a.B(0),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f.$()-c.$()/2-e.$()/2-h.wa()},a=>{const f=
a.B(0),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f.$()+c.$()/2+e.$()/2+h.wa()},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3),g=a.B(4).Ia;return()=>(f(c.$())+e(h.$()))/2+g.wa()/2},()=>"Button_Return",()=>"Hide_Pause",()=>1.5,()=>.03,a=>{const f=a.B(0).M();return()=>d.Ec(f("Pause"),100,.25)},a=>{const f=a.B(0).M();return()=>d.Ec(f("Pause"),1,.25)},()=>.01,a=>{const f=a.B(0).M();return()=>d.Ec(f("Pause"),0,.25)},a=>{const f=a.B(0).M();return()=>d.Ec(f("Pause"),1.5,.25)},()=>"Audio_Settings",a=>
{const f=a.B(0).M();return()=>f()+"Sound_Status"},a=>{const f=a.B(0).M();return()=>f()+"Music_Status"},a=>{const f=a.B(0).M();return()=>f()+"Sound_Volume"},a=>{const f=a.B(0).M();return()=>f()+"Music_Volume"},a=>{const f=a.B(0).M();return()=>f()+"Sound"},a=>{const f=a.B(0).M();return()=>f()+"Music"},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3),g=a.B(4).Ia;return()=>(f(c.$())+e(h.$()))/2-g.wa()/2},a=>{const f=a.B(0).M(),c=a.B(1).M(),e=a.B(2),h=a.B(3).Ia,g=a.B(4).Ia,l=a.B(5).Ia;return()=>f()/
2+c(e.$())-(h.wa()*g.wa()-l.wa()/2)},a=>{const f=a.B(0).M(),c=a.B(1).M(),e=a.B(2),h=a.B(3).Ia;return()=>f()/2+c(e.$())-h.wa()/2},()=>-100,a=>{const f=a.B(0).M(),c=a.B(1).Ia,e=a.B(2).Ia,h=a.B(3).M(),g=a.B(4),l=a.B(5).M(),n=a.B(6),p=a.B(7).Ia,q=a.B(8).M(),r=a.B(9),x=a.B(10).M(),w=a.B(11),v=a.B(12).Ia;return()=>d.fa(Math.round(f()/(c.wa()/100))*(e.wa()/100),(Math.abs(h(g.$()))+l(n.$()))/2-p.wa()/2,(Math.abs(q(r.$()))+x(w.$()))/2+v.wa()/2)},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3),g=a.B(4).M(),
l=a.B(5),n=a.B(6),p=a.B(7).Ia;return()=>((Math.abs(f(c.$()))+e(h.$()))/2+Math.abs(g(l.$()))-n.$())/p.wa()+.5},a=>{const f=a.B(0).Ia;return()=>Math.ceil(f.wa())},a=>{const f=a.B(0).M(),c=a.B(1).Ia,e=a.B(2).M();return()=>10*(f(c.wa())/e(2))},a=>{const f=a.B(0).M(),c=a.B(1).Ia,e=a.B(2).Ia,h=a.B(3).M(),g=a.B(4).M(),l=a.B(5),n=a.B(6).Ia,p=a.B(7).M(),q=a.B(8).M(),r=a.B(9),x=a.B(10).Ia;return()=>d.fa(Math.round(f()/(c.wa()/100))*(e.wa()/100),h()/2+g(l.$())-n.wa()/2,p()/2+q(r.$())+x.wa()/2)},a=>{const f=
a.B(0).M(),c=a.B(1).M(),e=a.B(2),h=a.B(3),g=a.B(4).Ia;return()=>(f()/2+c(e.$())-h.$())/g.wa()+.5},()=>"Mouse_Settings",()=>"Fullscreen_Settings",()=>"Screen_Size_Settings",a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>f()/c()},a=>{const f=a.B(0).M(),c=a.B(1).M();return()=>f()/c()/2},a=>{const f=a.B(0).Ia;return()=>15*f.wa()},()=>"Orientation_Settings",()=>"Orientation",()=>"Please set your device to landscape orientation to play this game properly!",()=>"Buttons_Animation_Settings",()=>.9,()=>"Shadow_Settings",
()=>"Shadow",a=>{const f=a.B(0).M();return()=>f("Shadow")+6},a=>{const f=a.B(0).M();return()=>f("Shadow")-6},()=>"Shadow_Out",()=>"Menu_Settings",a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())-e.ng()/2-h.wa()},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())+e.$()/1.5+h.wa()},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())-2.6*e.ng()-h.wa()},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())-1.4*e.ng()-h.wa()},
a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())+1.5*e.ng()+2*h.wa()},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2),h=a.B(3).Ia;return()=>f(c.$())-1.5*e.ng()-2*h.wa()},()=>"Button_Player_VS_Time",()=>"Button_Player_VS_Player",()=>"Button_More_Games",()=>"https://codecanyon.net/user/muscle-ss/portfolio?ref=Muscle-SS",()=>"More_Games",()=>"Button_Exit",()=>"Game_Complete_Settings",a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3);return()=>(f(c.$())+e(h.$()))/2-180},a=>{const f=
a.B(0),c=a.B(1),e=a.B(2);return()=>f.$()+c.$()/2+e.$()/2},a=>{const f=a.B(0).M(),c=a.B(1),e=a.B(2).M(),h=a.B(3);return()=>(f(c.$())+e(h.$()))/2+180},()=>"Button_Restart",()=>"Button_Facebook",a=>{const f=a.B(0).Ia;return()=>b("https://www.facebook.com/sharer/sharer.php?u=https://codecanyon.net/user/muscle-ss/portfolio?ref=Muscle-SS&title=Pool 8 Ball&description=I love this game, I scored the most points:",f.wa())+"&image=https://s3.envato.com/files/204992038/Muscle-SS.png"},()=>"Facebook",()=>"Button_Twitter",
()=>"https://twitter.com/share?&text=Pool 8 Ball&url=https://codecanyon.net/user/muscle-ss/portfolio?ref=Muscle-SS",()=>"Twitter",()=>"Button_Google_Plus",()=>"https://plus.google.com/share?url=https://codecanyon.net/user/muscle-ss/portfolio?ref=Muscle-SS",()=>"Google_Plus"]};
